(self.webpackChunkvk=self.webpackChunkvk||[]).push([[77433],{254632:(e,t,r)=>{"use strict";r.d(t,{useInView:()=>u});var n=r(667294);const i=new Map,a=new WeakMap;let o,s=0;function d(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(r=e.root,r?(a.has(r)||(s+=1,a.set(r,s.toString())),a.get(r)):"0"):e[t]}`;var r})).toString()}function l(e,t,r={},n=o){if(void 0===window.IntersectionObserver&&void 0!==n){const i=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:a,observer:s,elements:l}=function(e){let t=d(e),r=i.get(t);if(!r){const n=new Map;let a;const o=new IntersectionObserver((t=>{t.forEach((t=>{var r;const i=t.isIntersecting&&a.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(r=n.get(t.target))||r.forEach((e=>{e(i,t)}))}))}),e);a=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:o,elements:n},i.set(t,r)}return r}(r);let c=l.get(e)||[];return l.has(e)||l.set(e,c),c.push(t),s.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(l.delete(e),s.unobserve(e)),0===l.size&&(s.disconnect(),i.delete(a))}}class c extends n.Component{constructor(e){super(e),this.node=null,this._unobserveCb=null,this.handleNode=e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()},this.handleChange=(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),isPlainChildren(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)},this.state={inView:!!e.initialInView,entry:void 0}}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve(),this.node=null}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:r,trackVisibility:n,delay:i,fallbackInView:a}=this.props;this._unobserveCb=l(this.node,this.handleChange,{threshold:e,root:t,rootMargin:r,trackVisibility:n,delay:i},a)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){if(!isPlainChildren(this.props)){const{inView:e,entry:t}=this.state;return this.props.children({inView:e,entry:t,ref:this.handleNode})}const e=this.props,{children:t,as:r}=e,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(0;n<a.length;n++)a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,_excluded);return n.createElement(r||"div",_extends({ref:this.handleNode},i),t)}}function u({threshold:e,delay:t,trackVisibility:r,rootMargin:i,root:a,triggerOnce:o,skip:s,initialInView:d,fallbackInView:c,onChange:u}={}){var p;const[v,h]=n.useState(null),f=n.useRef(),[m,_]=n.useState({inView:!!d,entry:void 0});f.current=u,n.useEffect((()=>{if(s||!v)return;let n=l(v,((e,t)=>{_({inView:e,entry:t}),f.current&&f.current(e,t),t.isIntersecting&&o&&n&&(n(),n=void 0)}),{root:a,rootMargin:i,threshold:e,trackVisibility:r,delay:t},c);return()=>{n&&n()}}),[Array.isArray(e)?e.toString():e,v,a,i,o,s,r,c,t]);const g=null==(p=m.entry)?void 0:p.target;n.useEffect((()=>{v||!g||o||s||_({inView:!!d,entry:void 0})}),[v,g,o,s,d]);const b=[h,m.inView,m.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}},717941:(e,t,r)=>{"use strict";r.d(t,{usePrevious:()=>p,useDidUpdate:()=>v,useActualEffectCleanup:()=>h,useDebounced:()=>f,useOnline:()=>m,OnlinesProvider:()=>g,useDispatch:()=>b,DispatchProvider:()=>k,useHelpHints:()=>w,HelpHintsProvider:()=>C,useTypings:()=>A,TypingsProvider:()=>P,usePixelDensity:()=>M,matchAddEventListener:()=>E,useNow:()=>F,usePeers:()=>U,PeersProvider:()=>R,useConvos:()=>N,ConvosProvider:()=>D,useChannels:()=>V,ChannelsProvider:()=>B,useFeatureFlags:()=>q,FeatureFlagsProvider:()=>G,useOwner:()=>K,OwnerProvider:()=>W,useViewer:()=>$,ViewerProvider:()=>Y,useVideoMessageShapes:()=>J,VideoMessageShapesProvider:()=>Z,useBrowserEnv:()=>Q,BrowserEnvProvider:()=>te,useViewport:()=>re,useRead:()=>ie,useCombinedRefs:()=>ae,InsertIntoCacheProvider:()=>se,useInsertIntoCache:()=>de,ConvosSearchIndexProvider:()=>ce,useConvosSearchIndex:()=>ue});var n=r(722122),i=r(667294),a=r(254632),o=r(529122),s=r(825759),d=r(701069),l=r(766278);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){var t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e}),[e]),t.current}function v(e,t){var r=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(r.current)return e()}),t),(0,i.useEffect)((()=>{r.current=!0}),[])}function h(e,t){var r=(0,i.useRef)(t);r.current=t,(0,i.useEffect)((()=>()=>{t.some(((e,t)=>e!==r.current[t]))&&e()}),[...t,e]);var n=(0,i.useRef)(e);n.current=e,(0,i.useEffect)((()=>()=>{n.current()}),[])}function f(e,t){var r=(0,i.useState)({debounced:e,debouncedUpdatesCount:0}),a=r[0],o=r[1];return(0,i.useLayoutEffect)((()=>{if(0!==t){var r=setTimeout((()=>{o((t=>{var r=t.debouncedUpdatesCount;return{debounced:e,debouncedUpdatesCount:r+1}}))}),t);return()=>{clearTimeout(r)}}o((t=>(0,n.default)({},t,{debounced:e})))}),[e,t]),a}function m(e){var t=(0,i.useContext)(_);return!!o.isUserPeerId(e)&&t.has(e)}var _=i.createContext(new Set),g=_.Provider;function b(){var e=(0,i.useContext)(y);if(!e)throw new Error("DispatchProvider не добавлен в дерево Реакта!");return e}var y=i.createContext(null),k=y.Provider;function w(){var e=(0,i.useContext)(I);if(void 0===e)throw new Error("HelpHintsProvider не добавлен в дерево Реакта!");return e}var I=i.createContext(new Set),C=I.Provider;function A(e,t,r){void 0===t&&(t="full"),void 0===r&&(r=3);var n=(0,i.useContext)(S),a=U(),s=Q().lang,d=n.get(e);if(d){for(var u,p=[],v=new Set,h=c(l.TypingVariants);!(u=h()).done;){var f=u.value,m=d[f];m&&(p.push(f),m.peerIds.forEach((e=>v.add(e))))}var _=p.length>1?"text":p[0]||"text";if(0===r)return{text:s.use(`me_typing_${_}`),type:_};for(var g,b,y=[],k=c(v);!(g=k()).done;){var w=g.value,I=a.get(w);if(I&&(y.push(I),y.length===r))break}var C=v.size-y.length;switch(!0){case 0===y.length&&C>0:b=s.use("me_typing_people",{num:C});break;case C>0:b=y.map((e=>o.shortName(e))).join(", "),b=s.use("me_typing_names_lots",{num:C,values:{names:b}});break;case y.length>1:var A=y.length>r-1?y.slice(0,r-1).map((e=>o.shortName(e))).join(", "):y[0]?o.shortName(y[0]):"",P=y[y.length-1],x=P?o.shortName(P):"";b=s.use("me_typing_names_couple",{values:{before:A,after:x}});break;case 1===y.length:b=y[0]?o.shortName(y[0]):"";break;default:b=""}return{text:"compact"===t?b:s.use(`me_typing_${_}_named`,{num:y.length,values:{names:b}}),type:_}}}var S=i.createContext(new Map),P=S.Provider,x=()=>window.devicePixelRatio>=1.25;function M(){var e=(0,i.useState)(x),t=e[0],r=e[1];return(0,i.useEffect)((()=>E(window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),(()=>{r(x)}))),[]),t}function E(e,t){try{return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}catch(r){return e.addListener(t),()=>{e.removeListener(t)}}}function F(e){void 0===e&&(e=6e4);var t=(0,i.useState)(Date.now),r=t[0],n=t[1];return(0,i.useLayoutEffect)((()=>{var t=setInterval((()=>{n(Date.now())}),e);return()=>clearInterval(t)}),[e]),r}function U(){return(0,i.useContext)(T)}var T=i.createContext(new Map),R=T.Provider;function N(){return(0,i.useContext)(O)}var O=i.createContext(new Map),D=O.Provider;function V(){return(0,i.useContext)(L)}var L=i.createContext(new Map),B=L.Provider;function q(){var e=(0,i.useContext)(j);if(!e)throw new Error("FeatureFlagsProvider не добавлен в дерево Реакта!");return e}var j=i.createContext(null),G=j.Provider;function K(){var e=(0,i.useContext)(H);if(!e)throw new Error("OwnerProvider не добавлен в дерево Реакта!");return e}var H=i.createContext(null),W=H.Provider;function $(){var e=(0,i.useContext)(z);if(!e)throw new Error("ViewerProvider не добавлен в дерево Реакта!");return e}var z=i.createContext(null),Y=z.Provider;function J(){return(0,i.useContext)(X)}var X=i.createContext(new Map),Z=X.Provider;function Q(){var e=(0,i.useContext)(ee);if(!e)throw new Error("BrowserEnvProvider не добавлен в дерево Реакта!");return e}var ee=i.createContext(null),te=ee.Provider;function re(e){var t=e.debounced,r=void 0!==t&&t,n=(0,i.useState)(ne),a=n[0],o=n[1],s=(0,i.useRef)((0,d.debounce)(o,300,!1));return(0,i.useLayoutEffect)((()=>{var e=s.current,t=()=>{r?e(ne()):o(ne())};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),r&&e.cancel()}}),[r]),a}function ne(){return"undefined"==typeof window?[0,0]:[document.documentElement.clientWidth,document.documentElement.clientHeight]}function ie(e){var t=e.isUnread,r=e.isOut,n=e.onRead,o=Q().idle,s=(0,i.useState)((()=>o.isIdle())),d=s[0],l=s[1],c=(0,a.useInView)({threshold:.01}),u=c.ref,p=c.inView;return(0,i.useEffect)((()=>o.subscribe((()=>{l(o.isIdle())}))),[o]),(0,i.useEffect)((()=>{if(p&&!d&&t){var e=setTimeout(n,500);return()=>clearTimeout(e)}}),[p,d,n,r,t]),u}function ae(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=(0,i.useRef)(null);return i.useEffect((()=>{t.forEach((e=>{e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[t]),n}var oe=i.createContext(null),se=oe.Provider;function de(){var e=(0,i.useContext)(oe);if(!e)throw new Error("InsertIntoCacheProvider не добавлен в дерево Реакта!");return e}var le=i.createContext(s.create()),ce=le.Provider;function ue(){return(0,i.useContext)(le)}},792109:(e,t,r)=>{"use strict";r.d(t,{UIConfigProvider:()=>d,useLayoutData:()=>l,useDeviceData:()=>c,LayoutDataProvider:()=>p});var n=r(667294),i=r(86894),a=r(717941),o=r(701069),s=r(440469),d=e=>{var t=e.scheme,r=void 0===t?"VKCOM":t,d=e.theme,l=void 0===d?"system":d,c=e.children,u=e.locale,v=e.onThemeUpdated,h=(0,n.useState)("system"!==l?l:"light"),f=h[0],m=h[1],_=(0,n.useRef)(null),g=(0,n.useCallback)((e=>{m(e.matches?"dark":"light")}),[]);(0,n.useEffect)((()=>{var e=window.matchMedia("(prefers-color-scheme: dark)");switch(l){case"light":case"dark":m(l),null==_.current||_.current();break;case"system":_.current=(0,a.matchAddEventListener)(e,g),m(e.matches?"dark":"light");break;default:(0,o.exhaustivenessCheck)(l)}}),[g,l]),(0,n.useEffect)((()=>()=>null==_.current?void 0:_.current()),[]),(0,n.useLayoutEffect)((()=>{null==v||v(f)}),[v,f]),(0,n.useEffect)((()=>{var e=s.BounceDisabler.supported()?new s.BounceDisabler:void 0;return null==e||e.enable(),()=>{null==e||e.disable()}}),[]);var b="VKCOM"===r?"light"===f?"vkcom_light":"vkcom_dark":"light"===f?i.Scheme.BRIGHT_LIGHT:i.Scheme.SPACE_GRAY,y=(0,a.useViewport)({debounced:!0})[0]<640?"one-column":"two-column";return n.createElement(i.ConfigProvider,{locale:u,platform:i.Platform.IOS,scheme:b},n.createElement(i.ConfigProvider,{locale:u,platform:i.Platform.VKCOM,scheme:"inherit"},n.createElement(i.AdaptivityProvider,null,n.createElement(p,{value:{mode:y}},c))))};function l(){var e=(0,n.useContext)(u);if(!e)throw new Error("LayoutDataContext не добавлен в дерево Реакта!");return e}function c(){return{isTouchOnly:!(0,i.useAdaptivity)().deviceHasHover}}var u=n.createContext(null),p=u.Provider},440469:(e,t,r)=>{"use strict";r.d(t,{BounceDisabler:()=>i});var n=r(701069);class i{constructor(){this.startX=0,this.startY=0}onTouchMove(e){var t=a(e);if(e.target&&t&&!function(e){var t=window.innerWidth/window.document.documentElement.clientWidth;if(1===e.length)return!1;return 1!==t}(t)&&!function(e,t,r){var n=10,i=r[0],a=i.screenY,o=i.screenX,s=a<=t+n&&a>=t-n;return e!==o&&s}(this.startX,this.startY,t)){for(var r=e.target;r!==document.body;){if(o(r))return;var n=s(r);if(n)return void(n(this.startY,t[0].screenY)&&e.preventDefault());var i=r.parentElement;if(!i)break;r=i}e.preventDefault()}}onTouchStart(e){var t=a(e);t&&(this.startX=t[0].screenX,this.startY=t[0].screenY)}enable(){window.addEventListener("touchstart",this.onTouchStart,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1})}disable(){window.removeEventListener("touchstart",this.onTouchStart,!1),window.removeEventListener("touchmove",this.onTouchMove,!1)}static supported(){try{var e=document.createElement("div");document.documentElement.appendChild(e),e.style.WebkitOverflowScrolling="touch";var t="getComputedStyle"in window&&"touch"===window.getComputedStyle(e).getPropertyValue("-webkit-overflow-scrolling");return document.documentElement.removeChild(e),t}catch(e){return console.error(e),!1}}}function a(e){return(0,n.toNonEmpty)(Array.from(e.touches))}function o(e){return"INPUT"===e.nodeName&&"range"===e.getAttribute("type")}function s(e){var t=window.getComputedStyle(e),r=t.getPropertyValue("-webkit-overflow-scrolling"),n=t.getPropertyValue("overflow-y"),i=parseInt(t.getPropertyValue("height"),10),a="touch"===r&&("auto"===n||"scroll"===n),o=e.scrollHeight>e.offsetHeight;return!(!a||!o)&&((t,r)=>{var n=t>=r,a=t<=r&&0===e.scrollTop,o=n&&e.scrollHeight-e.scrollTop===i;return a||o})}},623897:(e,t,r)=>{"use strict";function n(e,t,r){return encodeURIComponent(`${"app"+e+(r?"_"+r:"")}#${t}`)}function i(e){return e}r.d(t,{createAppUrl:()=>n,resolveId:()=>i})},98310:(e,t,r)=>{"use strict";function n(e){return!Number.isNaN(e)&&e||(e=0),e}r.d(t,{resolveId:()=>n})},871183:(e,t,r)=>{"use strict";function n(e){return!Number.isNaN(e)&&e||(e=0),e}r.d(t,{resolveId:()=>n})},665644:(e,t,r)=>{"use strict";function n(e){return Number.isNaN(e)&&(e=0),e}function i(e){return Number.isNaN(e)&&(e=0),e}r.d(t,{resolveStickerPackId:()=>n,resolveStickerId:()=>i})},880366:(e,t,r)=>{"use strict";r.d(t,{dictionaryLatinConvert:()=>c,toTranslit:()=>u,toLocalCase:()=>p});var n=r(722122);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o={u1072:"a",u1073:"b",u1074:"v",u1075:"g",u1076:"d",u1077:"e",u1105:"yo",u1078:"zh",u1079:"z",u1080:"i",u1081:"y",u1082:"k",u1083:"l",u1084:"m",u1085:"n",u1086:"o",u1087:"p",u1088:"r",u1089:"s",u1090:"t",u1091:"u",u1092:"f",u1093:"kh",u1094:"ts",u1095:"ch",u1096:"sh",u1097:"shch",u1098:"'",u1099:"y",u1100:"'",u1101:"e",u1102:"yu",u1103:"ya"},s=(0,n.default)({},o,{u1093:"h",u1097:"sh",u1098:"",u1100:"",u1105:"e"}),d={u102:"а",u44:"б",u100:"в",u117:"г",u108:"д",u116:"е",u92:"ё",u59:"ж",u112:"з",u98:"и",u113:"й",u114:"к",u107:"л",u118:"м",u121:"н",u106:"о",u103:"п",u104:"р",u99:"с",u110:"т",u101:"у",u97:"ф",u91:"х",u119:"ц",u120:"ч",u105:"ш",u111:"щ",u93:"ъ",u109:"ь",u115:"ы",u39:"э",u46:"ю",u122:"я",u60:"б",u126:"ё",u58:"ж",u123:"х",u125:"ъ",u34:"э",u62:"ю",u64:'"',u35:"№",u36:";",u37:"%",u94:":",u38:"?",u63:",",u47:"."},l={yo:"ё",YO:"Ё",zh:"ж",ZH:"Ж",kh:"х",KH:"Х",ts:"ц",TS:"Ц",ch:"ч",CH:"Ч",sch:"щ",SCH:"Щ",shch:"щ",SHCH:"Щ",sh:"ш",SH:"Ш",eh:"э",EH:"Э",yu:"ю",YU:"Ю",ya:"я",YA:"Я","'":"ь",a:"а",A:"А",b:"б",B:"Б",v:"В",g:"г",G:"Г",d:"д",D:"Д",e:"е",E:"Е",z:"з",Z:"З",i:"и",I:"И",j:"й",J:"Й",k:"к",K:"К",l:"л",L:"Л",m:"м",M:"М",n:"н",N:"Н",o:"о",O:"О",p:"п",P:"Р",r:"р",R:"Р",s:"с",S:"С",t:"т",T:"Т",u:"у",U:"У",f:"ф",F:"Ф",h:"х",H:"Х",c:"ц",C:"Ц",y:"ы",Y:"Ы"};function c(e){return function(e){var t=e.dictionary,r=e.value;return Object.entries(t).reduce(((e,t)=>{var r=t[0],n=t[1];return e.replace(new RegExp(r,"g"),n)}),r)}({value:e.value,dictionary:l})}function u(e,t){e=e.toLowerCase().trim();var r=[o,s];return t&&r.push(d),r.reduce(((t,r)=>{var n=v(e,r);return n===e||t.includes(n)||t.push(n),t}),[])}function p(e){return v(e=e.toLowerCase().trim(),d)}function v(e,t){for(var r,n="",a=i(e);!(r=a()).done;){var o=r.value,s=t["u"+o.codePointAt(0)];n+=void 0!==s?s:o}return n}},825759:(e,t,r)=>{"use strict";r.d(t,{create:()=>l,add:()=>c,search:()=>u,peerWords:()=>h});var n=r(880366),i=r(701069),a=r(857604);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=Symbol("items");function l(){return{[d]:new Set}}function c(e,t,r){if(Array.isArray(t))t.forEach((t=>c(e,t,r)));else{var n=r(t),i=n.id,o=n.strings;(0,a.getWordsVariants)(o).forEach((t=>{var r=e;r[d].add(i),Array.from(t.trim().toLowerCase()).forEach((e=>{var t=r[e];t||(t=r[e]=l()),t[d].add(i),r=t}))}))}return e}function u(e,t){var r=p(e,f(t)),i=p(e,f(n.toLocalCase(t))),a=p(e,n.toTranslit(t));return new Set([...r,...i,...a])}function p(e,t){for(var r,n=null,i=o(t);!(r=i()).done;){var a=v(e,r.value);if(n)for(var s,d=o(n);!(s=d()).done;){var l=s.value;a.has(l)||n.delete(l)}else n=new Set([...a])}return n||new Set}function v(e,t){for(var r,n=e,i=o(t.trim().toLowerCase());!(r=i()).done;){var a=n[r.value];if(!a)return new Set;n=a}return n[d]}function h(e){var t=[];switch(e.kind){case"Chat":t.push(...f(e.title));break;case"Group":e.screenName&&t.push(e.screenName),t.push(...f(e.name));break;case"User":e.screenName&&t.push(e.screenName),t.push(...f(e.firstName)),t.push(...f(e.lastName));break;case"Contact":t.push(...f(e.name));break;default:(0,i.exhaustivenessCheck)(e)}return t}function f(e){return e.trim().toLowerCase().split(/\s+/g)}},857604:(e,t,r)=>{"use strict";r.d(t,{getWordsVariants:()=>o});var n=r(880366);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){for(var t,r=[],a=function(e){var t=e.replace(/ё/g,"е").replace(/Ё/g,"Е");t!==e&&r.push(t),n.toTranslit(e,!0).forEach((t=>{t!==e&&r.push(t)})),r.push(e)},o=i(e);!(t=o()).done;){a(t.value)}return r}},22930:(e,t,r)=>{"use strict";r.d(t,{UNKNOWN_SHAPE_ID:()=>v,fromApiAttach:()=>h,fromApiConvoAttach:()=>f,fromApiWallAttach:()=>m,fromApiWallReplyAttach:()=>_,fromApiDoc:()=>b,fromApiPhoto:()=>y,fromApiVideo:()=>k,fromApiAudio:()=>S,fromApiVoice:()=>P,fromApiPoll:()=>O,fromApiPollBackgroundGradient:()=>D,apiAttachWallOwnerId:()=>L});var n=r(419756),i=r(722122),a=r(228450),o=r(529122),s=r(194739),d=r(335571),l=r(701069),c=r(466315);function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=-1;function h(e,t){if(0===e.length)return{};for(var r,n,s,p,v,h,f,I,x,F,D,V,j,G,K,H,W,$,z={},Y=e=>{z.unknown=[...z.unknown||[],{data:e,kind:"Unknown"}]},J=u(e);!(r=J()).done;){var X=r.value;switch(X.type){case"photo":if(!X.photo){Y(X);break}var Z=y(X.photo,t);if(!Z){Y(X);break}z.photos=[...z.photos||[],Z];break;case"audio":if(!X.audio){Y(X);break}var Q=S(X.audio);z.audios=[...z.audios||[],Q];break;case"video":if(!X.video){Y(X);break}var ee=k(X.video,t);if(!ee){Y(X);break}z.videos=[...z.videos||[],ee];break;case"doc":if(!X.doc){Y(X);break}var te=b(X.doc);if(!te){Y(X);break}z.docs=[...z.docs||[],te];break;case"link":if(!X.link){Y(X);break}var re=g(X.link);if(!re){Y(X);break}if(a.isChatInviteLink(re.url)&&re.image){z.inviteLink=(e=>e.image&&(0,i.default)({},e,{image:e.image,kind:"InviteLink"}))(re);break}z.link=re;break;case"market":if(!X.market){Y(X);break}z.market={kind:"Market",id:($=X.market).id,ownerId:$.owner_id,isService:!!$.is_price_list_service,title:$.title,price:$.price.text,priceOld:$.price.old_amount_text,photo:$.thumb_photo};break;case"market_album":if(!X.market_market_album){Y(X);break}z.marketAlbum={kind:"MarketAlbum"};break;case"gift":if(!X.gift){Y(X);break}var ne=A(X.gift);if(!ne){Y(X);break}z.gift=ne;break;case"sticker":if(!X.sticker){Y(X);break}var ie=(0,c.fromApiSticker)(X.sticker);if(!ie){Y(X);break}z.sticker=ie;break;case"wall":if(!X.wall||!X.wall.from_id||!X.wall.id){Y(X);break}X.wall.geo&&(X.wall.attachments=[...X.wall.attachments||[],{type:"geo",geo:X.wall.geo}]);var ae=L(X.wall);if(!ae){Y(X);break}z.wall={kind:"Wall",authorId:o.resolveId(X.wall.from_id),ownerId:o.resolveId(ae),id:X.wall.id,date:1e3*(X.wall.date||0),chunks:d.fromServerText(X.wall.text||""),attaches:m(X.wall)};break;case"wall_reply":if(!(X.wall_reply&&X.wall_reply.from_id&&X.wall_reply.id&&X.wall_reply.post_id)){Y(X);break}var oe=L(X.wall_reply);if(!oe){Y(X);break}z.wallReply={kind:"WallReply",id:X.wall_reply.id,postId:X.wall_reply.post_id,authorId:o.resolveId(X.wall_reply.from_id),ownerId:o.resolveId(oe),parentsStack:X.wall_reply.parents_stack,date:1e3*(X.wall_reply.date||0),chunks:d.fromServerText(X.wall_reply.text||""),attaches:_(X.wall_reply.attachments||[])};break;case"article":if(!X.article){Y(X);break}z.article=w(X.article);break;case"poll":if(!X.poll){Y(X);break}z.poll=O(X.poll);break;case"graffiti":if(!X.graffiti){Y(X);break}z.graffiti={kind:"Graffiti",imageUrl:X.graffiti.url,width:X.graffiti.width,height:X.graffiti.height};break;case"audio_message":if(!X.audio_message){Y(X);break}z.voice=P(X.audio_message);break;case"audio_playlist":if(!X.audio_playlist){Y(X);break}z.audioPlaylist={kind:"AudioPlaylist",id:(W=X.audio_playlist).id,ownerId:W.owner_id,type:M[W.type],title:W.title,accessKey:W.access_key,image:C(W.photo,"photo")};break;case"podcast":if(!X.podcast){Y(X);break}z.podcast=(D=X.podcast,V=void 0,j=void 0,G=void 0,K=void 0,H=void 0,G=null==(V=D.podcast_info)||null==(j=V.cover)?void 0:j.sizes,K=G&&E(G).values(),H=K&&(0,l.toNonEmpty)([...K])||void 0,{kind:"Podcast",id:D.id,ownerId:D.owner_id,title:D.title,image:H});break;case"money_transfer":if(!X.money_transfer){Y(X);break}z.moneyTransfer=(x=X.money_transfer,F=void 0,{kind:"MoneyTransfer",text:(null==(F=x.amount)?void 0:F.text)||""});break;case"money_request":if(!X.money_request){Y(X);break}z.moneyRequest={kind:"MoneyRequest",id:(I=X.money_request).id,toId:I.to_id,fromId:I.from_id,text:I.amount.text,initUrl:I.init_url,isUserOwner:!!I.user_is_owner,isProcessed:!!I.processed};break;case"story":if(!X.story){Y(X);break}z.story=(p=X.story,v=void 0,h=void 0,f=void 0,v=!!p.is_expired,h=!!p.is_restricted,f=!v&&0!==p.can_see,{kind:"Story",id:p.id,ownerId:p.owner_id,date:void 0!==p.date?1e3*p.date:void 0,restricted:h,expired:v,available:f,photo:p.photo&&y(p.photo),video:p.video&&k(p.video)});break;case"geo":if(!X.geo||!X.geo.coordinates){Y(X);break}z.geo={kind:"Geo",coordinates:X.geo.coordinates,place:X.geo.place};break;case"call":if(!X.call){Y(X);break}var se=T(X.call);if(!se){Y(X);break}z.finishedCall=se;break;case"group_call_in_progress":if(!X.group_call_in_progress){Y(X);break}z.activeCall=(n=X.group_call_in_progress,s=void 0,{kind:"ActiveCall",initiatorId:n.initiator_id,joinLink:n.join_link,participants:{list:null==(s=n.participants.list)?void 0:s.map(o.resolveId),count:n.participants.count||0,coverList:U(n)}});break;case"mini_app":if(!X.mini_app){Y(X);break}var de=R(X.mini_app);if(!de){Y(X);break}z.miniApps=[...z.miniApps||[],de];break;case"donut_link":if(!X.donut_link){Y(X);break}var le=N(X.donut_link);if(!le){Y(X);break}z.donutLink=le;break;case"video_message":if(!X.video_message){Y(X);break}z.videoMessage=B(X.video_message);break;case"widget":if(!X.widget){Y(X);break}z.widget=q(X.widget);break;case"narrative":case"artist":case"event":case"curator":case"group":case"link_curator":case"video_playlist":case"app_action":Y(X);break;default:X.type;Y(X)}}return z}function f(e){for(var t,r={},n=u(e);!(t=n()).done;){var i=t.value;switch(i.attachment.type){case"photo":if(!i.attachment.photo)break;var a=y(i.attachment.photo,i.attachment.photo.access_key);if(!a)break;var d={attach:a,cmid:s.resolveCmid(i.message_id),messageId:s.resolveId(i.message_id),peerId:o.resolveId(i.from_id),date:i.date};r.photos=(r.photos||[]).concat(d);break;case"audio":if(!i.attachment.audio)break;var l={attach:S(i.attachment.audio),cmid:s.resolveCmid(i.message_id),messageId:s.resolveId(i.message_id),peerId:o.resolveId(i.from_id),date:i.date};r.audios=(r.audios||[]).concat(l);break;case"video":if(!i.attachment.video)break;var c=k(i.attachment.video,i.attachment.video.access_key);if(!c)break;var p={attach:c,cmid:s.resolveCmid(i.message_id),messageId:s.resolveId(i.message_id),peerId:o.resolveId(i.from_id),date:i.date};r.videos=(r.videos||[]).concat(p);break;case"doc":if(!i.attachment.doc)break;var v=b(i.attachment.doc);if(!v)break;var h={attach:v,cmid:s.resolveCmid(i.message_id),messageId:s.resolveId(i.message_id),peerId:o.resolveId(i.from_id),date:i.date};r.docs=(r.docs||[]).concat(h);break;case"link":if(!i.attachment.link)break;var f=g(i.attachment.link);if(!f)break;var m={attach:f,cmid:s.resolveCmid(i.message_id),messageId:s.resolveId(i.message_id),peerId:o.resolveId(i.from_id),date:i.date};r.links=(r.links||[]).concat(m);break;case"audio_message":case"app_action":case"graffiti":case"market":case"share":case"wall":break;default:i.attachment.type}}return r}function m(e){var t=e.geo,r=e.attachments,n=e.copy_history,a=e.access_key,s=[];t&&(null==r||r.push({type:"geo",geo:t}));for(var d,l=u(r||[]);!(d=l()).done;){var c=d.value;switch(c.type){case"photo":case"audio":case"video":case"doc":case"link":case"mini_app":case"sticker":case"market":case"article":case"poll":case"audio_playlist":case"podcast":case"market_album":case"donut_link":case"graffiti":s.push({type:c.type,[c.type]:c[c.type]});break;case"geo":var p,v,f;if(!c.geo)break;var m=null==(p=c.geo.coordinates)?void 0:p.split(" ").map((e=>parseFloat(e)));s.push({type:"geo",geo:(0,i.default)({},c.geo,{place:{title:null==(v=c.geo.place)?void 0:v.title,address:null==(f=c.geo.place)?void 0:f.address},coordinates:m&&m[0]&&m[1]?{latitude:m[0],longitude:m[1]}:void 0})});break;case"textlive":case"textpost":case"textpost_publish":case"posted_photo":case"note":case"app":case"page":case"album":case"event":case"situational_theme":case"group":case"artist":case"curator":case"photos_list":case"pretty_cards":case"narrative":case"video_playlist":break;default:c.type}}var _=h(s,a);if(null==n?void 0:n[0]){var g=L(n[0]);_.wallHistory={kind:"WallHistory",id:n[0].id||0,authorId:o.resolveId(n[0].from_id),ownerId:o.resolveId(g),date:1e3*(n[0].date||0),text:n[0].text||""}}return _}function _(e){for(var t,r=[],n=u(e);!(t=n()).done;){var i=t.value;switch(i.type){case"photo":case"audio":case"video":case"doc":case"link":case"sticker":case"market":case"graffiti":case"market_album":case"geo":r.push({type:i.type,[i.type]:i[i.type]});break;case"note":case"page":case"audio_playlist":case"album":case"app":case"article":case"curator":case"donut_link":case"event":case"group":case"mini_app":case"narrative":case"photos_list":case"poll":case"posted_photo":case"pretty_cards":case"video_playlist":case"situational_theme":case"textlive":case"textpost":case"textpost_publish":case"podcast":case"artist":break;default:i.type}}return h(r)}function g(e){if(e.title){var t=e.url,r=/^https:\/\/m\.vk\.com(.+)/;if(r.test(e.url)){var n=e.url.match(r);t=n&&n[1]?n[1]:t}return{kind:"Link",url:t,title:e.title,meta:e.caption||t,image:e.photo?E(e.photo.sizes||[]):void 0}}}function b(e){var t,r,n;if(e.url){var a=!!(null==(t=e.preview)||null==(r=t.photo)||null==(n=r.sizes)?void 0:n.length)&&E(e.preview.photo.sizes.map((e=>(0,i.default)({},e,{url:e.src}))));return(0,i.default)({kind:"Doc",id:e.id,ownerId:e.owner_id,title:e.title,size:e.size,ext:e.ext,date:e.date,url:e.url},a&&{image:a})}}function y(e,t){var r;if(e.sizes)return{kind:"Photo",accessKey:e.access_key,albumId:e.album_id,id:e.id,ownerId:e.owner_id,hasTags:e.has_tags,sizes:E(e.sizes),originalImage:null==(r=e.orig_photo)?void 0:r.url,messageAccessKey:t}}function k(e,t){if(e.id&&e.owner_id){var r=F(e.image||[{url:"",height:0,width:0}]);if(r)return{kind:"Video",accessKey:e.access_key,id:e.id,ownerId:e.owner_id,duration:e.duration,width:e.width,height:e.height,image:r,title:e.title,views:e.views||0,restriction:e.restriction,files:"files"in e?e.files:void 0,messageAccessKey:t,player:e.player,platform:e.platform}}}function w(e){var t,r;switch(e.state){case"available":case"banned":case"deleted":case"paid":case"protected":t=e.state;break;case void 0:t="unknown";break;default:e.state;t="unknown"}return e.photo?r=E(e.photo.sizes||[]):e.owner_photo&&(r=E([{type:"o",width:0,height:0,url:e.owner_photo}])),{kind:"Article",state:t,url:e.url||"",title:e.title||"",author:e.owner_name||"",meta:e.subtitle||"",image:r}}var I={thumb:[48,96,256,512],photo:[34,68,135,270,300,600,1200],unknown:[]};function C(e,t){if(e){var r=I[t].reduce(((r,n)=>{var i=e[`${t}_${n}`];return i?(r.push({url:i,width:n,height:n}),r):r}),[]),n=r[0],i=r.slice(1);return n?[n,...i]:void 0}}function A(e){var t=C(e,"thumb");if(t)return{kind:"Gift",id:e.id,isStickerStyle:!!e.is_stickers_style,image:t}}function S(e){var t;return{kind:"Audio",id:e.id,ownerId:e.owner_id,artist:e.artist,title:e.title,subtitle:e.subtitle,url:e.url,duration:e.duration,albumId:e.album_id,trackCode:e.track_code,contentRestricted:e.content_restricted,albumPartNumber:e.album_part_number,thumb:null==(t=e.album)?void 0:t.thumb,accessKey:e.access_key}}function P(e){return{kind:"Voice",duration:e.duration,id:e.id,linkMp3:e.link_mp3,linkOgg:e.link_ogg,ownerId:e.owner_id,waveform:e.waveform,isTranscriptPossible:e.duration/60/60<1,transcription:x(e)}}function x(e){switch(e.transcript_state){case"done":var t;return{state:"done",text:null==(t=e.transcript)?void 0:t.trim(),updatedAt:e.transcript_update_time?1e3*e.transcript_update_time:void 0};case"error":case"in_progress":return{state:e.transcript_state};case void 0:return;default:e.transcript_state;return}}var M={0:"playlist",1:"album",2:"playlist",3:"playlist",4:"playlist",5:"playlist"};function E(e){return e.sort(((e,t)=>e.width-t.width)).reduce(((e,t)=>{var r=t.type,a=(t.src,t.url),o=(0,n.default)(t,["type","src","url"]);return void 0===a||"s"!==r&&"m"!==r&&"x"!==r&&"o"!==r&&"p"!==r&&"q"!==r&&"r"!==r&&"y"!==r&&"z"!==r&&"w"!==r||(o.width&&o.height?e.set(r,(0,i.default)({url:a},o)):e.set(r,(0,i.default)({},o,{url:a,width:200,height:200}))),e}),new Map)}function F(e){var t=e.sort(((e,t)=>e.width-t.width)).map((e=>({width:e.width,height:e.height,url:e.url}))),r=t[0],n=t.slice(1);if(r)return[r,...n]}function U(e){var t,r=null==(t=e.participants)?void 0:t.list;return r?r.reduce(((e,t)=>{var r=o.resolveAnyId(t);return(o.isUserPeerId(r)||o.isGroupPeerId(r))&&e.push(r),e}),[]).slice(0,3):[]}function T(e){var t,r,n,i=function(e){switch(e.state){case"reached":return"reached";case"canceled_by_initiator":return"canceledByInitiator";case"canceled_by_receiver":return"canceledByReceiver";default:return}}(e);if(i)return{kind:"FinishedCall",initiatorId:e.initiator_id,duration:e.duration,state:i,participants:{list:null==(t=e.participants)||null==(r=t.list)?void 0:r.map(o.resolveId),count:(null==(n=e.participants)?void 0:n.count)||0,coverList:U(e)}}}function R(e){if(e.app&&e.app.share_url&&e.app.webview_url){var t=(0,l.toNonEmpty)(e.images.map((e=>{var t=e.url,r=e.height;return{width:e.width,height:r,url:t}})));if(t){t.sort(((e,t)=>e.width-t.width));var r=e.app.share_url.replace(/https:\/\/[a-z0-9_\-.]+\//,"");return{kind:"MiniApp",title:e.title,appLink:r,images:t,id:a.resolveMiniAppId(e.app.id),url:e.app.webview_url}}}}function N(e){var t,r,n=o.resolveId(e.owner_id);if(o.isGroupPeerId(n)&&(null==(t=e.action)?void 0:t.url)&&(null==(r=e.button.action)?void 0:r.url)&&e.button.title)return{kind:"DonutLink",ownerId:n,button:{action:{target:"internal",type:"open_url",url:e.button.action.url},title:e.button.title},donorsCount:e.donors.count,text:e.text,action:{target:"internal",type:"open_url",url:e.action.url}}}function O(e){var t,r;return{kind:"Poll",id:e.id,ownerId:o.resolveId(e.owner_id),authorId:void 0!==e.author_id?o.resolveId(e.author_id):o.resolveId(e.owner_id),title:e.question,anonymous:!!e.anonymous,endDate:1e3*e.end_date,answers:e.answers.map((t=>{var r;return{id:t.id,text:t.text,votes:t.votes,rate:t.rate,selected:!!(null==(r=e.answer_ids)?void 0:r.includes(t.id))}})),voted:!!(null==(t=e.answer_ids)?void 0:t.length),canVote:e.can_vote,canChangeVote:!e.disable_unvote,canEdit:e.can_edit,multiple:e.multiple,votes:e.votes,friends:(null==(r=e.friends)?void 0:r.map((e=>o.resolveId(e.id))))||[],backgroundGradient:D(e.background),backgroundPhoto:V(e.photo)}}function D(e){if(e&&"gradient"===e.type){var t=e.points,r=e.angle;if(void 0!==t&&void 0!==r)return{id:e.id||0,points:t.map((e=>"#"+e.color)),angle:r}}}function V(e){if(e&&e.color&&e.images){var t=(0,l.toNonEmpty)(e.images.map((e=>({url:e.url,width:e.width,height:e.height}))));if(t)return{kind:"PollBackgroundPhoto",image:t,color:"#"+e.color}}}function L(e){var t,r=e.owner_id,n=e.source_id,i=e.to_id;return null!=(t=null!=r?r:n)?t:i}function B(e){if(e.id&&e.owner_id){var t=F(e.image||[{url:"",height:0,width:0}]);if(t)return{kind:"VideoMessage",id:e.id,ownerId:e.owner_id,duration:e.duration,shapeId:e.shape_id||v,image:t,files:e.files}}}function q(e){if(e.item.widget_id)return{kind:"Widget",id:e.item.widget_id,data:e}}},605443:(e,t,r)=>{"use strict";r.d(t,{fromApiKeyboard:()=>d,fromEngineKeyboard:()=>l,convertButtons:()=>u,fromApiMessageEvent:()=>v});var n=r(722122),i=r(659397),a=r(623897),o=r(529122),s=r(616963);function d(e,t){var r=c(e.buttons,e.inline),n=o.resolveId(e.author_id||t);return e.inline?{kind:"InlineKeyboard",authorId:n,buttons:r}:{kind:"InputKeyboard",authorId:n,buttons:r,oneTime:e.one_time}}function l(e,t){return e.inline?e.buttons?{kind:"InlineKeyboard",buttons:c(e.buttons,e.inline),authorId:o.resolveId(e.author_id||t)}:void 0:(null==(r=e.buttons)?void 0:r.length)?{kind:"InputKeyboardUpsertEvent",keyboard:{kind:"InputKeyboard",buttons:c(e.buttons,e.inline),authorId:o.resolveId(e.author_id||t),oneTime:e.one_time}}:{kind:"InputKeyboardDeleteEvent"};var r}function c(e,t){return e.map((e=>u(e,t)))}function u(e,t){return e.map((e=>function(e,t){var r,n="positive"===(r=e.color)?"commerce":"negative"===r?"destructive":"primary"===r?r:"secondary";switch(e.action.type){case"text":case"callback":return{type:e.action.type,label:(0,i.unescape)(e.action.label||""),payload:e.action.payload||"",color:n};case"open_link":return{type:e.action.type,link:e.action.link,label:(0,i.unescape)(e.action.label||""),payload:e.action.payload||"",color:n};case"location":return{type:e.action.type,payload:e.action.payload||"",color:n};case"vkpay":return{type:e.action.type,payload:e.action.payload||"",hash:e.action.hash||"",url:a.createAppUrl(s.VK_PAY_APP_ID,e.action.hash||"")};case"open_app":return{type:e.action.type,payload:e.action.payload||"",label:(0,i.unescape)(e.action.label||""),hash:e.action.hash||"",appId:e.action.app_id||0,ownerId:e.action.owner_id||0,color:n,url:a.createAppUrl(e.action.app_id,e.action.hash||"",e.action.owner_id)};case"open_photo":return;default:return void e.action}}(e))).filter(p)}function p(e){return void 0!==e}var v=(e,t,r)=>{var i=r.event_id,s=r.action,d=r.owner_id,l=a.resolveId(i),c=o.resolveId(d);if(!s)return{id:l,type:"null",ownerId:c,peerId:e.id};switch(s.type){case"show_snackbar":return(0,n.default)({},s,{id:l,ownerId:c,title:o.name(e),photo:t.photo50,peerId:e.id});case"open_link":case"open_modal_view":return(0,n.default)({},s,{id:l,ownerId:c,title:o.name(e),peerId:e.id});default:return{id:l,type:s.type,ownerId:c,url:(0,a.createAppUrl)(s.app_id,s.hash,c),peerId:e.id}}}},552921:(e,t,r)=>{"use strict";r.d(t,{fromApiTemplate:()=>s});var n=r(722122),i=r(419756),a=r(605443),o=r(22930);function s(e,t){var r;return{kind:"carousel",elements:(null==(r=e.elements)?void 0:r.map((e=>function(e,t){var r=e.buttons,s=e.photo,d=e.action,l=(0,i.default)(e,["buttons","photo","action"]),c=s?(0,o.fromApiPhoto)(s,t):null,u=(0,n.default)({buttons:r?(0,a.convertButtons)(r,!0):[]},c&&{photo:c},{},l),p=(0,n.default)({},u,{kind:"simple"});if(!d)return p;switch(d.type){case"open_photo":return s&&c?(0,n.default)({},u,{kind:"photo",photo:c}):p;case"open_link":return(0,n.default)({},u,{kind:"link",link:d.link});default:return p}}(e,t))))||[]}}},893064:(e,t,r)=>{"use strict";r.d(t,{fromApiChannel:()=>o});var n=r(10122),i=r(897181),a=r(766086),o=(e,t)=>{var r,o,s,d,l=e.channel,c=e.last_message,u=c&&(0,a.fromApiPost)(c).post,p=[];u&&(p=u.cmid>1?[{kind:"GapItem",fromCmid:i.resolveCmid(1),toCmid:i.resolveCmid(u.cmid-1)},{kind:"PostItem",post:u}]:[{kind:"PostItem",post:u}]);var v=!l.user_data.notification_settings.is_enabled||(l.user_data.notification_settings.disable_duration||0)>0;return{kind:"Channel",id:n.resolveId(l.channel_id),unreadCount:(null==(r=l.user_data.read_state)?void 0:r.unread_count)||0,isArchived:!!(null==(o=l.user_data)?void 0:o.is_archived),isMuted:v,notificationsDisabledUntil:l.user_data.notification_settings.disable_duration||0,inReadCmid:i.resolveCmid((null==(s=l.user_data)||null==(d=s.read_state)?void 0:d.read_up_to_cmid)||0),majorSortId:l.sort_id.major_id,minorSortId:l.sort_id.minor_id,membersCount:t.members_count||0,isMember:Boolean(t.is_member),adminLevel:t.admin_level||0,photos:{photo50:t.photo_50,photo100:t.photo_100},name:t.name||"",activity:t.activity||"",isVerified:!!t.verified,screenName:t.screen_name,history:p,canSendDonut:!!t.can_post_donut,pending:{},locks:{loading:!1,cleanUp:0}}}},103037:(e,t,r)=>{"use strict";r.d(t,{fromApiConvoBanner:()=>i});var n=r(335571);function i(e){var t,r;return{icon:null!=(t=e.icon)?t:"",name:e.name,title:null!=(r=e.title)?r:"",chunks:n.fromServerText(e.text),canHide:e.can_hide||!0,buttons:(e.buttons||[]).map((e=>{var t,r;return{callbackData:null!=(t=null==e?void 0:e.callback_data)?t:"",mode:e.layout,appearance:a(e.style),link:null!=(r=null==e?void 0:e.link)?r:"",text:e.text,hideOnAction:!!e.hide_on_action,type:e.type}}))}}function a(e){return"destructive"===e?"negative":"regular"===e?"accent":e}},568647:(e,t,r)=>{"use strict";r.d(t,{fromApiConvo:()=>p,fromLongpollPushSettings:()=>v});var n=r(722122),i=r(529122),a=r(658265),o=r(811129),s=r(194739),d=r(664902),l=r(605443),c=r(103037),u={18:"peer_deleted",900:"peer_blacklisted_by_me",901:"peer_blacklisted",902:"peer_blacklisted",915:"disabled_by_community",916:"disabled_by_peer",917:"kicked",918:"no_access",922:"no_access",925:"no_access",932:"no_access",945:"chat_unsupported",946:"chat_unsupported",203:"disabled_by_peer"};function p(e,t){var r,u,p,v=t&&(0,d.fromApiMessage)(t).message,_=e.current_keyboard&&(0,l.fromApiKeyboard)(e.current_keyboard);if("InlineKeyboard"===(null==_?void 0:_.kind))throw new Error("Не может прийти инлайн клавиатура для сообщения");var g,b,y={majorSortId:(null==(r=e.sort_id)?void 0:r.major_id)||0,minorSortId:(null==(u=e.sort_id)?void 0:u.minor_id)||0,unreadCount:e.unread_count||0,isMarkedUnread:!!e.is_marked_unread,isArchived:!!e.is_archived,inReadBy:s.resolveCmid(e.in_read_cmid),outReadBy:s.resolveCmid(e.out_read_cmid),folderIds:new Set((null==(p=e.folder_ids)?void 0:p.map(o.resolveId))||[]),isNew:!!e.is_new,canWrite:f(e),currentKeyboard:_,push:h(e.push_settings),persistedCmid:s.resolveCmid(null==v?void 0:v.cmid),persisted:v?new Map([[v.cmid,(0,n.default)({},v,{olderId:s.resolveCmid(),newerId:s.resolveCmid()})]]):new Map,queuedId:s.resolveRandomId(),queued:new Map,unreadExpireables:new Set((e.expire_cmids||[]).map(s.resolveCmid)),unreadReactions:new Set((e.unread_reactions||[]).map(s.resolveCmid)),hasMore:e.last_message_id>0,convoBanner:e.conversation_bar&&(0,c.fromApiConvoBanner)(e.conversation_bar)},k=i.resolveId(e.peer.id);switch(e.peer.type){case"user":if(!i.isUserPeerId(k))return null;if(void 0!==e.message_request_data){var w=e.message_request_data.status;return"pending"===w?{convo:(0,n.default)({},y,{kind:"MessageRequestUserConvo",peerId:k,MRStatus:w})}:null}return{convo:(0,n.default)({},y,{kind:"UserConvo",peerId:k})};case"chat":var I,C,A,S,P,x,M,E;if(!i.isChatPeerId(k))return null;if(!e.chat_settings)throw new Error("TODO chat convo has to has chat settings");var F=e.chat_settings.owner_id&&0!==e.chat_settings.owner_id?i.resolveId(e.chat_settings.owner_id):void 0,U=F&&(i.isUserPeerId(F)||i.isGroupPeerId(F))?F:void 0,T=(0,n.default)({},y,{peerId:k,ownerId:U,unreadMentions:new Set((e.mention_cmids||[]).map(s.resolveCmid)),membersCount:(null==(I=e.chat_settings)?void 0:I.members_count)||0,state:null==(C=e.chat_settings)?void 0:C.state,isCasper:!!e.chat_settings.is_disappearing,isCommunityChat:!!F&&i.isGroupPeerId(F),isDonut:!!e.chat_settings.is_donut,isGroupChannel:!!e.chat_settings.is_group_channel,activeCall:m(e.call_in_progress),pinnedMessage:e.chat_settings.pinned_message?(0,d.fromApiPinnedMessage)(e.chat_settings.pinned_message):void 0,acl:(b=e.chat_settings.acl,{canChangeInfo:b.can_change_info,canChangeInviteLink:b.can_change_invite_link,canChangePin:b.can_change_pin,canInvite:b.can_invite,canPromoteUsers:b.can_promote_users,canSeeInviteLink:b.can_see_invite_link,canModerate:b.can_moderate,canCopyChat:b.can_copy_chat,canCall:b.can_call,canUseMassMentions:b.can_use_mass_mentions,canChangeServiceType:Boolean(b.can_change_service_type),canChangeStyle:Boolean(b.can_change_style),canSendReactions:!0}),permissions:e.chat_settings.permissions?(g=e.chat_settings.permissions,(0,n.default)({},a.DEFAULT_CHAT_PERMISSIONS,{},g)):void 0,description:e.chat_settings.description,isService:Boolean(e.chat_settings.is_service),adminIds:new Set([...[F]||0,...e.chat_settings.admin_ids||[]].map(i.resolveId)),memberIds:new Set([]),invitedIds:new Set([]),shouldShortPollReactions:Boolean(e.chat_settings.short_poll_reactions)}),R={kind:"Chat",id:k,title:(null==(A=e.chat_settings)?void 0:A.title)||"",photo50:null==(S=e.chat_settings.photo)?void 0:S.photo_50,photo100:null==(P=e.chat_settings.photo)?void 0:P.photo_100,photo200:null==(x=e.chat_settings.photo)?void 0:x.photo_200,hasDefaultPhoto:(null==(M=e.chat_settings.photo)?void 0:M.is_default_photo)||(null==(E=e.chat_settings.photo)?void 0:E.is_default_call_photo),canCall:e.chat_settings.acl.can_call};if(void 0!==e.message_request_data){var N=e.message_request_data,O=N.status,D=N.inviter_id;return"pending"===O&&void 0!==D?{convo:(0,n.default)({},T,{kind:"MessageRequestChatConvo",inviterPeerId:i.resolveId(D),MRStatus:O}),peer:R}:null}return"business_notify"===e.special_service_type?{convo:(0,n.default)({},T,{kind:"BusinessNotify"}),peer:R}:{convo:(0,n.default)({},T,{kind:"ChatConvo"}),peer:R};case"group":return i.isGroupPeerId(k)?{convo:(0,n.default)({},y,{peerId:k,kind:"GroupConvo"})}:null;case"email":return null;case"contact":return i.isContactPeerId(k)?{convo:(0,n.default)({},y,{peerId:k,kind:"ContactConvo"})}:null;default:e.peer.type;return null}}function v(e){var t=Number(e[1].disabled_until);switch(t){case 0:return{mode:"everything",disabledUntil:0};case-1:return{mode:"every-mention",disabledUntil:1/0};default:return{mode:"every-mention",disabledUntil:1e3*t}}}function h(e){var t={mode:"everything",disabledUntil:0};return e?(e.disabled_forever?t={mode:"every-mention",disabledUntil:1/0}:e.disabled_until&&(t={mode:"every-mention",disabledUntil:1e3*e.disabled_until}),"everything"!==t.mode&&(e.disabled_mass_mentions&&(t=(0,n.default)({},t,{mode:"direct-mention"})),e.disabled_mentions&&(t=(0,n.default)({},t,{mode:"nothing"}))),t):t}function f(e){var t,r=e.can_write;return"chat"===e.peer.type&&"rejected"===(null==(t=e.message_request_data)?void 0:t.status)?{allowed:!1,reason:"mr_rejected"}:(null==r?void 0:r.allowed)?{allowed:!0}:{allowed:!1,reason:(null==r?void 0:r.reason)&&u[r.reason]||"unknown"}}function m(e){if(e)return{participants:{list:(e.participants.list||[]).reduce(((e,t)=>{var r=i.resolveAnyId(t);return(i.isUserPeerId(r)||i.isGroupPeerId(r))&&e.push(r),e}),[]),count:e.participants.count||0},joinLink:e.join_link,canFinishCall:Boolean(e.can_finish_call),hasLink:Boolean(e.has_link)}}},201548:(e,t,r)=>{"use strict";r.d(t,{fromApiFolder:()=>i});var n=r(811129);function i(e){return{id:n.resolveId(e.id),name:e.name,unreadCount:0,unreadUnmutedCount:0,all:{peerIds:new Set,boundaryMinorId:1/0,hasMore:!0},unread:{peerIds:new Set,boundaryMinorId:1/0,hasMore:!0}}}},664902:(e,t,r)=>{"use strict";r.d(t,{fromApiMessage:()=>m,fromEngineMessage:()=>_,fromApiPinnedMessage:()=>w});var n=r(659397),i=r(843524),a=r(22930),o=r(194739),s=r(529122),d=r(335571),l=r(98310),c=r(701069),u=r(605443),p=r(552921),v=r(678555);function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){if(e.action)return{message:{kind:"Service",id:o.resolveId(e.id),action:y({apiAction:e.action,apiAttaches:e.attachments}),peerId:s.resolveId(e.peer_id),cmid:o.resolveCmid(e.conversation_message_id),authorId:s.resolveId(e.from_id),sentAt:1e3*e.date,isOut:1===e.out,isSilent:e.is_silent,deleteTTL:void 0!==e.ttl?1e3*e.ttl:void 0},mentions:{hasDirect:!1,hasMass:!1}};var t=s.resolveId(e.peer_id);if(e.is_expired)return{message:{kind:"Expired",id:o.resolveId(e.id),cmid:o.resolveCmid(e.conversation_message_id),peerId:s.resolveId(e.peer_id),authorId:s.resolveId(e.from_id),isOut:1===e.out,isSilent:e.is_silent,sentAt:1e3*e.date},mentions:{hasDirect:!1,hasMass:!1}};var r=e.keyboard&&(0,u.fromApiKeyboard)(e.keyboard);if("InputKeyboard"===(null==r?void 0:r.kind))throw new Error("Кажется из апи пришла не инлайн клавиатура для сообщения");var n=o.resolveCmid(e.conversation_message_id);return{message:{kind:"Normal",id:o.resolveId(e.id),randomId:o.resolveRandomId(e.random_id),cmid:n,peerId:t,authorId:s.resolveId(e.from_id),chunks:d.fromServerText(e.text),isOut:1===e.out,isSilent:e.is_silent,isImportant:!!e.important,isPlayed:!!e.was_played,sentAt:1e3*e.date,updatedAt:e.update_time&&1e3*e.update_time,attaches:(0,a.fromApiAttach)(k(e),`mail${e.id}`),keyboard:r,forwardedMessages:b(e.fwd_messages,t,n),replyMessage:e.reply_message?g(e.reply_message,t,n):void 0,expireTTL:e.expire_ttl?1e3*e.expire_ttl:void 0,deleteTTL:void 0!==e.ttl?1e3*e.ttl:void 0,pinnedAt:e.pinned_at&&1e3*e.pinned_at,template:e.template?(0,p.fromApiTemplate)(e.template,`mail${e.id}`):void 0,reactions:e.reactions?(0,v.fromApiMessageReactions)(e.reactions):new Map,reactionId:e.reaction_id?l.resolveId(e.reaction_id):void 0},mentions:{hasDirect:!1,hasMass:!1}}}function _(e,t,r){var l,p,v,f,m,_,g,b,k,w;switch(e[0]){case 4:l=e[1],p=e[2],v=e[4],f=e[5],m=e[6],_=e[7],g=e[8],b=e[9],w=e[10];break;case 10004:w=e[1],p=e[2],v=e[4],f=e[5],m=e[6],_=e[7],g=e[8],b=e[9],l=e[10];break;case 5:case 18:l=e[1],p=e[2],v=e[3],f=e[4],m=e[5],_=e[6],g=e[7],b=e[8],w=e[9],k=e[10];break;case 10005:case 10018:w=e[1],p=e[2],v=e[3],f=e[4],m=e[5],_=e[6],g=e[7],b=e[8],l=e[9],k=e[10];break;default:(0,c.exhaustivenessCheck)(e)}var I,C=s.resolveId(v),A=o.convertFlags(p),S=A.isOut,P=A.isImportant,x=A.noPush,M=A.isPlayed,E=S||s.isFavorites(C,t),F="1"===_.is_silent;if(I=void 0!==_.from?s.resolveId(Number(_.from)):E?t:C,_.source_act)return{message:{kind:"Service",id:o.resolveId(l),cmid:o.resolveCmid(w),peerId:C,authorId:I,action:y({apiAction:{conversation_message_id:_.source_chat_local_id?Number(_.source_chat_local_id):void 0,message:_.source_message,type:_.source_act,member_id:_.source_mid?Number(_.source_mid):void 0,text:_.source_text,old_text:_.source_old_text,style:_.source_style}}),deleteTTL:void 0!==_.ttl?1e3*Number(_.ttl):void 0,sentAt:1e3*f,isOut:E,isSilent:F},mentions:{hasDirect:!1,hasMass:!1},noPush:x};if("1"===_.is_expired)return{message:{kind:"Expired",id:o.resolveId(l),cmid:o.resolveCmid(w),isOut:E,isSilent:F,peerId:C,authorId:I,sentAt:1e3*f},mentions:{hasDirect:!1,hasMass:!1},noPush:!0};for(var U,T={hasDirect:!1,hasMass:!1},R=h(_.marked_users||[]);!(U=R()).done;){var N=U.value;if(N[0]===i.IEngine.MarkedType.Mention)switch(N[1]){case"all":T.hasMass=T.hasMass||I!==t;break;case"online":T.hasMass=T.hasMass||N[2].includes(t);break;default:T.hasDirect=N[1].includes(t)}}var O,D={};if("sticker"!==g.attach1_type&&"audiomsg"!==g.attach1_kind||!g.attachments)void 0!==g.attach1_type&&(D={unknown:[{data:g,kind:"Unknown"}]});else{var V=JSON.parse(g.attachments);Array.isArray(V)&&(D=(0,a.fromApiAttach)(V,`mail${l}`))}if(void 0!==g.reply){var L=JSON.parse(g.reply),B=r(o.resolveCmid(L.conversation_message_id));B&&(O=o.toForeign({message:B,rootPeerId:C,rootCmid:o.resolveCmid(w)}))}var q,j,G=_.keyboard?(0,u.fromEngineKeyboard)(_.keyboard,I):void 0;return"InlineKeyboard"===(null==G?void 0:G.kind)?q=G:j=G,{message:{kind:"Normal",id:o.resolveId(l),cmid:o.resolveCmid(w),randomId:o.resolveRandomId(b),peerId:C,authorId:I,chunks:d.fromServerText((0,n.unescape)(m)),isOut:E,isSilent:F,isImportant:P,isPlayed:M,sentAt:1e3*f,updatedAt:k?1e3*k:void 0,pinnedAt:_.pinned_at?1e3*Number(_.pinned_at):void 0,expireTTL:_.expire_ttl?1e3*Number(_.expire_ttl):void 0,deleteTTL:void 0!==_.ttl?1e3*Number(_.ttl):void 0,attaches:D,replyMessage:O,keyboard:q,reactions:new Map},mentions:T,noPush:x,keyboardEvent:j}}function g(e,t,r){var n,i;return e.peer_id&&(n=s.resolveId(e.peer_id)),e.id&&(i=o.resolveId(e.id)),{kind:"Foreign",id:i,peerId:n,rootPeerId:t,rootCmid:r,cmid:o.resolveCmid(e.conversation_message_id),authorId:s.resolveId(e.from_id),chunks:d.fromServerText(e.text),sentAt:1e3*e.date,updatedAt:e.update_time&&1e3*e.update_time,attaches:(0,a.fromApiAttach)(k(e),e.id?`mail${e.id}`:void 0),forwardedMessages:b(e.fwd_messages,t,r),replyMessage:e.reply_message?g(e.reply_message,t,r):void 0}}function b(e,t,r){if(e&&0!==e.length){for(var n,i,a=h(e);!(i=a()).done;){var o=i.value;n?n.push(g(o,t,r)):n=[g(o,t,r)]}return n}}function y(e){var t=e.apiAction,r=e.apiAttaches,n={type:"unknown"};switch(t.type){case"chat_create":return t.text?{type:t.type,title:t.text}:n;case"chat_title_update":return t.text&&t.old_text?{type:t.type,title:t.text,oldTitle:t.old_text}:n;case"chat_photo_remove":case"chat_screenshot":case"chat_group_call_started":case"chat_invite_user_by_link":case"chat_invite_user_by_call_join_link":case"chat_kick_don":return{type:t.type};case"chat_pin_message":case"chat_unpin_message":return{type:t.type,cmid:o.resolveCmid(t.conversation_message_id),chunks:t.message?d.fromServerText(t.message):[]};case"chat_photo_update":var i=null==r?void 0:r.find((e=>"photo"===e.type)),l=null==i?void 0:i.photo;if(!l)return n;var c=(0,a.fromApiPhoto)(l);return c?{type:t.type,photo:c}:n;case"chat_invite_user":case"chat_kick_user":case"accepted_message_request":if(!t.member_id)return n;var u=s.resolveId(t.member_id);return s.isUserPeerId(u)||s.isGroupPeerId(u)?{type:t.type,peerId:u}:n;case"chat_invite_user_by_message_request":case"chat_invite_user_by_call":case"chat_kick_user_call_block":if(!t.member_id)return n;var p=s.resolveId(t.member_id);return s.isUserPeerId(p)?{type:t.type,peerId:p}:n;case"conversation_style_update":case"conversation_style_update_action":var v;switch(t.style){case"disco":case"twilight":case"sunset":case"lagoon":case"marine":case"retrowave":case"candy":case"crimson":case"emerald":case"halloween_orange":case"halloween_violet":case"unicorn":case"midnight":case"easter_egg":case"frost":case"new_year":case"valentine":case"warm_valentine":case"womens_day":case"mable":case void 0:v=t.style;break;default:v="unknown"}return{type:t.type,style:v};case"custom":return t.message?{type:t.type,chunks:d.fromServerText(t.message)}:n;default:t.type;return n}}function k(e){var t=e.attachments,r=void 0===t?[]:t,n=e.geo;return n?[...r,{type:"geo",geo:n}]:r}function w(e){var t,r=s.resolveId(e.peer_id),n=o.resolveCmid(e.conversation_message_id),i=s.resolveId(e.from_id);return e.id&&(t=o.resolveId(e.id)),{kind:"Pinned",id:t,cmid:n,peerId:r,authorId:i,chunks:d.fromServerText(e.text),sentAt:1e3*e.date,forwardedMessages:e.fwd_messages?b(e.fwd_messages,r,n):void 0,replyMessage:e.reply_message?g(e.reply_message,r,n):void 0,attaches:(0,a.fromApiAttach)(e.attachments||[])}}},678555:(e,t,r)=>{"use strict";r.d(t,{fromApiMessageReactions:()=>a});var n=r(98310),i=r(529122);function a(e){return e.sort(((e,t)=>t.count-e.count)).reduce(((e,t)=>(e.set(n.resolveId(t.reaction_id),{reactionId:n.resolveId(t.reaction_id),count:t.count,peerIds:new Set(t.user_ids.map(i.resolveId))}),e)),new Map)}},369706:(e,t,r)=>{"use strict";r.d(t,{fromApiUser:()=>o,fromApiGroup:()=>s,fromApiContact:()=>d,fromApiAnonym:()=>l,convertPlatform:()=>c});var n=r(529122),i=[6482950,6481715,6146827],a={1:"mobile",2:"mobile",3:"mobile",4:"mobile",5:"mobile",6:"other",7:"other"};function o(e){var t,r,a,o,s,d,l={0:"unfamiliar",1:"outgoingRequest",2:"incomingRequest",3:"friends"},c="other";(null==(t=e.online_info)?void 0:t.is_mobile)&&(c="mobile"),i.includes((null==(r=e.online_info)?void 0:r.app_id)||0)&&(c="vkme");var u=n.resolveRealId("User",e.id),p=Boolean(e.blacklisted),v=(e.photo_id?e.photo_id.split("_"):[])[1],h=v?parseInt(v):null;return{user:{kind:"User",id:u,firstName:e.first_name,firstNameGen:e.first_name_gen||e.first_name,firstNameAcc:e.first_name_acc||e.first_name,lastName:e.last_name,lastNameGen:e.last_name_gen||e.last_name,lastNameAcc:e.last_name_acc||e.last_name,screenName:e.screen_name,sex:void 0!==e.sex?{0:"unknown",1:"female",2:"male"}[e.sex]:"unknown",photoId:h&&!isNaN(h)?h:void 0,photo50:e.photo_50,photo100:e.photo_100,photo200:e.photo_200,lastSeen:{isVisible:!!(null==(a=e.online_info)?void 0:a.visible),at:(null==(o=e.online_info)?void 0:o.last_seen)&&1e3*e.online_info.last_seen,platform:c},isVerified:Boolean(e.verified),isBlacklisted:p,isBlacklistedByMe:Boolean(e.blacklisted_by_me),isDeactivated:Boolean(e.deactivated),deactivationReason:e.deactivated,canCall:Boolean(e.can_call),canChangeFriendship:1===e.can_send_friend_request,canInviteToChats:!!e.can_invite_to_chats,canMessage:1===e.can_write_private_message,hasDefaultPhoto:1!==e.has_photo,followersCount:e.followers_count||0,friendship:void 0!==e.friend_status?l[e.friend_status]:l[0],mutualFriends:p?{hint:[],count:0}:void 0,contactName:e.contact_name,occupation:e.occupation,bdate:e.bdate,city:e.city,phone:e.mobile_phone},isOnline:!!(null==(s=e.online_info)?void 0:s.visible)&&!!(null==(d=e.online_info)?void 0:d.is_online)}}function s(e){var t,r=n.resolveRealId("Group",e.id);if(!e.type)throw new Error(`fromApiGroup содержит некорректный тип ${e.type}`);var i={0:"notMember",1:"member",2:"unsure",3:"declined",4:"outgoingRequest",5:"incomingRequest"}[e.member_status||0];return{kind:"Group",id:r,type:e.type,name:e.name,screenName:e.screen_name,photo50:e.photo_50,photo100:e.photo_100,photo200:e.photo_200,activity:e.activity,memberCount:e.members_count||0,membership:i,isDeactivated:Boolean(e.deactivated),isVerified:1===e.verified,isClosed:Boolean(e.is_closed),canMessage:1===e.can_message,canChangeMembership:0!==(null==(t=e.ban_info)?void 0:t.end_date)&&(0===e.is_closed||"member"===i||"incomingRequest"===i),mutualFriends:2===e.is_closed&&"member"!==i?{hint:[],count:0}:void 0,isBlacklistedByMe:1===e.is_messages_blocked,site:e.site}}function d(e){var t=n.resolveRealId("Contact",e.id),r=n.resolveId(e.user_id);return{kind:"Contact",id:t,name:e.name,userId:r,phone:e.phone,canWrite:e.can_write,photo50:e.photo_50,lastSeen:e.last_seen_status}}function l(e){var t=n.resolveAnyId(e.id);if(n.isAnonymPeerId(t))return{id:t,kind:"Anonym",name:e.name,photo50:e.photo_50,photo100:e.photo_100,photo200:e.photo_200,photo400:e.photo_400}}function c(e,t){var r=a[e]||"other";return i.includes(t)&&(r="vkme"),r}},766086:(e,t,r)=>{"use strict";r.d(t,{fromApiPost:()=>p});var n=r(722122),i=r(897181),a=r(335571),o=r(529122),s=r(10122),d=r(871183),l=r(22930),c=r(745752),u={id:"reactions",items:[{id:0,title:"Нравится",asset:{animation_url:"https://vk.com/reaction/3-reactions-0?c_uniq_tag=83b2081a8e4adfc36ee536f5f1b4ad470174c89678369a4b9dc5547614a3955e",images:[{url:"https://vk.com/reaction/1-reactions-0-48?c_uniq_tag=e6bee176471af6e4f7ca0f57ac099847d57b8101bf07944e47b42b097a6d8455",width:48,height:48},{url:"https://vk.com/reaction/1-reactions-0-72?c_uniq_tag=d6f55fe94c0add8f817b447cbd804768752eb996c06ef222b39eb3fd35834780",width:72,height:72}],title:{color:{foreground:{light:"FF3347",dark:"FF5C5C"},background:{light:"FFEDED",dark:"3E2526"}}},title_color:{light:"FF3347",dark:"FF5C5C"}}},{id:1,title:"Смешно",asset:{animation_url:"https://vk.com/reaction/3-reactions-1?c_uniq_tag=a47193579880c0f53dd597a15d3bd57d4827820687c73d6128df2720647b42b9",images:[{url:"https://vk.com/reaction/1-reactions-1-48?c_uniq_tag=8f5eb3a1d6a6ec81aceff211782af3c9e9a5d1c837f0bfade6965a6844786f8b",width:48,height:48},{url:"https://vk.com/reaction/1-reactions-1-72?c_uniq_tag=c852fcad6e67059878dcf1905e3e416fd89fbc61222ead100935a6fcc1dab4c9",width:72,height:72}],title:{color:{foreground:{light:"FF8000",dark:"FFC233"},background:{light:"FFF2D6",dark:"352E23"}}},title_color:{light:"FF8000",dark:"FFC233"}}},{id:2,title:"Ого!",asset:{animation_url:"https://vk.com/reaction/3-reactions-2?c_uniq_tag=b946fcbe262642bc920331746b6eccd9f175bb17d8ef37e54d232fa35ca2c750",images:[{url:"https://vk.com/reaction/1-reactions-2-48?c_uniq_tag=2a6544dce8827d216db7ea91eafc726cd3a823f5d465ba00216901a6de2801ad",width:48,height:48},{url:"https://vk.com/reaction/1-reactions-2-72?c_uniq_tag=5a0663f3d38dd6fbcf3e4973610d50641420631c9df30b6cf80eee0dd5c5efee",width:72,height:72}],title:{color:{foreground:{light:"FF8000",dark:"FFC233"},background:{light:"FFF2D6",dark:"352E23"}}},title_color:{light:"FF8000",dark:"FFC233"}}},{id:3,title:"Восторг",asset:{animation_url:"https://vk.com/reaction/3-reactions-3?c_uniq_tag=c6ed3add99e841dccda5479c8e21779954e61e0fba15f94a2ae16706df492123",images:[{url:"https://vk.com/reaction/1-reactions-3-48?c_uniq_tag=eda1a2c18d733b356babdeed5f52cdcc64dd59f1f69776a133fc34a5627eecee",width:48,height:48},{url:"https://vk.com/reaction/1-reactions-3-72?c_uniq_tag=be09c5080773a9ba78984406588c7371e48073e80b842eb7c9a817f7b435379b",width:72,height:72}],title:{color:{foreground:{light:"FF8000",dark:"FFC233"},background:{light:"FFF2D6",dark:"352E23"}}},title_color:{light:"FF8000",dark:"FFC233"}}},{id:5,title:"Печаль",asset:{animation_url:"https://vk.com/reaction/3-reactions-5?c_uniq_tag=c61122c8c334154cb10ccf0e0687057bf1f0f40c2817198b2e1150df534c22c4",images:[{url:"https://vk.com/reaction/1-reactions-5-48?c_uniq_tag=31bcb230babad96120a62589c52af22811aaba54d4ed73a36cfd499d9d94102f",width:48,height:48},{url:"https://vk.com/reaction/1-reactions-5-72?c_uniq_tag=a840d0eb581c133d97638ff5bf34f4b33f3fb8557b932cfe3516925b88e2f151",width:72,height:72}],title:{color:{foreground:{light:"4986CC",dark:"71AAEB"},background:{light:"EDF3FA",dark:"27303C"}}},title_color:{light:"4986CC",dark:"71AAEB"}}},{id:4,title:"&$#%!",asset:{animation_url:"https://vk.com/reaction/3-reactions-4?c_uniq_tag=063e6b2dd888bb5a9716cf6153f03bf9c0c9707713b857eed8fe1e4e09aea2b3",images:[{url:"https://vk.com/reaction/1-reactions-4-48?c_uniq_tag=c80e3224c299a73384c057ff065c9458dcd533d57a1458875eb98883c3a96783",width:48,height:48},{url:"https://vk.com/reaction/1-reactions-4-72?c_uniq_tag=a0eddba1ec31f96adbb9afa2c6c14bec055b95f8d9f113bdf759fb5a9c9054f0",width:72,height:72}],title:{color:{foreground:{light:"EF5203",dark:"FA5300"},background:{light:"FDEBE8",dark:"3C2421"}}},title_color:{light:"EF5203",dark:"FA5300"}}}]};function p(e){var t,r,p,v,h,f,m,_,g,b,y,k,w,I,C,A,S,P,x,M,E,F=(0,n.default)({},null==e||null==(t=e.attachments)||null==(r=t[0])?void 0:r.wall,{attachments:(A=e,x=null==A||null==(S=A.attachments)||null==(P=S[0])?void 0:P.wall,M=null==x?void 0:x.geo,E=(null==x?void 0:x.attachments)||[],M?[...E,{type:"geo",geo:M}]:E)}),U=null==F||null==(p=F.copy_history)?void 0:p[0],T={};if(U){var R=(0,l.apiAttachWallOwnerId)(U),N="reply"===U.post_type;T=(0,n.default)({},T,{},N?{wallReply:{kind:"WallReply",id:U.id||0,postId:U.reply_post_id||0,authorId:o.resolveId(U.from_id),ownerId:o.resolveId(R),parentsStack:U.parents_stack,date:1e3*(U.date||0),chunks:a.fromServerText(U.text||""),attaches:(0,l.fromApiWallAttach)(U)}}:{wall:{kind:"Wall",id:U.id||0,authorId:o.resolveId(U.from_id),ownerId:o.resolveId(R),date:1e3*(U.date||0),chunks:a.fromServerText(U.text||""),attaches:(0,l.fromApiWallAttach)(U)}}),F.copy_history=void 0}(null==F?void 0:F.attachments)&&(T=(0,n.default)({},T,{},(0,l.fromApiWallAttach)(F)));var O=[],D=[];return u.items.forEach((e=>{var t=(0,c.fromApiReaction)(e);t&&(O.push(t),D.push(t.id))})),{post:{kind:"Normal",cmid:i.resolveCmid(e.cmid),chunks:(null==F?void 0:F.text)?a.fromServerText(F.text):[],views:(null==F||null==(v=F.views)?void 0:v.count)||0,sentAt:1e3*e.time,updatedAt:e.update_time&&1e3*e.update_time,channelId:s.resolveId(e.author_id),likes:{count:(null==F||null==(h=F.likes)?void 0:h.count)||0,reactionId:Boolean(null==F||null==(f=F.likes)?void 0:f.user_likes)?d.resolveId(null==F||null==(m=F.reactions)?void 0:m.user_reaction):void 0,availableReactionIds:D,peerIds:new Set},reposts:{count:(null==F||null==(_=F.reposts)?void 0:_.count)||0,isReposted:Boolean(null==F||null==(g=F.reposts)?void 0:g.user_reposted)},comments:{count:(null==F||null==(b=F.comments)?void 0:b.count)||0,oneLevelCount:0,canView:Boolean(null==F||null==(y=F.comments)?void 0:y.can_view),canPost:Boolean(null==F||null==(k=F.comments)?void 0:k.can_post),history:[],order:"interesting"},attaches:T,rights:{canDelete:1===F.can_delete},donutPlaceholder:(null==(w=F.donut)?void 0:w.placeholder)?{text:null==(I=F.donut.placeholder)?void 0:I.text,button:null==(C=F.donut.placeholder)?void 0:C.button}:void 0},reactions:O}}},745752:(e,t,r)=>{"use strict";r.d(t,{fromApiReaction:()=>i});var n=r(871183);function i(e){var t,r,i,a,o,s;if(e.asset.animation_url&&(null==(t=e.asset.title_color)?void 0:t.dark)&&(null==(r=e.asset.title_color)?void 0:r.light)){var d=null==(i=e.asset.images.find((e=>48===e.height)))?void 0:i.url,l=null==(a=e.asset.images.find((e=>72===e.height)))?void 0:a.url;if(d&&l)return{id:n.resolveId(e.id),animation:e.asset.animation_url,title:e.title,image48:d,image72:l,color:{light:null==(o=e.asset.title_color)?void 0:o.light,dark:null==(s=e.asset.title_color)?void 0:s.dark}}}}},466315:(e,t,r)=>{"use strict";r.d(t,{fromApiStickerPack:()=>o,fromApiSticker:()=>s,fromApiStickersKeywords:()=>d});var n=r(665644);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){if("stickers"===e.type&&e.title&&e.previews&&e.stickers){var t=e.previews.find((e=>22===e.height)),r=e.previews.find((e=>34===e.height)),i=e.previews.find((e=>44===e.height)),a=e.previews.find((e=>68===e.height));if(t&&r&&i&&a){var o=[],d=[];return e.stickers.reduce(((e,t)=>{var r=s(t);return r?(d.push(r),e.push(r.id),e):e}),o),{stickerPack:{id:n.resolveStickerPackId(e.id),name:e.title,icons:{icon22:t.url,icon34:r.url,icon44:i.url,icon68:a.url},stickerIds:o},stickers:d}}}}function s(e){var t,r;if("sticker_id"in e&&e.images&&e.images_with_background&&e.sticker_id){e.images.sort(((e,t)=>e.height-t.height));var i=e.images.find((e=>e.height>=128)),a=e.images.find((e=>e.height>=256)),o=e.images_with_background.find((e=>e.height>=128)),s=e.images_with_background.find((e=>e.height>=256));if(i&&a&&o&&s)return{id:n.resolveStickerId(e.sticker_id),kind:"Sticker",isAllowed:void 0===e.is_allowed||e.is_allowed,image128:{light:i.url,dark:o.url},image256:{light:a.url,dark:s.url},animation:e.animations&&{light:(null==(t=e.animations.find((e=>"light"===e.type)))?void 0:t.url)||"",dark:(null==(r=e.animations.find((e=>"dark"===e.type)))?void 0:r.url)||""}}}}function d(e){return e.dictionary.reduce(((e,t)=>{for(var r,a,o,s=null!=(r=null==(a=t.stickers)?void 0:a.map((e=>{var t=e.sticker_id;return n.resolveStickerId(t)})))?r:[],d=i(t.words);!(o=d()).done;){e[o.value]=s}return e}),{})}},843524:(e,t,r)=>{"use strict";var n;r.d(t,{IEngine:()=>n}),function(e){!function(e){e[e.Mention=1]="Mention",e[e.ExpiringMessage=2]="ExpiringMessage"}(e.MarkedType||(e.MarkedType={})),function(e){e[e.CopyFlagChanged=0]="CopyFlagChanged",e[e.TitleChanged=1]="TitleChanged",e[e.AvatarChanged=2]="AvatarChanged",e[e.AdminGrated=3]="AdminGrated",e[e.FlagsChanged=4]="FlagsChanged",e[e.Pinned=5]="Pinned",e[e.UserJoined=6]="UserJoined",e[e.UserLeft=7]="UserLeft",e[e.UserKicked=8]="UserKicked",e[e.AdminKicked=9]="AdminKicked",e[e.BannerChanged=10]="BannerChanged",e[e.KeyboardChanged=11]="KeyboardChanged",e[e.MessageRequestChanged=12]="MessageRequestChanged",e[e.ContactConverted=13]="ContactConverted",e[e.BusinessNotifyDataChanged=14]="BusinessNotifyDataChanged",e[e.MessageRequestCanceled=15]="MessageRequestCanceled",e[e.MessageRequestRejected=16]="MessageRequestRejected",e[e.MessageRequestAccepted=17]="MessageRequestAccepted",e[e.ContactJoined=18]="ContactJoined",e[e.CallInProgressChanged=19]="CallInProgressChanged",e[e.DonSubscribed=20]="DonSubscribed",e[e.DonUnsubscribed=21]="DonUnsubscribed",e[e.IsNewChange=22]="IsNewChange",e[e.StyleChanged=23]="StyleChanged",e[e.DescriptionChanged=24]="DescriptionChanged",e[e.ShortPollReactionsChanged=25]="ShortPollReactionsChanged"}(e.ChatUpdateType||(e.ChatUpdateType={})),function(e){e[e.Deleted=0]="Deleted",e[e.Accepted=1]="Accepted",e[e.Rejected=2]="Rejected",e[e.New=3]="New"}(e.MRStatus||(e.MRStatus={})),e.isIncompleteUpdate=function(e){switch(e[0]){case 10004:return e.length<12;case 10005:return e.length<11;case 10018:return e.length<11;case 4:return e.length<12;case 5:return e.length<11;case 18:return e.length<11;default:return!1}}}(n||(n={}))},766278:(e,t,r)=>{"use strict";r.d(t,{TypingVariants:()=>f,insertConvos:()=>m,insertPeers:()=>g,insertContactItems:()=>b,insertContacts:()=>y,insertFolders:()=>k,insertChannels:()=>w,getOwnerGroupId:()=>I,removeConvosFromFolder:()=>C,addConvosToFolder:()=>A,getConvosByIds:()=>S});var n=r(658265),i=r(529122),a=r(825759),o=r(10122),s=r(811129),d=r(568647),l=r(369706),c=r(201548),u=r(893064),p=r(766086);function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=["text","voice","photo","video","file","videomessage"];function m(e,t,r){for(var i,o=(void 0===r?{}:r).dangerouslyMerge,s=[],l=v(t);!(i=l()).done;){var c,u=i.value,p="conversation"in u?(0,d.fromApiConvo)(u.conversation,u.last_message):(0,d.fromApiConvo)(u);if(p){var h=p.convo,f=p.peer,m=e.convos.get(h.peerId);if(!m||o){var g=_(h,m);e.convos.set(h.peerId,g),f&&e.peers.set(f.id,f),s.push(h),"ChatConvo"===g.kind&&e.hiddenPinnedMessages.get(g.peerId)!==(null==(c=g.pinnedMessage)?void 0:c.cmid)&&e.hiddenPinnedMessages.delete(g.peerId)}else s.push(m)}}var b=s.filter((e=>!n.isMR(e)&&!n.isBusinessNotify(e)));return a.add(e.convosSearchIndex,b,(t=>{var r=e.peers.get(t.peerId);return{id:t.peerId,strings:r?a.peerWords(r):[]}})),s}function _(e,t){return t?(0===t.persisted.size&&0===t.queued.size&&(t.persisted=e.persisted,t.persistedCmid=e.persistedCmid),"ChatConvo"===t.kind&&"ChatConvo"===e.kind&&(t.unreadMentions=e.unreadMentions),t):e}function g(e,t,r){for(var n,a=t.apiUsers,o=t.apiGroups,s=t.apiContacts,d=(void 0===r?{}:r).dangerouslyOverwrite,c=[],u=v(a);!(n=u()).done;){var p=n.value,h=(0,l.fromApiUser)(p),f=h.user,m=h.isOnline,_=e.peers.get(f.id);e.onlines.delete(f.id),m&&e.onlines.add(f.id),"User"===(null==_?void 0:_.kind)&&i.updateLastSeen(_,f.lastSeen),"User"!==(null==_?void 0:_.kind)||d?(e.peers.set(f.id,f),c.push(f)):c.push(_)}for(var g,b=[],y=v(o);!(g=y()).done;){var k=g.value,w=(0,l.fromApiGroup)(k),I=e.peers.get(w.id);!I||"Group"!==I.kind||d?(e.peers.set(w.id,w),b.push(w)):b.push(I)}for(var C,A=[],S=v(s);!(C=S()).done;){var P=C.value,x=(0,l.fromApiContact)(P),M=e.peers.get(x.id);!M||"Contact"!==M.kind||d?(e.peers.set(x.id,x),A.push(x)):A.push(M)}return{insertedUsers:c,insertedGroups:b,insertedContacts:A}}function b(e,t,r){var n=[];return g(e,{apiUsers:r,apiGroups:[],apiContacts:[]},{dangerouslyOverwrite:!0}),t.forEach((t=>{var r=i.resolveId(t);if(i.isUserPeerId(r)){var a=e.peers.get(r);if("User"!==(null==a?void 0:a.kind))return;e.contacts.items.set(r,a),n.push(r)}})),n}function y(e,t){var r=[];t.sort(((e,t)=>e.name.localeCompare(t.name)));for(var n,i=v(t);!(n=i()).done;){var a=n.value,o=(0,l.fromApiContact)(a),s=o.userId?o.userId:o.id;e.contacts.contacts.set(s,o),r.push(o)}return r}function k(e,t){for(var r,n=[],i=function(t){var r=(0,c.fromApiFolder)(t);if(e.organisers.folders.find((e=>e.id===r.id)))return n.push(r),"continue";e.organisers.folders.push(r),n.push(r)},a=v(t);!(r=a()).done;)i(r.value);return n}function w(e,t){for(var r,n=t.apiChannels,i=t.apiGroups,a=t.dangerouslyMerge,s=[],d=function(t){var r=i.find((e=>-e.id===t.channel.channel_id));if(!r)throw new Error("С бэка не приходит нужная группа для канала");var n=(0,u.fromApiChannel)(t,r);(t.last_message&&(0,p.fromApiPost)(t.last_message).reactions||[]).forEach((t=>{e.reactions.set(t.id,t)}));var d=e.channels.get(n.id);if(d&&!a)return s.push(d),"continue";var l=d?o.merge(d,n):n;e.channels.set(l.id,l),s.push(l)},l=v(n);!(r=l()).done;)d(r.value);return s}function I(e){return i.isGroupPeerId(e)?i.toRealId(e):0}function C(e,t,r){var i,a,o=e.organisers.folders.find((e=>e.id===t));if(o){for(var d,l=null!=(i=o.unreadCount)?i:0,c=null!=(a=o.unreadUnmutedCount)?a:0,u=v(r);!(d=u()).done;){var p=d.value;n.isInFolder(p,t)&&(n.removeFolder(p,t),s.refresh(e.organisers.folders,p),p.unreadCount&&(n.isMuted(p)?l--:c--))}s.setUnreadCounters(e.organisers.folders,t,l,c)}}function A(e,t,r){var i,a,o=[],d=e.organisers.folders.find((e=>e.id===t));if(d){for(var l,c=null!=(i=d.unreadCount)?i:0,u=null!=(a=d.unreadUnmutedCount)?a:0,p=v(r);!(l=p()).done;){var h=l.value;n.isInFolder(h,t)||(n.addFolder(h,t),o.push(h),h.unreadCount&&(n.isMuted(h)?c++:u++))}s.push(e.organisers.folders,t,"all",o,d.all.hasMore),s.push(e.organisers.folders,t,"unread",o.filter((e=>n.isUnread(e))),d.unread.hasMore),s.setUnreadCounters(e.organisers.folders,t,c,u)}}function S(e,t){return t.reduce(((t,r)=>{var n=e.convos.get(i.resolveId(r));return n&&t.push(n),t}),[])}}}]);try{stManager.done("dist/b5d48e03a4dc005738790e7aca8143ff.0f35154e42dda75a7237.js")}catch(e){}