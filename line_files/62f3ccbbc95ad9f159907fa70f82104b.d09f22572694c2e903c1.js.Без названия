(self.webpackChunkvk=self.webpackChunkvk||[]).push([[57783],{6058:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon12Chevron","chevron_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 12 12" id="chevron_12"><path fill-rule="evenodd" d="M4.22 2.47a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06-1.06L6.69 6 4.22 3.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},447066:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon12Dropdown","dropdown_12","0 0 12 8",'<symbol fill="none" viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg" id="dropdown_12"><path clip-rule="evenodd" d="M2.156 2.295a.75.75 0 0 1 1.051-.137L6 4.306l2.793-2.148a.75.75 0 1 1 .914 1.189l-3.25 2.5a.75.75 0 0 1-.914 0l-3.25-2.5a.75.75 0 0 1-.137-1.052z" fill="currentColor" fill-rule="evenodd" /></symbol>',12,8,!1,void 0)},244590:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon16Clear","clear_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="clear_16"><path fill-rule="evenodd" d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0ZM4.563 4.564a.9.9 0 0 0 0 1.272L6.727 8l-2.164 2.164a.9.9 0 1 0 1.273 1.272L8 9.273l2.164 2.163a.9.9 0 0 0 1.272-1.272L9.273 8l2.163-2.164a.9.9 0 1 0-1.272-1.272L8 6.727 5.836 4.564a.9.9 0 0 0-1.273 0Z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},720152:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon16Search","search_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="search_16"><path fill="currentColor" d="M14.743 13.574 10.91 9.74a5.426 5.426 0 0 0 1.05-3.232A5.532 5.532 0 0 0 6.46 1 5.436 5.436 0 0 0 1 6.468a5.532 5.532 0 0 0 5.5 5.508 5.409 5.409 0 0 0 3.241-1.062l.005-.003 3.829 3.832a.827.827 0 1 0 1.168-1.169Zm-8.247-2.696a4.425 4.425 0 0 1-4.4-4.406 4.35 4.35 0 0 1 4.368-4.374 4.426 4.426 0 0 1 4.4 4.406 4.35 4.35 0 0 1-4.368 4.374Z" /></symbol>',16,16,!1,void 0)},778991:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon20UserAddOutline","user_add_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="user_add_outline_20"><path fill-rule="evenodd" d="M12.5 8.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5ZM8.5 6a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm-4-.25a.75.75 0 1 0-1.5 0v2H1a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Zm4.155 7.227c.865-.458 2.194-.727 3.845-.727 1.65 0 2.98.27 3.845.727.794.42 1.155.959 1.155 1.71a.685.685 0 0 1-.05.288.325.325 0 0 1-.092.12c-.077.063-.26.155-.599.155H8.241c-.34 0-.522-.092-.6-.156a.325.325 0 0 1-.09-.12.686.686 0 0 1-.051-.287c0-.751.36-1.29 1.155-1.71ZM12.5 10.75c-1.774 0-3.38.283-4.547.902C6.783 12.27 6 13.26 6 14.688c0 .688.268 1.217.687 1.563.408.337.956.499 1.554.499h8.518c.598 0 1.146-.162 1.555-.499.418-.346.686-.875.686-1.564 0-1.426-.783-2.416-1.953-3.035-1.168-.619-2.773-.902-4.547-.902Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},975761:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon28ArchiveCircleFillGray","archive_circle_fill_gray_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="archive_circle_fill_gray_28"><linearGradient id="archive_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#archive_circle_fill_gray_28_a)" /><g fill="#fff"><path d="M6.568 8.482c-.068.255-.068.565-.068 1.185 0 .31 0 .465.034.592a1 1 0 0 0 .707.707c.127.034.282.034.592.034h12.334c.31 0 .465 0 .592-.034a1 1 0 0 0 .707-.707c.034-.127.034-.282.034-.592 0-.62 0-.93-.068-1.185a2 2 0 0 0-1.414-1.414C19.763 7 19.453 7 18.833 7H9.167c-.62 0-.93 0-1.185.068a2 2 0 0 0-1.414 1.414z" /><path clip-rule="evenodd" d="M8 14.1c0-.56 0-.84.109-1.054a1 1 0 0 1 .437-.437C8.76 12.5 9.04 12.5 9.6 12.5h8.8c.56 0 .84 0 1.054.109a1 1 0 0 1 .437.437C20 13.26 20 13.54 20 14.1v2.1c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C17.72 21 16.88 21 15.2 21h-2.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C8 18.72 8 17.88 8 16.2zm3.5.65a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75z" fill-rule="evenodd" /></g></symbol>',28,28,!1,void 0)},561362:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon28ChevronRightOutline","chevron_right_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="chevron_right_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="m11 7.5 6.5 6.5-6.5 6.5" stroke="#8BC1FF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414L16.086 14Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},941192:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon28MessageUnreadCircleFillGray","message_unread_circle_fill_gray_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="message_unread_circle_fill_gray_28"><linearGradient id="message_unread_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#message_unread_circle_fill_gray_28_a)" /><g fill="#fff"><path d="M19.87 12.17a3 3 0 0 1-4.09-3.935A6.77 6.77 0 0 0 13.999 8c-3.314 0-6 2.359-6 5.269 0 1.406.628 2.684 1.653 3.63a11.487 11.487 0 0 1-.404 1.688c-.055.173-.13.376-.224.606a.578.578 0 0 0 .017.475.606.606 0 0 0 .801.273l.159-.076c.152-.075.286-.145.401-.21a12 12 0 0 0 1.895-1.333c.54.14 1.11.215 1.702.215 3.314 0 6-2.359 6-5.268 0-.377-.045-.745-.13-1.099z" /><path d="M20 9.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" /></g></symbol>',28,28,!1,void 0)},51441:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon28NotificationCircleFillGray","notification_circle_fill_gray_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="notification_circle_fill_gray_28"><linearGradient id="notification_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#notification_circle_fill_gray_28_a)" /><path d="M15.817 19.5a1.85 1.85 0 0 1-3.634 0zM9.5 18c-1 0-1.5-.333-1.5-1 0-1 1.5-1 1.5-2.5v-3a4.501 4.501 0 0 1 3.7-4.43V7a.8.8 0 0 1 1.6 0v.071a4.501 4.501 0 0 1 3.7 4.429v3C18.5 16 20 16 20 17c0 .667-.5 1-1.5 1z" fill="#fff" /></symbol>',28,28,!1,void 0)},170322:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon28SendCircleFillGray","send_circle_fill_gray_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="send_circle_fill_gray_28"><linearGradient id="send_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#send_circle_fill_gray_28_a)" /><path d="M10.16 16.628c-.458 1.298-.745 2.21-.863 2.737-.368 1.653-.637 2.026.738 1.24 1.375-.786 8.031-4.679 9.516-5.544 1.936-1.128 1.962-1.04-.104-2.237-1.573-.912-8.15-4.703-9.412-5.447-1.26-.745-1.106-.414-.738 1.24.12.533.41 1.453.875 2.761.324.915 1.079 1.586 1.992 1.772l3.843.781a.07.07 0 0 1 .052.083.068.068 0 0 1-.052.055l-3.852.78c-.916.186-1.673.86-1.996 1.779z" fill="#fff" /></symbol>',28,28,!1,void 0)},237289:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon28SunglassesCircleFillGray","sunglasses_circle_fill_gray_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="sunglasses_circle_fill_gray_28"><path fill="url(#sunglasses_circle_fill_gray_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14Z" /><path fill="#fff" d="M5.84 15.44c-.186-1.213-.23-1.357-.555-1.816-.409-.577-.467-1.238.428-1.412 2.296-.446 4.782-.113 7.047.302a6.239 6.239 0 0 0 2.48 0c2.265-.415 4.75-.748 7.047-.302.895.174.837.835.428 1.412-.325.46-.369.603-.555 1.816-.278 1.82-1.807 2.56-3.7 2.56-2.08 0-2.773-1.187-3.418-2.805-.628-1.573-1.454-1.573-2.082 0C12.315 16.813 11.622 18 9.541 18c-1.894 0-3.423-.741-3.701-2.56Z" /><defs><linearGradient id="sunglasses_circle_fill_gray_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop stop-color="#B1B6BD" /><stop offset="1" stop-color="#99A2AD" /></linearGradient></defs></symbol>',28,28,!1,void 0)},266106:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon28TextCircleFillGray","text_circle_fill_gray_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="text_circle_fill_gray_28"><path fill="url(#text_circle_fill_gray_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14Z" /><path fill="#fff" d="M18.42 18.97c.996 0 2.09-.51 2.535-1.379H21v.419c.045.655.357.99.944.99.617 0 1.056-.38 1.056-1.12v-4.653c0-1.645-1.331-2.727-3.376-2.727-1.65 0-2.93.602-3.301 1.577a1.204 1.204 0 0 0-.112.502c0 .503.38.853.907.853.35 0 .625-.137.863-.41.483-.64.885-1.022 1.546-1.022.818 0 1.473.602 1.473 1.364v.54l-2.142.122c-1.993.122-3.108.989-3.108 2.474 0 1.47 1.153 2.47 2.67 2.47Zm.713-1.607c-.728 0-1.152-.381-1.152-.99 0-.58.394-.953 1.204-1.014L21 15.253v.594c0 .883-.915 1.516-1.867 1.516Z" /><path fill="#fff" fill-rule="evenodd" d="M6.189 19c.621 0 .971-.297 1.189-1.01l.59-1.67.095-.32h3.853l.1.32.59 1.693c.21.697.56.987 1.22.987.684 0 1.174-.438 1.174-1.054 0-.223-.039-.423-.148-.713l-3.077-7.971C11.441 8.386 10.897 8 9.981 8c-.886 0-1.438.4-1.764 1.27l-3.062 7.963c-.1.275-.155.527-.155.713C5 18.592 5.458 19 6.189 19Zm3.745-8.803h.054l1.456 4.303H8.51l1.425-4.303Z" clip-rule="evenodd" /><defs><linearGradient id="text_circle_fill_gray_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop stop-color="#B1B6BD" /><stop offset="1" stop-color="#99A2AD" /></linearGradient></defs></symbol>',28,28,!1,void 0)},263041:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon28UsersCircleFillGray","users_circle_fill_gray_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="users_circle_fill_gray_28"><linearGradient id="users_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#users_circle_fill_gray_28_a)" /><path d="M10.5 15c2.25 0 4.5.9 4.5 2.846v.134c0 .295-.04.447-.114.585a.773.773 0 0 1-.32.321c-.14.075-.29.114-.586.114H7.02c-.295 0-.447-.04-.585-.114a.773.773 0 0 1-.321-.32c-.075-.14-.114-.29-.114-.586v-.134C6 15.9 8.25 15 10.5 15zm7 0c2.25 0 4.5.9 4.5 2.846v.134c0 .295-.04.447-.114.585a.773.773 0 0 1-.32.321c-.14.075-.29.114-.586.114H16.6c.084-.248.13-.508.144-.797l.006-.223v-.134c0-1.069-.358-1.957-.971-2.659A7.74 7.74 0 0 1 17.5 15zm-7-6a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5zm7 0a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5z" fill="#fff" /></symbol>',28,28,!1,void 0)},422152:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});const a=(0,n(951201).makeIcon)("Icon28VolumeCircleFillGray","volume_circle_fill_gray_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="volume_circle_fill_gray_28"><linearGradient id="volume_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#volume_circle_fill_gray_28_a)" /><path clip-rule="evenodd" d="M6.923 11.5H9l3.293-3.293A1 1 0 0 1 14 8.914v10.172a1 1 0 0 1-1.707.707L9 16.5H6.923c-.669 0-.911-.07-1.156-.2-.244-.131-.436-.323-.567-.567s-.2-.487-.2-1.156v-1.154c0-.669.07-.911.2-1.156.131-.244.323-.436.567-.567.245-.13.487-.2 1.156-.2zm9.526-.788a.9.9 0 0 1 1.27.097A4.885 4.885 0 0 1 18.9 14c0 1.216-.444 2.33-1.177 3.186a.9.9 0 1 1-1.367-1.17A3.084 3.084 0 0 0 17.1 14c0-.772-.28-1.476-.747-2.018a.9.9 0 0 1 .096-1.27zm4.044-2.39a.9.9 0 1 0-1.251 1.294A6.08 6.08 0 0 1 21.1 14a6.08 6.08 0 0 1-1.859 4.384.9.9 0 0 0 1.252 1.294A7.88 7.88 0 0 0 22.9 14a7.88 7.88 0 0 0-2.407-5.677z" fill="#fff" fill-rule="evenodd" /></symbol>',28,28,!1,void 0)},832842:(e,t,n)=>{"use strict";n.d(t,{ContactList:()=>g});n(200930);var a=n(667294),s=n(654625),i=n(778991),r=n(717941),o=n(129948),l=n(529122),c=n(825759),u=n(611728),d=n(274061),m=n(112820),_=n(804590),p=n(671737),h=n(785835),f=n(441009),v=n(383965),g=e=>{var t=e.items,n=e.contacts,s=e.hasMore,l=e.onSelect,p=(0,r.useDispatch)(),h=(0,r.useBrowserEnv)().lang,g=(0,a.useRef)(null),C=(0,a.useRef)(null),b=(0,a.useState)(!1),E=b[0],w=b[1],S=(0,a.useState)("loading"),I=S[0],N=S[1],k=(0,a.useState)([]),x=k[0],L=k[1],z=(0,v.useSearchHandlers)(),M=z.query,R=z.onChange,B=z.onKeyDown,O=z.onFocus,A=z.onBlur,T=z.reset,F=z.isFocused,U=(0,a.useCallback)((()=>w(!0)),[]),D=(0,a.useCallback)((()=>w(!1)),[]),P=(0,a.useCallback)((e=>{var t=e.index,n=e.style;return a.createElement("li",{key:t,style:n,className:"ContactList__itemWrapper"},a.createElement("button",{className:"ContactList__importButton",onClick:U},a.createElement("span",{className:"ContactList__importButtonIcon"},a.createElement(i.default,null)),h.use("me_contacts_import")))}),[h,U]),G=(0,a.useMemo)((()=>[P]),[P]),H=(0,a.useMemo)((()=>c.add(c.create(),[...t.values(),...n.values()],(e=>({id:"Contact"===e.kind&&e.userId?e.userId:e.id,strings:c.peerWords(e)})))),[n,t]);(0,a.useEffect)((()=>{s?p({type:"LoadContactList",offset:0}):(L([...t.keys(),...n.keys()]),N(0===t.size?"empty":"results"))}),[s,p,t,n]),(0,a.useEffect)((()=>{var e;null==(e=C.current)||e.focus()}),[]),(0,a.useEffect)((()=>{if("loading"!==I){if(M){var e=[...c.search(H,M).values()];return L(e),void N(e.length?"results":"empty")}L([...t.keys(),...n.keys()]),N(0===t.size?"empty":"results")}}),[n,M,t,H,I]);var W=(0,a.useCallback)((e=>{var t;return(null==(t=G[e.index])?void 0:t.call(G,e))||null}),[G]);return a.createElement("div",{className:"ContactList"},"loading"!==I&&n.size>0&&a.createElement("div",{className:"ContactList__search"},a.createElement(f.SearchInput,{active:F&&!!M,placeholder:h.use("me_convo_list_search_placeholder"),"aria-label":h.use("me_convo_list_search_placeholder"),htmlInputRef:C,query:M,onChange:R,onKeyDown:B,onFocus:O,onBlur:A,onReset:T})),"empty"!==I&&a.createElement("div",{className:"ContactList__contacts"},"loading"===I?a.createElement(o.OptimizedSpinner,{className:"ContactList__loader"}):a.createElement(u.default,null,(e=>a.createElement(_.default,{style:e},(t=>{var s=t.scrollableNodeRef,i=t.contentNodeRef;return a.createElement(d.FixedSizeList,{ref:g,className:"ContactList__virtual",height:e.height,width:e.width,overscanCount:10,itemCount:G.length+x.length,itemSize:56,innerElementType:"ul",outerRef:s,innerRef:i,itemData:{onSelect:l,renderActionButton:W,actionButtons:G,contacts:n,results:x}},y)}))))),"empty"===I&&a.createElement("div",{className:"ContactList__contacts"},a.createElement("ul",null,W({index:0,style:{},data:{}})),a.createElement("div",{className:"ContactList__noResults"},h.use(M?"me_search_empty_contacts":"me_contacts_empty"))),E&&a.createElement(m.ImportContactModal,{onClose:D}))},y=a.memo((e=>{var t=e.index,n=e.style,i=e.data,o=i.contacts,c=i.results,u=i.onSelect,d=i.actionButtons,m=i.renderActionButton,_=(0,r.usePeers)();if(t<d.length)return m({index:t,style:n,data:{}});var f=c[t-d.length];if(!f)return null;var v=_.get(f)||o.get(f);return!v||"User"!==v.kind&&"Contact"!==v.kind?null:a.createElement("li",{className:"ContactList__itemWrapper",key:v.id,style:n},a.createElement("div",{className:"ContactList__item",onClick:()=>u(v.id),role:"link"},a.createElement("div",{className:"ContactList__avatar"},a.createElement(s.Avatar,{peer:v,size:40,withBirthday:!0})),a.createElement("div",null,a.createElement("div",{className:"ContactList__name"},l.name(v)),v.lastSeen?a.createElement(p.OnlineStatus,{user:v,className:"ContactList__info"}):a.createElement(h.FormattedPhoneNumber,{phone:v.phone}))))}))},785835:(e,t,n)=>{"use strict";n.d(t,{FormattedPhoneNumber:()=>o});var a=n(887757),s=n(692137),i=n(667294),r=n(277914),o=e=>{var t=e.phone,n=(0,i.useState)(t),o=n[0],l=n[1];return(0,i.useEffect)((()=>{(0,s.default)(a.mark((function e(){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.formatPhoneNumber)(t);case 2:n=e.sent,l(n.international);case 4:case"end":return e.stop()}}),e)})))()}),[t]),i.createElement("div",{className:"ContactList__info"},null!=o?o:t)}},409394:(e,t,n)=>{"use strict";n.d(t,{CopyText:()=>s});n(215334);var a=n(667294),s=e=>{var t=e.text,n=e.onCopyDone,s=e.children,i=(0,a.useRef)(null),r=(0,a.useCallback)((e=>{function a(){i.current&&(i.current.focus(),i.current.select(),document.execCommand("copy"),n&&n())}e.preventDefault(),e.stopPropagation(),navigator.clipboard.writeText?navigator.clipboard.writeText(t).then((()=>{n&&n()})).catch(a):a()}),[n,t]);return a.createElement("div",{className:"CopyText",onClick:r},a.createElement("input",{type:"text",readOnly:!0,value:t||"",ref:i,className:"CopyText__input"}),s)}},112820:(e,t,n)=>{"use strict";n.d(t,{ImportContactModal:()=>o});var a=n(667294),s=n(530311),i=n(571481),r=n(171964),o=(n(928910),e=>{var t=e.onClose,n=(0,s.useModalGroup)(),o=(0,s.useModal)(n.id),l=(0,s.useModal)(n.id),c=(0,a.useState)(null),u=c[0],d=c[1];return(0,a.useLayoutEffect)((()=>(o.open(),()=>{n.closeGroup()})),[o.open,n.closeGroup]),a.createElement(a.Fragment,null,o.isActive&&a.createElement(i.InputContactModal,{openInviteModal:l.open,onClose:t,setContactPhone:d}),l.isActive&&u&&a.createElement(r.InviteContactModal,{contactPhone:u,onClose:t,onBack:()=>{l.close()}}))})},571481:(e,t,n)=>{"use strict";n.d(t,{InputContactModal:()=>g});var a=n(887757),s=n(692137),i=n(722122),r=n(667294),o=n(86894),l=n(20700),c=n(701069),u=n(529122),d=n(717941),m=n(184244),_=n(792109),p=n(436690),h=n(451508),f=(n(522283),{status:"default",value:""}),v=e=>["phone","name","surname"].some((t=>e===t)),g=e=>{var t=e.onClose,g=e.openInviteModal,y=e.setContactPhone,C=(0,d.useBrowserEnv)().lang,b=(0,m.useRouter)().navigate,E=(0,_.useLayoutData)().mode,w=(0,p.useImportContact)(),S=w.isLoading,I=w.importContact,N=(0,r.useState)(!0),k=N[0],x=N[1],L=(0,r.useState)({phone:f,name:f,surname:f}),z=L[0],M=L[1],R=(0,d.useDispatch)(),B=(0,r.useMemo)((()=>!(z.phone.value&&z.name.value.trim())),[z.name.value,z.phone.value]),O=(0,r.useRef)(null);(0,r.useEffect)((()=>{n.e(98755).then(n.bind(n,198755)).then((e=>{var t=e.getAsYouType;O.current=t("RU"),x(!1)}))}),[]);var A=(0,r.useCallback)(((e,t)=>{M((n=>{var a=(0,i.default)({},n);return a[e]=t,a}))}),[]),T=(0,r.useCallback)(function(){var e=(0,s.default)(a.mark((function e(t){var n,s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.target.name,v(s)&&O.current){e.next=3;break}return e.abrupt("return");case 3:e.t0=s,e.next="phone"===e.t0?6:9;break;case 6:return O.current.reset(t.target.value.replace(/[^\d+]/g,"")),A(s,{status:"default",value:null==(n=O.current)?void 0:n.number()}),e.abrupt("break",10);case 9:A(s,{status:"default",value:t.target.value.trim()});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A]),F=(0,r.useCallback)((0,s.default)(a.mark((function e(){var t,n,s,i,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=z.phone.value,n=z.name.value,s=z.surname.value,(0,c.isValidPhoneNumber)(t)){e.next=5;break}return e.abrupt("return",A("phone",{status:"error",value:t}));case 5:if(0!==n.length){e.next=7;break}return e.abrupt("return",A("name",{status:"error",value:n}));case 7:return e.next=9,I({phone:t,name:n,surname:s});case 9:(i=e.sent).hasFailed?(y(t),g()):(R({type:"ImportContact",profile:i.profile,contact:i.contact}),b({kind:"ConvoRoute",peerId:(null==(r=i.profile)?void 0:r.id)?u.resolveRealId("User",i.profile.id):u.resolveRealId("Contact",i.contact.id),entrypoint:"contacts_list"}));case 11:case"end":return e.stop()}}),e)}))),[R,z.name.value,z.phone.value,z.surname.value,I,b,g,y,A]),U=S||k,D="one-column"===E;return r.createElement(h.ModalInterface,{title:C.use("me_contacts_import_modal_title"),closeLabel:C.use("me_close"),onClose:t,buttons:r.createElement(o.Button,{disabled:B,loading:U,mode:"primary",onClick:F},C.use("me_contacts_import_add_button")),contextClass:"MEConfig",withCustomLayout:!0},r.createElement(o.FormLayout,{className:l("ImportContactModal",{"ImportContactModal--fullScreen":D}),onSubmit:e=>{e.preventDefault(),F()}},r.createElement(o.FormItem,{top:r.createElement(r.Fragment,null,C.use("me_contacts_import_modal_phone_input")," ",r.createElement("span",{className:"InputContactModal__requiredSymbol"},"*")),status:z.phone.status},r.createElement(o.Input,{type:"tel",maxLength:250,autoComplete:"tel",name:"phone",value:z.phone.value,onChange:T,placeholder:C.use("me_contacts_import_tel_placeholder"),disabled:U,required:!0})),r.createElement(o.FormLayoutGroup,{mode:"horizontal"},r.createElement(o.FormItem,{top:r.createElement(r.Fragment,null,C.use("me_contacts_import_modal_name_input")," ",r.createElement("span",{className:"InputContactModal__requiredSymbol"},"*")),status:z.name.status},r.createElement(o.Input,{maxLength:250,type:"text",name:"name",autoComplete:"given-name",onChange:T,disabled:U,required:!0})),r.createElement(o.FormItem,{top:C.use("me_contacts_import_modal_surname_input")},r.createElement(o.Input,{maxLength:250,type:"text",name:"surname",autoComplete:"family-name",onChange:T,disabled:U})))))}},171964:(e,t,n)=>{"use strict";n.d(t,{InviteContactModal:()=>m});var a=n(667294),s=n(86894),i=n(20700),r=n(616963),o=n(717941),l=n(792109),c=n(451508),u=n(409394),d=(n(950652),n(505081)),m=e=>{var t=e.contactPhone,n=e.onClose,m=e.onBack,_=(0,o.useBrowserEnv)().lang,p=(0,l.useLayoutData)().mode,h=(0,a.useState)(!1),f=h[0],v=h[1],g=(0,a.useRef)(null);(0,a.useEffect)((()=>()=>{g.current&&clearTimeout(g.current)}),[]);var y="one-column"===p;return a.createElement(c.ModalInterface,{title:_.use("me_contacts_invite_modal_title"),closeLabel:_.use("me_close"),onClose:n,contextClass:"MEConfig",backLabel:_.use("me_back"),onBack:m,withCustomLayout:!0},a.createElement("div",{className:i("InviteContactModal",{"InviteContactModal--fullScreen":y})},a.createElement("div",{className:"InviteContactModal__textWrapper"},a.createElement("p",{className:"InviteContactModal__text"},a.createElement(d.FormattedLangKey,{langkey:"me_contacts_invite_modal_user_not_found",values:{phone:a.createElement("span",{className:"InviteContactModal__phone"},t)}})),a.createElement("p",{className:"InviteContactModal__text"},_.use("me_contacts_invite_modal_app_promo"))),a.createElement(s.Input,{className:"InviteContactModal__linkBox",value:r.VKME_APP_INSTALL_LINK,readOnly:!0,autoFocus:!0,type:"text"}),a.createElement("div",{className:"InviteContactModal__linkCopyWrapper"},a.createElement(u.CopyText,{onCopyDone:()=>{v(!0),g.current&&clearTimeout(g.current),g.current=setTimeout((()=>v(!1)),2e3)},text:r.VKME_APP_INSTALL_LINK},a.createElement(s.Button,{mode:"secondary",size:"m"},_.use("me_contacts_invite_modal_link_copy"))),a.createElement("span",{className:i("InviteContactModal__linkCopyNotice",{"InviteContactModal__linkCopyNotice--blink":f})},_.use("me_contacts_invite_modal_link_copied")))))}},436690:(e,t,n)=>{"use strict";n.d(t,{useImportContact:()=>l});var a=n(887757),s=n(692137),i=n(717941),r=n(616963),o=n(667294),l=()=>{var e=(0,i.useBrowserEnv)().api,t=(0,o.useState)(!1),n=t[0],l=t[1];return{isLoading:n,importContact:(0,o.useCallback)(function(){var t=(0,s.default)(a.mark((function t(n){var s,i,o,c,u,d,m;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.phone,c=n.name,u=n.surname,l(!0),d=u?c+" "+u:c,t.next=5,e.fetch("account.importMessagesContacts",{contacts:JSON.stringify([{phones:[o],name:d}]),extended:1,device_id:r.CLIENT_ID.toString()});case 5:if(0!==(m=t.sent).items.synced.length&&(null==(s=m.contacts)?void 0:s[0])){t.next=8;break}return t.abrupt("return",{hasFailed:!0});case 8:return l(!1),t.abrupt("return",{items:m.items,profile:null==(i=m.profiles)?void 0:i[0],contact:m.contacts[0],hasFailed:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}}},966133:(e,t,n)=>{"use strict";n.d(t,{OptionsListItem:()=>r,OptionsListItemWrapper:()=>l});n(181362);var a=n(667294),s=n(20700),i=n(561362),r=e=>{var t=e.icon,n=e.title,s=e.description,r=e.aside,o=e.isPadded,c=void 0===o||o,u=e.isInteractive,d=e.hasChevron,m=e.onClick,_=e.className;return a.createElement(l,{onClick:m,isInteractive:u,className:_,isPadded:c},a.createElement("div",{className:"OptionsListItem__icon","aria-hidden":!0},t),a.createElement("div",{className:"OptionsListItem__main"},a.createElement("div",{className:"OptionsListItem__title"},n),s&&a.createElement("div",{className:"OptionsListItem__description"},s)),d&&a.createElement("div",{className:"OptionsListItem__aside OptionsListItem__aside--chevron"},a.createElement(i.default,null)),r&&a.createElement("div",{className:"OptionsListItem__aside"},r))};function o(e){e.preventDefault()}var l=e=>{var t=e.children,n=e.className,i=e.isInteractive,r=e.isPadded,l=void 0===r||r,c=e.onClick,u=s("OptionsListItem",n,{"OptionsListItem--interactive":null!=i?i:c,"OptionsListItem--padded":l});return a.createElement("li",{className:u,onClick:c,tabIndex:c?0:void 0,onMouseDown:c?o:void 0},t)}},441009:(e,t,n)=>{"use strict";n.d(t,{SearchInput:()=>c});var a=n(722122),s=n(419756),i=n(667294),r=n(20700),o=n(720152),l=n(244590),c=(n(471376),e=>{var t=e.query,n=e.onChange,c=e.onKeyDown,u=e.onFocus,d=e.onBlur,m=e.onReset,_=e.active,p=e.htmlInputRef,h=(0,s.default)(e,["query","onChange","onKeyDown","onFocus","onBlur","onReset","active","htmlInputRef"]);return i.createElement("label",{className:r("SearchInput__searchControl",{"SearchInput__searchControl--active":_})},i.createElement("span",{className:"SearchInput__searchIcon"},i.createElement(o.default,{style:{color:"var(--icon_medium)"}})),i.createElement("input",(0,a.default)({type:"search",className:"SearchInput__searchInput",ref:p,value:t||"",onChange:n,onKeyDown:c,onFocus:u,onBlur:d},h)),i.createElement("button",{className:"SearchInput__searchCancel",tabIndex:-1,onClick:m},i.createElement(l.default,null)))})},110246:(e,t,n)=>{"use strict";n.d(t,{Settings:()=>b,ProfileInfoControl:()=>N});n(252495);var a=n(667294),s=n(982739),i=n(966133),r=n(170322),o=n(422152),l=n(263041),c=n(941192),u=n(975761),d=n(51441),m=n(266106),_=n(237289),p=n(447066),h=n(6058),f=n(27346),v=n(86894),g=n(311323),y=n(717941),C=n(129948),b=e=>{var t=e.isLoading,n=e.set,p=void 0===n?new Set(["ctrSubmit","soundNotifications","showRecommendations","countOnlyNotMuted","autoUnarchive","transcriptAutoShow","theme"]):n,h=e.profileInfoControl,f=(0,y.useBrowserEnv)(),g=f.lang,b=f.browserNotifications,S=(0,y.useViewer)().settings,N=(0,y.useFeatureFlags)(),k=(0,y.useDispatch)();return a.createElement("ul",{className:"Settings"},t&&a.createElement(C.OptimizedSpinner,{className:"Settings__loader"}),h&&a.createElement(i.OptionsListItemWrapper,{className:"Settings__profileOptionItem",isPadded:!1},h),p.has("ctrSubmit")&&a.createElement(i.OptionsListItem,{icon:a.createElement(r.default,null),title:g.use("me_settings_message_submit"),aside:a.createElement(E,{isCtrSubmitSelected:S.ctrSubmit,onChange:e=>k({type:"UserChangedSetting",setting:"ctrSubmit",value:e})})}),p.has("soundNotifications")&&a.createElement(i.OptionsListItem,{icon:a.createElement(o.default,null),title:g.use("me_settings_sound_notifications"),aside:a.createElement(v.Switch,{className:"Settings__switch",checked:S.soundNotifications,onChange:e=>k({type:"UserChangedSetting",setting:"soundNotifications",value:Boolean(e.target.checked)})})}),p.has("showRecommendations")&&a.createElement(i.OptionsListItem,{icon:a.createElement(l.default,null),title:g.use("me_settings_show_recommendations"),aside:a.createElement(v.Switch,{className:"Settings__switch",checked:S.showRecommendations,onChange:e=>k({type:"UserChangedSetting",setting:"showRecommendations",value:Boolean(e.target.checked)})})}),p.has("countOnlyNotMuted")&&a.createElement(i.OptionsListItem,{icon:a.createElement(c.default,null),title:g.use("me_settings_count_not_muted"),description:g.use("me_settings_count_not_muted_note"),aside:a.createElement(v.Switch,{className:"Settings__switch",checked:!S.countOnlyNotMuted,onChange:e=>k({type:"UserChangedSetting",setting:"countOnlyNotMuted",value:!Boolean(e.target.checked)})})}),p.has("autoUnarchive")&&a.createElement(i.OptionsListItem,{icon:a.createElement(u.default,null),title:g.use("me_settings_auto_unarchive"),description:g.use("me_settings_auto_unarchive_note"),aside:a.createElement(v.Switch,{className:"Settings__switch",checked:S.autoUnarchive,onChange:e=>k({type:"UserChangedSetting",setting:"autoUnarchive",value:Boolean(e.target.checked)})})}),b&&a.createElement(i.OptionsListItem,{icon:a.createElement(d.default,null),title:g.use("me_settings_browser_notifications"),aside:a.createElement(w,{browserNotifications:b})}),S.teacherVerification&&a.createElement(i.OptionsListItem,{icon:a.createElement(d.default,null),title:g.use("me_settings_teacher_verification_title"),description:g.use("me_settings_teacher_verification"),aside:a.createElement(s.ExternalLink,{href:"https://sferum.ru/?s=me",className:"Settings__link"},g.use("me_settings_teacher_verification_link"))}),p.has("transcriptAutoShow")&&a.createElement(i.OptionsListItem,{icon:a.createElement(m.default,null),title:g.use("me_settings_auto_transcript"),aside:a.createElement(v.Switch,{className:"Settings__switch",checked:S.transcriptAutoShow,onChange:e=>k({type:"UserChangedSetting",setting:"transcriptAutoShow",value:Boolean(e.target.checked)})})}),N.vkm_reactions&&p.has("messageReactionAnimation")&&a.createElement(i.OptionsListItem,{icon:a.createElement(m.default,null),title:g.use("me_settings_message_reactions_animation"),aside:a.createElement(v.Switch,{className:"Settings__switch",checked:S.messageReactionAnimation,onChange:e=>k({type:"UserChangedSetting",setting:"messageReactionAnimation",value:Boolean(e.target.checked)})})}),p.has("theme")&&a.createElement(i.OptionsListItem,{icon:a.createElement(_.default,null),title:g.use("me_settings_theme"),aside:a.createElement(I,{theme:S.theme,onChange:e=>k({type:"SettingThemeUpdated",value:e})})}))},E=e=>{var t=e.isCtrSubmitSelected,n=e.onChange,s=(0,y.useBrowserEnv)().lang,i=(0,a.useRef)(null),r=(0,a.useState)(!1),o=r[0],l=r[1],c=(0,a.useCallback)((e=>{if(e.target instanceof HTMLInputElement){var t=Boolean(Number(e.target.value));n(t)}}),[n]),u=t?s.use("me_settings_message_submit_option_ctr"):s.use("me_settings_message_submit_option_default");return a.createElement("div",{className:"Settings__select"},a.createElement(g.PopoutRoot,{popout:o?a.createElement(v.ActionSheet,{onClose:()=>l(!1),toggleRef:i,popupDirection:"bottom"},a.createElement(v.ActionSheetItem,{autoclose:!0,subtitle:s.use("me_settings_message_submit_option_default_note"),selectable:!0,checked:!t,value:"0",onChange:c},s.use("me_settings_message_submit_option_default")),a.createElement(v.ActionSheetItem,{autoclose:!0,subtitle:s.use("me_settings_message_submit_option_ctr_note"),selectable:!0,checked:t,value:"1",onChange:c},s.use("me_settings_message_submit_option_ctr"))):null},a.createElement("button",{className:"Settings__button",ref:i,onClick:()=>l(!0)},u,a.createElement("span",{className:"Settings__buttonChevron"},a.createElement(p.default,null)))))},w=e=>{var t=e.browserNotifications,n=(0,y.useDispatch)(),s=(0,y.useViewer)().settings,i=(0,y.useBrowserEnv)().lang;return"external"===s.browserNotifications?a.createElement("button",{className:"Settings__button",onClick:t.onExternal},i.use("me_settings_browser_notifications_external")," ",a.createElement("span",{className:"Settings__buttonChevron"},a.createElement(h.default,null))):a.createElement(v.Switch,{className:"Settings__switch",checked:s.browserNotifications,onChange:e=>t.onChange(Boolean(e.target.checked)).then((e=>n({type:"UserChangedBrowserNotifications",value:e})))})},S=["light","dark","system"],I=e=>{var t=e.theme,n=e.onChange,s=(0,y.useBrowserEnv)().lang,i=(0,a.useRef)(null),r=(0,a.useState)(!1),o=r[0],l=r[1],c=(0,a.useCallback)((e=>{if(e.target instanceof HTMLInputElement)switch(e.target.value){case"light":case"dark":case"system":n(e.target.value)}}),[n]);return a.createElement("div",{className:"Settings__select"},a.createElement(g.PopoutRoot,{popout:o?a.createElement(v.ActionSheet,{onClose:()=>l(!1),toggleRef:i,popupDirection:"top"},S.map((e=>a.createElement(v.ActionSheetItem,{key:e,autoclose:!0,selectable:!0,checked:t===e,value:e,onChange:c},s.use(`me_settings_theme_${e}`))))):null},a.createElement("button",{className:"Settings__button",ref:i,onClick:()=>l(!0)},s.use(`me_settings_theme_${t}`),a.createElement("span",{className:"Settings__buttonChevron"},a.createElement(p.default,null)))))},N=e=>{var t=e.profileInfo,n=e.onClick;return a.createElement(v.Cell,{className:"Settings__profile",onClick:n,before:a.createElement(v.Avatar,{className:"Settings__profileAvatar",size:64,src:t.avatarPhoto}),after:a.createElement(f.default,{className:"Settings__chevron"})},a.createElement("p",{className:"Settings__name"},t.firstName," ",t.lastName),t.screenName&&a.createElement("p",{className:"Settings__screenName"},"@",t.screenName))}},200930:()=>{},215334:()=>{},928910:()=>{},522283:()=>{},950652:()=>{},181362:()=>{},471376:()=>{},252495:()=>{},611728:(e,t,n)=>{"use strict";n.d(t,{default:()=>g});var a=n(667294),s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,s=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(s)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=void 0;c="undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g;var u=null,d=null,m=c.clearTimeout,_=c.setTimeout,p=c.cancelAnimationFrame||c.mozCancelAnimationFrame||c.webkitCancelAnimationFrame,h=c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame;function f(e){var t=void 0,n=void 0,a=void 0,s=void 0,i=void 0,r=void 0,o=void 0,l="undefined"!=typeof document&&document.attachEvent;if(!l){r=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,a=t.lastElementChild,s=n.firstElementChild;a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,s.style.width=n.offsetWidth+1+"px",s.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},i=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},o=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;r(this),this.__resizeRAF__&&u(this.__resizeRAF__),this.__resizeRAF__=d((function(){i(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var m=!1,_="";a="animationstart";var p="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f=document.createElement("fakeelement");if(void 0!==f.style.animationName&&(m=!0),!1===m)for(var v=0;v<p.length;v++)if(void 0!==f.style[p[v]+"AnimationName"]){_="-"+p[v].toLowerCase()+"-",a=h[v],m=!0;break}t="@"+_+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",s=_+"animation: 1ms "+n+"; "}return{addResizeListener:function(i,u){if(l)i.attachEvent("onresize",u);else{if(!i.__resizeTriggers__){var d=i.ownerDocument,m=c.getComputedStyle(i);m&&"static"===m.position&&(i.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var a=(t||"")+".resize-triggers { "+(s||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=n.head||n.getElementsByTagName("head")[0],r=n.createElement("style");r.id="detectElementResize",r.type="text/css",null!=e&&r.setAttribute("nonce",e),r.styleSheet?r.styleSheet.cssText=a:r.appendChild(n.createTextNode(a)),i.appendChild(r)}}(d),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=d.createElement("div")).className="resize-triggers";var _=d.createElement("div");_.className="expand-trigger",_.appendChild(d.createElement("div"));var p=d.createElement("div");p.className="contract-trigger",i.__resizeTriggers__.appendChild(_),i.__resizeTriggers__.appendChild(p),i.appendChild(i.__resizeTriggers__),r(i),i.addEventListener("scroll",o,!0),a&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&r(i)},i.__resizeTriggers__.addEventListener(a,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(u)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",o,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(a,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}null==p||null==h?(u=m,d=function(e){return _(e,20)}):(u=function(e){var t=l(e,2),n=t[0],a=t[1];p(n),m(a)},d=function(e){var t=h((function(){m(n),e()})),n=_((function(){p(t),e()}),20);return[t,n]});var v=function(e){function t(){var e,n,a;s(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={height:a.props.defaultHeight||0,width:a.props.defaultWidth||0},a._onResize=function(){var e=a.props,t=e.disableHeight,n=e.disableWidth,s=e.onResize;if(a._parentNode){var i=a._parentNode.offsetHeight||0,r=a._parentNode.offsetWidth||0,o=window.getComputedStyle(a._parentNode)||{},l=parseInt(o.paddingLeft,10)||0,c=parseInt(o.paddingRight,10)||0,u=parseInt(o.paddingTop,10)||0,d=parseInt(o.paddingBottom,10)||0,m=i-u-d,_=r-l-c;(!t&&a.state.height!==m||!n&&a.state.width!==_)&&(a.setState({height:i-u-d,width:r-l-c}),s({height:i,width:r}))}},a._setRef=function(e){a._autoSizer=e},o(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=f(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,s=e.disableHeight,i=e.disableWidth,o=e.style,l=this.state,c=l.height,u=l.width,d={overflow:"visible"},m={},_=!1;return s||(0===c&&(_=!0),d.height=0,m.height=c),i||(0===u&&(_=!0),d.width=0,m.width=u),(0,a.createElement)("div",{className:n,ref:this._setRef,style:r({},d,o)},!_&&t(m))}}]),t}(a.PureComponent);v.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};const g=v},566542:(e,t,n)=>{"use strict";n.d(t,{MediaScopeStats:()=>i});const a=(0,n(506770).partConfigEnabled)("messenger_mediascope_stats_collect"),s={vk:{open:"23112",close:"25112",active:"24112"},vkme:{open:"23122",close:"25122",active:"24122"},mvk:{open:"23112",close:"25112",active:"24112"}};const i=new class{constructor(){this.sendRequest=e=>{const t=s[this.platform][e];t&&("hidden"===document.visibilityState&&void 0!==navigator.sendBeacon?navigator.sendBeacon(`https://${t}.ms.vk.com`):fetch(`https://${t}.ms.vk.com`,{method:"HEAD",mode:"no-cors"}).catch((()=>{})))},this.stopStatsCollecting=()=>{clearInterval(this.timerId),this.sendRequest("close")},this.startStatsCollecting=()=>{this.sendRequest("open"),this.timerId=setInterval((()=>{this.sendRequest("active")}),1e4)},this.handleVisibilityChange=()=>{"hidden"===document.visibilityState?this.stopStatsCollecting():this.startStatsCollecting()},this.start=e=>{a&&(this.platform=e,this.startStatsCollecting(),document.addEventListener("visibilitychange",this.handleVisibilityChange))},this.stop=()=>{this.platform&&(this.stopStatsCollecting(),document.removeEventListener("visibilitychange",this.handleVisibilityChange))}}}}}]);try{stManager.done("dist/62f3ccbbc95ad9f159907fa70f82104b.d09f22572694c2e903c1.js")}catch(e){}