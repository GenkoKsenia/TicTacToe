/*! For license information please see 11c7a0efa74f6d488cf4ce0ffbe4d05a.cce90aa281b5a7185e59.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[79542],{710409:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon16Chevron","chevron_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_16"><path fill="currentColor" d="M7.227 8 3.864 4.636a.9.9 0 0 1 1.272-1.272l4 4a.9.9 0 0 1 0 1.272l-4 4a.9.9 0 0 1-1.272-1.272L7.227 8Z" /></symbol>',12,16,!1,void 0)},671269:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon20ChevronRightOutline","chevron_right_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" id="chevron_right_outline_20"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.47 4.217a.75.75 0 0 0 0 1.06L12.185 10l-4.716 4.72a.75.75 0 1 0 1.062 1.06l5.245-5.25a.75.75 0 0 0 0-1.061L8.531 4.218a.75.75 0 0 0-1.061-.001z" fill="currentColor" /></symbol>',20,20,!1,void 0)},585561:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon20DeleteOutline","delete_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="delete_outline_20"><path fill-rule="evenodd" d="M6.837 4H2.75a.75.75 0 0 0 0 1.5h.545l.907 9.248c.051.523.094.96.157 1.314.066.37.163.711.353 1.028a2.9 2.9 0 0 0 1.247 1.131c.334.158.682.222 1.058.25.36.029.797.029 1.323.029h3.32c.526 0 .964 0 1.323-.028.376-.03.724-.093 1.058-.25a2.9 2.9 0 0 0 1.247-1.132c.19-.317.287-.657.353-1.028.063-.355.106-.79.157-1.314l.907-9.248h.545a.75.75 0 0 0 0-1.5h-4.087a3.25 3.25 0 0 0-6.326 0Zm1.581 0h3.164a1.751 1.751 0 0 0-3.164 0Zm6.78 1.5H4.802l.89 9.072c.054.56.091.938.143 1.228.05.281.104.422.162.52a1.4 1.4 0 0 0 .603.546c.102.048.248.088.533.11.294.024.673.024 1.235.024h3.262c.562 0 .941 0 1.235-.023.285-.023.43-.063.533-.111a1.4 1.4 0 0 0 .603-.547c.058-.097.112-.238.162-.52.052-.29.09-.667.144-1.226l.89-9.073Zm-2.886 2.002a.75.75 0 0 1 .685.81l-.5 6.003a.75.75 0 0 1-1.494-.124l.5-6.003a.75.75 0 0 1 .81-.686Zm-4.624 0a.75.75 0 0 1 .81.686l.5 6.002a.75.75 0 0 1-1.495.125l-.5-6.003a.75.75 0 0 1 .685-.81Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},27346:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon24ChevronCompactRight","chevron_compact_right_24","0 0 16 24",'<symbol fill="none" viewBox="0 0 16 24" xmlns="http://www.w3.org/2000/svg" id="chevron_compact_right_24"><path d="M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a.998.998 0 0 1 0 1.416l-5.084 5.084a1.002 1.002 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12z" fill="currentColor" /></symbol>',16,24,!1,void 0)},774877:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon24DocumentOutline","document_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="document_outline_24"><path fill-rule="evenodd" d="M12.473 2c.3 0 .586 0 .866.066a2.4 2.4 0 0 1 .694.288c.245.15.447.353.659.565l4.389 4.39c.212.21.415.413.565.658a2.4 2.4 0 0 1 .288.694c.067.28.066.566.066.866v6.012c0 .947 0 1.713-.05 2.333-.053.64-.163 1.203-.43 1.726a4.4 4.4 0 0 1-1.922 1.922c-.523.267-1.087.377-1.726.43-.62.05-1.386.05-2.334.05h-3.076c-.948 0-1.714 0-2.334-.05-.64-.053-1.203-.163-1.726-.43a4.4 4.4 0 0 1-1.922-1.922c-.267-.523-.377-1.087-.43-1.726C4 17.252 4 16.486 4 15.538V8.462c0-.948 0-1.714.05-2.334.053-.64.163-1.203.43-1.726A4.4 4.4 0 0 1 6.402 2.48c.523-.267 1.087-.377 1.726-.43C8.748 2 9.514 2 10.462 2h2.011ZM10.5 3.8H12v2.135c0 .53 0 .981.03 1.352.032.39.102.768.286 1.13a2.9 2.9 0 0 0 1.267 1.267c.362.184.741.254 1.13.286.37.03.822.03 1.352.03H18.2v5.5c0 .995 0 1.687-.045 2.226-.043.527-.123.828-.238 1.054a2.6 2.6 0 0 1-1.137 1.137c-.226.115-.527.195-1.055.238-.538.044-1.23.045-2.225.045h-3c-.995 0-1.687 0-2.226-.045-.527-.043-.828-.123-1.054-.238a2.6 2.6 0 0 1-1.137-1.137c-.115-.226-.195-.527-.238-1.055-.044-.538-.045-1.23-.045-2.225v-7c0-.995 0-1.687.045-2.225.043-.528.123-.829.238-1.055A2.6 2.6 0 0 1 7.22 4.083c.226-.115.527-.195 1.054-.238C8.813 3.8 9.505 3.8 10.5 3.8Zm3.3.773L17.427 8.2H16.1c-.575 0-.952 0-1.24-.024-.278-.023-.393-.062-.46-.096a1.1 1.1 0 0 1-.48-.48c-.034-.066-.073-.182-.096-.46A17.426 17.426 0 0 1 13.8 5.9V4.573Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},650485:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2Zm-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Zm-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z" fill="currentColor" /></g></symbol>',24,24,!1,void 0)},354629:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon32Play","play_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" id="play_32"><path d="M24.948 14.001c1.154.656 1.732.984 1.925 1.412.17.374.17.8 0 1.174-.194.428-.77.756-1.925 1.412l-12.43 7.061c-1.154.656-1.732.984-2.205.935a1.471 1.471 0 0 1-1.033-.587C9 25.03 9 24.373 9 23.061V8.938c0-1.311 0-1.967.28-2.347.244-.33.62-.543 1.033-.586.473-.05 1.05.279 2.205.935L24.948 14Z" /></symbol>',32,32,!1,void 0)},602314:(e,t,r)=>{"use strict";r.d(t,{IconSettingsContext:()=>o});var n=r(667294);var o=n.createContext({})},951201:(e,t,r)=>{"use strict";r.d(t,{makeIcon:()=>m});var n=r(667294),o=r(887854),i=r.n(o),a=r(602314),s=r(428823),u=r(575059);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var h={display:"block"};var v=function(e){var t=e.width,r=e.height,o=e.viewBox,i=e.id,s=e.className,u=void 0===s?"":s,l=e.style,v=void 0===l?{}:l,m=e.fill,g=e.getRootRef,y=e.Component,E=void 0===y?"div":y,w=e.role,b=e["aria-label"],C=e["aria-hidden"],x=f(e,["width","height","viewBox","id","className","style","fill","getRootRef","Component","role","aria-label","aria-hidden"]),k=Math.max(t,r),A=n.useContext(a.IconSettingsContext),R=function(e,t){for(var r=t.classPrefix,n=t.globalClasses,o="",i=0;i<e.length;i++)r&&(o+=" "+(r+e[i])),r&&!n||(o+=" "+e[i]);return o}(["Icon","Icon--".concat(k),"Icon--w-".concat(t),"Icon--h-".concat(r),"Icon--".concat(i)],A);return n.createElement(E,c({role:"presentation"},x,{ref:g,className:"".concat(R," ").concat(u),style:p(d({},v),{width:t,height:r})}),n.createElement("svg",{viewBox:o,width:t,height:r,style:h,role:w,"aria-label":b,"aria-hidden":C},n.createElement("use",{xlinkHref:"#".concat(i),style:{fill:"currentColor",color:m}})))};function m(e,t,r,o,a,l,d,p){var f=!1;function h(){f||((0,s.addSpriteSymbol)(new(i())({id:t,viewBox:r,content:o})),f=!0)}var m=d?(0,u.warnOnce)(e):null,g=function(e){if((0,s.useIsomorphicLayoutEffect)(h,[]),d){var o=p?". Замените на ".concat(p):"";m("Иконка устарела"+o)}return n.createElement(v,c({},e,{viewBox:r,id:t,width:isNaN(e.width)?a:+e.width,height:isNaN(e.height)?l:+e.height}))};return g.mountIcon=h,g.displayName=e,g}},428823:(e,t,r)=>{"use strict";r.d(t,{addSpriteSymbol:()=>c,useIsomorphicLayoutEffect:()=>d});var n,o=r(362548),i=r.n(o),a=r(667294),s=!("undefined"==typeof window||!window.document||!window.document.createElement);if(s){var u="__SVG_SPRITE_NODE__";n=new(i())({attrs:{id:u}});var l=function(){var e=document.getElementById(u);e?n.attach(e):n.mount(),document.removeEventListener("DOMContentLoaded",l)};document.querySelector("body")?l():document.addEventListener("DOMContentLoaded",l)}else n=null;function c(e){n&&n.add(e)}var d=s?a.useLayoutEffect:a.useEffect},575059:(e,t,r)=>{"use strict";function n(e){var t={};return function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";t[r]||(console[n]("[@vkontakte/icons][".concat(e,"] ").concat(r)),t[r]=!0)}}r.d(t,{warnOnce:()=>n})},77509:(e,t,r)=>{"use strict";r.d(t,{ConvoAudiosPlaylist:()=>u,toConvoAudioTrack:()=>l,mapConvoToConvoAudioTrackList:()=>d,isConvoAudioTrack:()=>p,isRestoredConvoAudiosPlaylist:()=>f});var n=r(658265),o=r(826015),i=r(701069);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}class u{constructor(e){this.list=void 0,this.shuffledList=void 0,this.meta=void 0,this.list=e.list,this.shuffledList=(0,i.shuffleArray)(this.list),this.meta=e.meta}getNext(e,t,r){var n=t?this.shuffledList:this.list;return(0,o.getNextTrackFromPlaylist)(e,n,r)}getPrev(e,t,r){var n=t?this.shuffledList:this.list;return(0,o.getPrevTrackFromPlaylist)(e,n,r)}getConvoAudiosList(){return this.list}getPlaylistMeta(){return this.meta}}function l(e,t,r){var n;"Foreign"===(null==r?void 0:r.kind)&&"rootCmid"in r&&r.rootCmid?n={cmid:r.rootCmid,peerId:r.rootPeerId}:(null==r?void 0:r.peerId)&&(null==r?void 0:r.cmid)&&(n={peerId:r.peerId,cmid:r.cmid});var o=t.thumb,i=(null==o?void 0:o.photo_34)||(null==o?void 0:o.photo_68)||(null==o?void 0:o.photo_135)||(null==o?void 0:o.photo_270)||(null==o?void 0:o.photo_300)||(null==o?void 0:o.photo_600)||(null==o?void 0:o.photo_1200);return{title:t.title,artist:t.artist,trackCode:t.trackCode,fromMessage:n,thumb:i,audioTrack:{id:`${t.ownerId}_${t.id}`,url:t.url,progress:e,duration:t.duration}}}function c(e){var t,r=[];if("Normal"!==e.kind&&"Queued"!==e.kind&&"Foreign"!==e.kind)return r;if(Array.isArray(e.attaches.audios)){var n=[...e.attaches.audios];r.push(...n.reverse())}var o=null==(t=e.attaches.wall)?void 0:t.attaches.audios;if(Array.isArray(o)){var i=[...o];r.push(...i.reverse())}var a=e.forwardedMessages;Array.isArray(a)&&a.reduceRight(((e,t)=>(e.push(...c(t)),e)),r);var s=e.replyMessage;return s&&r.push(...c(s)),r}function d(e){for(var t,r=[],i=function(e){var t="Normal"===e.kind,n="Queued"===e.kind;(t||n)&&c(e).filter((e=>!!e.url)).forEach((t=>{var n="Normal"===e.kind?e:void 0;r.push(l(0,t,n))}))},s=a(n.iterable(e));!(t=s()).done;){i(t.value.message)}return(0,o.excludeTracksDoubling)(r).reverse()}function p(e){if(!e||"object"!=typeof e)return!1;var t=e.title,r=e.artist,n=e.audioTrack,o=e.trackCode,i=e.fromMessage,a=e.thumb;if("string"!=typeof t||"string"!=typeof r||!n||"object"!=typeof n||"string"!=typeof o||!i||"object"!=typeof i||"string"!=typeof a)return!1;var s=n.url,u=n.id,l=n.duration,c=n.progress;return"string"==typeof s&&"string"==typeof u&&"number"==typeof l&&"number"==typeof c&&("number"==typeof i.cmid&&"number"==typeof i.peerId)}function f(e){if(e&&"object"==typeof e){var t=e.meta,r=e.list,n=!1,o=!1;if(t&&"object"==typeof t){var i=t.convoPeerId,a=t.type;n="number"==typeof i&&"temp"===a}return r&&Array.isArray(r)&&r.length&&(o=!!r.filter((e=>p(e))).length),n&&o}return!1}},826015:(e,t,r)=>{"use strict";r.d(t,{getNextTrackFromPlaylist:()=>o,getPrevTrackFromPlaylist:()=>i,excludeTracksDoubling:()=>a});var n=r(722122);function o(e,t,r){var o=t.findIndex((t=>t.audioTrack.id===e.audioTrack.id)),i=o>=0?t[o+1]:void 0;if(i)return(0,n.default)({},i,{audioTrack:(0,n.default)({},i.audioTrack,{progress:0})});if(!i&&"all"===r){var a=t[0];return a?(0,n.default)({},a,{audioTrack:(0,n.default)({},a.audioTrack,{progress:0})}):void 0}}function i(e,t,r){var o=t.findIndex((t=>t.audioTrack.id===e.audioTrack.id)),i=t[o-1];if(i)return(0,n.default)({},i,{audioTrack:(0,n.default)({},i.audioTrack,{progress:0})});if(!i&&"all"===r){var a=t[t.length-1];return a?(0,n.default)({},a,{audioTrack:(0,n.default)({},a.audioTrack,{progress:0})}):void 0}}function a(e){var t=new Set;return e.filter((e=>!t.has(e.audioTrack.id)&&(t.add(e.audioTrack.id),!0)))}},960565:(e,t,r)=>{"use strict";r.d(t,{useComposerDraft:()=>a,ComposerDraftsProvider:()=>u,useChannelComposerDraft:()=>l,ChannelComposerDraftsProvider:()=>d});var n=r(667294),o=r(452990),i=r(614031);function a(e){var t=(0,n.useContext)(s);if(!t)throw new Error("ComposerDraftsProvider не добавлен в дерево Реакта!");return t[e]||o.empty()}var s=n.createContext({}),u=s.Provider;function l(e){var t=(0,n.useContext)(c);if(!t)throw new Error("ChannelComposerDraftsProvider не добавлен в дерево Реакта!");return t[e]||i.empty()}var c=n.createContext({}),d=c.Provider},237822:(e,t,r)=>{"use strict";r.d(t,{ActionsMenu:()=>c,ActionsMenuAction:()=>d,ActionsMenuDropdownAction:()=>p,ActionsMenuSeparator:()=>f});var n=r(722122),o=r(419756),i=(r(759244),r(667294)),a=r(20700),s=r(710409),u=r(746465),l=r(792109),c=e=>{var t=e.className,r=e.children,s=(0,o.default)(e,["className","children"]);return i.createElement("div",(0,n.default)({},s,{className:a("ActionsMenu",t)}),r)},d=e=>{var t=e.leftIcon,r=e.rightIcon,s=e.title,u=e.subtitle,l=e.type,c=void 0===l?"secondary":l,d=e.size,p=void 0===d?"regular":d,f=e.isActive,h=void 0!==f&&f,v=e.isLoading,m=e.className,g=e.onClick,y=(0,o.default)(e,["leftIcon","rightIcon","title","subtitle","type","size","isActive","isLoading","className","onClick"]);return i.createElement("button",(0,n.default)({},y,{className:a("ActionsMenuAction",c&&`ActionsMenuAction--${c}`,v&&"ActionsMenuAction--loading",h&&"ActionsMenuAction--active",`ActionsMenuAction--size-${p}`,m),onClick:g}),t&&i.createElement("i",{className:"ActionsMenuAction__icon"},t),i.createElement("span",{className:"ActionsMenuAction__title"},s,u&&i.createElement("span",{className:"ActionsMenuAction__subtitle"},u)),r&&i.createElement("i",{className:"ActionsMenuAction__icon"},r))},p=e=>{var t=e.children,r=e.icon,p=e.openType,f=e.hideOnClick,h=void 0===f||f,v=e.position,m=e.align,g=(0,o.default)(e,["children","icon","openType","hideOnClick","position","align"]),y=(0,i.useState)(!1),E=y[0],w=y[1],b=(0,l.useLayoutData)().mode,C=(0,i.useMemo)((()=>{var e="two-column"===b?{position:"right",align:"left"}:{position:"bottom",align:"right"};return v&&(e.position=v),m&&(e.align=m),e}),[b,v,m]);return i.createElement(u.Dropdown,(0,n.default)({content:i.createElement(c,{className:a({"ActionsMenu--dropdown":"two-column"===b})},t)},"click"===p?{openType:"click"}:{openType:"hover",hideDelay:0},{},C,{classNames:{trigger:"ActionsMenu--dropdown-trigger"},adaptation:"vertical",onOpen:()=>w(!0),onClose:()=>w(!1),hideOnClick:h,canOpen:!g.disabled}),i.createElement(d,(0,n.default)({},g,{isActive:E,leftIcon:r,rightIcon:i.createElement(s.default,null)})))},f=e=>{var t=e.className;return i.createElement("div",{role:"separator",className:a("ActionsMenuAction__separator",t)})}},764285:(e,t,r)=>{"use strict";r.d(t,{AttachAudio:()=>c});r(963328);var n=r(667294),o=r(20700),i=r(701069),a=r(717941),s=r(266387),u=r(77509),l=r(184244),c=n.memo((function(e){var t=e.audio,r=e.message;return Boolean(t.contentRestricted)?n.createElement(f,{audio:t}):n.createElement(p,{audio:t,message:r})}));function d(e,t){return void 0===t&&(t=!0),(t?"-":"")+Math.floor(e/60).toString().split("").fill("0").join("")+":00"}var p=n.memo((function(e){var t=e.audio,r=e.message,o=(0,a.useBrowserEnv)().player,i=(0,n.useContext)(s.ConvoAudiosPlaylistContext),l=(0,n.useState)("stopped"),c=l[0],d=l[1],p=(0,n.useState)(0),f=p[0],v=p[1],m=(0,n.useRef)(`${t.ownerId}_${t.id}`),g=(0,n.useCallback)((e=>{var t=e.currentTrackEntity,r=e.status;if((null==t?void 0:t.audioTrack)&&t.audioTrack.id===m.current){var n=t.audioTrack.progress;d(r),v(n)}}),[]);(0,n.useEffect)((()=>(o.subscribe("stateupdated",g),()=>{o.unsubscribe("stateupdated",g)})),[t,g,o]),(0,n.useEffect)((()=>{g(o.getState())}),[]);var y=(0,n.useCallback)((e=>{if(t.url){if("playing"===c)o.pause();else{var n=i(),a="Foreign"===(null==r?void 0:r.kind)||"Normal"===(null==r?void 0:r.kind)?r:void 0;o.play((0,u.toConvoAudioTrack)(f,t,a),n)}e.preventDefault()}}),[t,c,o,i,f,r]);return n.createElement(h,{progress:f,artist:t.artist,title:t.title,duration:t.duration,status:c,onClick:y})}));function f(e){var t=e.audio,r=(0,l.useRouter)().navigate;return n.createElement(h,{progress:0,artist:t.artist,title:t.title,duration:t.duration,status:"stopped",className:"AttachAudio__restricted",onClick:()=>{r({kind:"AudioRestrictionRuntimeRoute",audio:t})}})}var h=e=>{var t=e.progress,r=e.duration,a=e.artist,s=e.title,u=e.status,l=e.className,c=e.onClick;return n.createElement("div",{className:o("AttachAudio",l,{"AttachAudio--active":"playing"===u||"paused"===u,"AttachAudio--playing":"playing"===u})},n.createElement("button",{className:"AttachAudio__play",onClick:c},n.createElement("div",{className:o("AttachAudio__playIcon","playing"===u&&"AttachAudio__playIcon--playing")},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:8,height:10,fill:"currentColor"},"playing"!==u&&n.createElement("path",{d:"M1.54 9.4A1 1 0 010 8.58V1.43A1 1 0 011.54.59l5.9 3.82a.7.7 0 010 1.18L1.54 9.4z"}),"playing"===u&&n.createElement("path",{d:"M.6 0a.6.6 0 00-.6.6v8.8c0 .33.27.6.6.6h1.8a.6.6 0 00.6-.6V.6a.6.6 0 00-.6-.6H.6zm5 0a.6.6 0 00-.6.6v8.8c0 .33.27.6.6.6h1.8a.6.6 0 00.6-.6V.6a.6.6 0 00-.6-.6H5.6z"})))),n.createElement("div",{className:"AttachAudio__title"},s),n.createElement("div",{className:"AttachAudio__artist"},a),n.createElement("div",{className:"AttachAudio__duration","data-filler":d(r)},n.createElement("div",{className:"AttachAudio__durationIn"},"playing"===u||"paused"===u?((e,t)=>{var r=Math.floor(t*(1-e));return"-"+(0,i.formatDuration)(r)})(t,r):(0,i.formatDuration)(r))))}},343284:(e,t,r)=>{"use strict";r.d(t,{AttachDoc:()=>p});r(403658);var n=r(667294),o=r(228450),i=r(774877),a=r(982739),s=r(701069),u=r(20700),l=r(717941),c=r(277914),d=r(891783),p=e=>{var t=e.doc,r=e.variant,p=void 0===r?"inline":r,f=e.isInBubble,h=void 0!==f&&f,v=e.forwardLevel,m=void 0===v?0:v,g=e.isOut,y=void 0!==g&&g,E=e.className,w=(0,l.usePixelDensity)(),b=(0,c.getExpectedAttachWidth)(w,h,m,232)[1],C=o.preview(t,b),x=t.ext.toUpperCase()+" · "+(0,s.formatFileSize)(t.size);return"preview"===p&&t.image?n.createElement(d.AttachDocPreview,{doc:t,meta:x,isInBubble:h,forwardLevel:m}):n.createElement(a.ExternalLink,{href:t.url,className:u("AttachDoc",E),download:!0},n.createElement("figure",{className:u("AttachDoc__icon",{"AttachDoc__icon--isOut":y})},C?n.createElement("img",{src:C.url,alt:t.title}):n.createElement(i.default,null)),n.createElement("div",{className:"AttachDoc__title"},t.title),n.createElement("div",{className:"AttachDoc__meta"},x))}},891783:(e,t,r)=>{"use strict";r.d(t,{AttachDocPreview:()=>c});r(861848);var n=r(667294),o=r(228450),i=r(982739),a=r(556452),s=r(354629),u=r(717941),l=r(277914),c=e=>{var t=e.doc,r=e.meta,c=e.isInBubble,d=void 0!==c&&c,p=e.forwardLevel,f=void 0===p?0:p,h=(0,n.useState)(!1),v=h[0],m=h[1],g=(0,u.usePixelDensity)(),y="gif"===t.ext,E=(0,l.getExpectedAttachWidth)(g,d,f,232),w=E[0],b=E[1],C=o.preview(t,b);if(!C)return null;var x=Math.min(C.width,w),k=Math.ceil(C.height/C.width*x);return n.createElement(i.ExternalLink,{href:t.url,className:"AttachDocPreview",style:{width:x,height:k},download:!y,onClick:y?e=>{m((e=>!e)),e.preventDefault()}:void 0,target:y?"_self":"_blank"},y&&!v&&n.createElement("div",{className:"AttachDocPreview__play"},n.createElement(s.default,null)),n.createElement("img",{src:v?t.url:C.url,alt:t.title}),n.createElement(a.ComposerAttachPreviewMeta,{rounded:!0,top:!0,left:!0},r))}},687061:(e,t,r)=>{"use strict";r.d(t,{AttachVideos:()=>f,getDuration:()=>h});var n=r(722122),o=(r(458327),r(667294)),i=r(228450),a=r(20700),s=r(354629),u=r(701069),l=r(982739),c=r(277914),d=r(931088),p=r(829248),f=e=>{var t=e.videos,r=e.forwardLevel,u=void 0===r?0:r,f=e.additionalLinkPayload,v=e.onWidthChange,m=(0,c.getAttachForwardIndent)(u),g=(0,d.useImagesLayout)(),y=g.width,E=g.minHeight,w=g.maxSingleHeight,b=g.preferredRatio,C=y-m,x=1===t.length,k=(0,o.useMemo)((()=>t.reduce(((e,t)=>e+"__"+t.id),`${C}__${E}__${b}`)),[t,C,E,b]),A=(0,o.useMemo)((()=>{var e=t.reduce(((e,t)=>{var r=i.preview(t,C);return r&&e.push((0,n.default)({},r,{videoAttach:t})),e}),[]);return e.length?(0,p.computeAttachePhotosLayout)(b,C,{minHeight:E,maxSingleHeight:w},e):null}),[t,E,w,b,C]),R=(0,o.useMemo)((()=>{var e;return null==A||null==(e=A[0])?void 0:e.reduce(((e,t)=>e+t.width),0)}),[A]);return(0,o.useEffect)((()=>{null==v||v(R)}),[v,R]),A?o.createElement("div",{className:"AttachVideos AttachVideos--inBubble","data-width":R,style:{maxWidth:x?"max-content":C}},A.map(((e,r)=>o.createElement("div",{className:"AttachVideos__layoutRow",key:`${r}__${k}`},e.map((e=>{var r,n,i=e.width,u=e.height,c=e.url,d=e.videoAttach,p=d.id,v=d.duration,m=d.platform,g=d.files,y=d.restriction,E=1===(null==y?void 0:y.blur),w=0===(null==y?void 0:y.can_play),b=h(v,!!(null==g?void 0:g.external))||m;return o.createElement(l.Link,{to:{kind:"AttachMediaProxyRoute",attach:d,source:f},className:"AttachVideos__link",key:p},o.createElement("img",{style:{width:i,height:u},src:c,alt:"",className:a("AttachVideos__img",{AttachVideos__previewBackdrop:E||w})}),!E&&o.createElement(o.Fragment,null,t.length<=3&&o.createElement("div",{className:"AttachVideos__videoPlay"},o.createElement(s.default,null)),b&&o.createElement("div",{className:"AttachVideos__videoInfo"},b)),(E||w)&&o.createElement("div",{className:"AttachVideos__videoRestrictionWrap"},o.createElement("div",{className:"AttachVideos__videoIconRestriction",style:{backgroundImage:`url('${null==y||null==(r=y.card_icon)||null==(n=r.slice(-1).pop())?void 0:n.url}')`,filter:"invert(100%)"}}),void 0!==(null==y?void 0:y.title)&&o.createElement("div",null,y.title)))})))))):null};function h(e,t){return void 0===e?"":!t||t&&e?(0,u.formatDuration)(e):""}},556452:(e,t,r)=>{"use strict";r.d(t,{ComposerAttachPreviewMeta:()=>a});var n=r(722122),o=(r(814106),r(667294)),i=r(20700),a=e=>{var t=e.children,r=e.rounded,a=e.offsetLength,s=void 0===a?5:a,u=e.top,l=e.right,c=e.bottom,d=e.left,p=["ComposerAttachPreviewMeta",{"ComposerAttachPreviewMeta--rounded":r}],f=s+"px",h=(0,n.default)({},u&&{top:f},{},l&&{right:f},{},c&&{bottom:f},{},d&&{left:f});return o.createElement("div",{className:i(p),style:h},t)}},931088:(e,t,r)=>{"use strict";r.d(t,{ImagesLayoutProvider:()=>i,useImagesLayout:()=>a});var n=r(667294),o=n.createContext(void 0),i=o.Provider,a=()=>{var e=(0,n.useContext)(o);if(!e)throw Error("Все аттачи фото должны сопровождаться контекстом размеров");return e}},746465:(e,t,r)=>{"use strict";r.d(t,{Dropdown:()=>f});var n=r(722122),o=r(419756),i=(r(170490),r(667294)),a=r(429697),s=r(667904),u=r(20700),l=r(701069),c=r(717941),d=r(792109),p=(0,i.createContext)(void 0),f=e=>{var t=e.openType,r=void 0===t?"hover":t,f=e.delay,h=e.hideDelay,v=void 0===h?150:h,m=e.classNames,g=void 0===m?{}:m,y=e.content,E=e.children,w=e.hideOnClick,b=e.hideOnScroll,C=e.hideOnMouseLeave,x=e.canOpen,k=void 0===x||x,A=e.open,R=void 0!==A&&A,M=e.onOpen,O=e.onClose,_=e.forceUpdateContent,P=(0,o.default)(e,["openType","delay","hideDelay","classNames","content","children","hideOnClick","hideOnScroll","hideOnMouseLeave","canOpen","open","onOpen","onClose","forceUpdateContent"]),N=(0,i.useState)(!1),S=N[0],T=N[1],I=(0,c.usePrevious)(S),L=(0,c.usePrevious)(R),D=(0,i.useState)(y),j=D[0],B=D[1],U=(0,d.useDeviceData)().isTouchOnly&&"hover"===r?"click":r,H=function(e){var t=e.canOpen,r=e.open,n=e.openType,o=e.delay,a=e.hideDelay,s=e.hideOnMouseLeave,u=e.childOpen,c=(0,i.useState)("closed"),d=c[0],f=c[1],h=(0,i.useRef)(null),v=(0,i.useRef)(null),m=(0,i.useContext)(p),g=(0,i.useCallback)((e=>{f((t=>{var r;switch(r="function"==typeof e?e(t):e){case"opening":case"opened":null==m||m.setChildOpen(!0);break;case"closing":case"closed":null==m||m.setChildOpen(!1);break;default:(0,l.exhaustivenessCheck)(r)}return r}))}),[m]),y=function(e){var t=e.open,r=e.canOpen,n=e.delay,o=e.hideDelay,a=e.hideOnMouseLeave,s=e.openType,u=e.displayState,l=e.setDisplayState,c=e.$content,d=e.$trigger,p=e.childOpen,f=(0,i.useRef)(null),h=(0,i.useRef)(null),v=(0,i.useRef)(null),m=(0,i.useRef)(u);m.current=u;var g=(0,i.useRef)(p);g.current=p;var y=(0,i.useCallback)((()=>{var e,t;return(null==(e=d.current)?void 0:e.matches(":hover"))||(null==(t=c.current)?void 0:t.matches(":hover"))}),[c,d]),E=(0,i.useCallback)((e=>{e.current&&(window.clearTimeout(e.current),e.current=null)}),[]),w=(0,i.useCallback)((()=>{v.current&&(window.cancelAnimationFrame(v.current),v.current=null)}),[]),b=(0,i.useRef)(void 0===t);b.current=void 0===t;var C=(0,i.useCallback)((function(e,t){if(void 0===e&&(e=o),void 0===t&&(t=!0),"hover"===s||a){E(f);var r="closed"===m.current||"closing"===m.current;if(!h.current&&!r){b.current=t;var n=()=>{l((e=>"opened"===e?"closing":"closed")),E(h)};e&&"opened"===m.current?h.current=window.setTimeout((()=>{y()?E(h):n()}),e):n()}}}),[o,s,a,E,l,y]);(0,i.useLayoutEffect)((()=>{f.current&&(r||E(f))}),[E,f,r]);var x=(0,i.useCallback)((()=>{if("hover"===s&&r){E(h);var e="opened"===m.current||"opening"===m.current;if(!f.current&&!e){b.current=!0;var t=()=>{l((e=>"closed"===e?"opening":"opened")),E(f)};n&&"closed"===m.current?f.current=window.setTimeout(t,n):t()}}}),[n,r,s,l,E]),k=(0,i.useCallback)((()=>{var e=()=>{y()||g.current?("closing"!==m.current||b.current)&&x():(a&&"opened"===m.current&&C(500,!0),a||C())};w(),v.current=window.requestAnimationFrame(e)}),[w,y,C,a,x]);return(0,i.useEffect)((()=>("hover"!==s&&!a||"closed"===u||(k(),document.addEventListener("mousemove",k,{passive:!0}),document.addEventListener("wheel",k,{passive:!0})),()=>{document.removeEventListener("mousemove",k),document.removeEventListener("wheel",k)})),[a,u,k,s,w,p]),(0,i.useEffect)((()=>()=>{E(f),E(h),w()}),[]),(0,i.useEffect)((()=>{!1===t&&(document.removeEventListener("mousemove",k),document.removeEventListener("wheel",k))}),[t,k,E,w]),{onMouseOver:x,hideOnHover:C}}({open:r,canOpen:t,delay:o,hideDelay:a,hideOnMouseLeave:s,openType:n,displayState:d,setDisplayState:g,$content:h,$trigger:v,childOpen:u}),E=y.hideOnHover,w=y.onMouseOver,b=function(e){var t=e.$content,r=e.$trigger,n=e.openType,o=e.setDisplayState,a=e.canOpen,s=(0,i.useCallback)((e=>{"click"!==n&&"contextmenu"!==n&&"longtouch"!==n||(null==e||e.stopPropagation(),"contextmenu"===n&&(null==e||e.preventDefault()),o((e=>{switch(e){case"opening":return"closed";case"closed":return a?"opening":"closed";case"opened":case"closing":return"closing";default:return(0,l.exhaustivenessCheck)(e)}})))}),[n,o,a]);return(0,i.useEffect)((()=>{if("longtouch"===n){var e=r.current;if(e){var t,o=()=>{t&&(window.clearTimeout(t),t=void 0)},i=()=>{o();var t=r=>{e.removeEventListener("touchend",t,!0),r.preventDefault(),r.stopPropagation()};e.addEventListener("touchend",t,{capture:!0,once:!0}),s()},a=()=>{o(),t=window.setTimeout(i,500)};return e.addEventListener("touchstart",a,{passive:!0}),e.addEventListener("touchcancel",o,!0),e.addEventListener("touchend",o,!0),e.addEventListener("touchmove",o,{passive:!0}),()=>{o(),e.removeEventListener("touchstart",a),e.removeEventListener("touchcancel",o,!0),e.removeEventListener("touchend",o,!0),e.removeEventListener("touchmove",o)}}}}),[r,s,n]),(0,i.useEffect)((()=>{var e=e=>{e.stopPropagation(),("click"===n||"contextmenu"===n||"longtouch"===n)&&t.current&&e.target instanceof Node&&!t.current.contains(e.target)&&s()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[t]),{onClick:s}}({$content:h,$trigger:v,openType:n,setDisplayState:g,canOpen:t}).onClick;(0,i.useLayoutEffect)((()=>{g((e=>r&&t||"closed"===e?t&&r&&"opened"!==e?"opening":e:h.current?"closing":"closed"))}),[r,t,g]);var C=(0,i.useCallback)((()=>{g("opened")}),[g]),x=(0,i.useCallback)((()=>{g("closed")}),[g]),k=(0,i.useCallback)(((e,t)=>{b(),E(e,t)}),[E,b]);return{displayState:d,$content:h,$trigger:v,onClick:b,onHover:w,handleHide:k,handleOpened:C,handleClosed:x}}({canOpen:k,open:R,openType:U,delay:f,hideDelay:v,childOpen:S,hideOnMouseLeave:C}),F=H.displayState,$=H.$content,V=H.$trigger,z=H.onClick,W=H.onHover,G=H.handleHide,q=H.handleOpened,Z=H.handleClosed,K=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),w&&G(0,!1)}),[w,G]);(0,i.useEffect)((()=>{if(b&&"opened"===F){var e=e=>{var t,r=e.target;r instanceof Node&&(null==(t=$.current)?void 0:t.contains(r))||G(0,!1)};return document.addEventListener("wheel",e),()=>{document.removeEventListener("wheel",e)}}}),[$,F,G,b]);(0,i.useEffect)((()=>{"opened"===F&&(null==M||M()),"closed"===F&&(null==O||O())}),[F]),(0,i.useEffect)((()=>{var e=!S&&I,t=!R&&L;!_&&(["closing","opening"].includes(F)||e||t)||B(y)}),[S,y,F,I,_,R,L]);return i.createElement("div",{className:u("DropdownReforged",g.wrapper,{[g.wrapperOpened||"DropdownReforged--opened"]:"opened"===F,[g.wrapperClosed||"DropdownReforged--closed"]:"closed"===F})},i.createElement(p.Provider,{value:(0,i.useMemo)((()=>({setChildOpen:T})),[T])},i.createElement(s.Popper,(0,n.default)({ref:V},P,{portalClassName:g.portal,onMouseEnter:W,open:"closed"!==F,content:i.createElement(a.default,{nodeRef:$,in:"opening"===F||"opened"===F,addEndListener:e=>{var t;return null==(t=$.current)?void 0:t.addEventListener("transitionend",e,!1)},mountOnEnter:!0,unmountOnExit:!0,appear:!0,classNames:"DropdownReforged__contentWrapper-",onEntered:q,onExited:Z},i.createElement("div",{ref:$,className:u("DropdownReforged__contentWrapper",g.contentWrapper),onClickCapture:e=>{S||w&&"closing"===F&&(e.preventDefault(),e.stopPropagation())},onClick:K},j))}),i.createElement("div",{className:u("DropdownReforged__trigger",g.trigger),onMouseOver:W,onMouseEnter:W,onClick:"click"===U?z:void 0,onContextMenu:"contextmenu"===U?z:e=>{e.preventDefault()}},E))))}},202278:(e,t,r)=>{"use strict";r.d(t,{LayerProvider:()=>i,useLayer:()=>a});var n=r(667294),o=(r(973935),(0,n.createContext)({})),i=e=>{var t=e.layer,r=e.children;return n.createElement(o.Provider,{value:{layer:t}},r)},a=()=>(0,n.useContext)(o).layer||void 0},982739:(e,t,r)=>{"use strict";r.d(t,{Link:()=>u,ExternalLink:()=>l,prepareLink:()=>c});var n=r(722122),o=r(419756),i=r(667294),a=r(717941),s=r(645704),u=(0,i.forwardRef)(((e,t)=>{var r=e.to,u=e.children,c=e.onNavigate,d=e.stopPropagation,p=void 0===d||d,f=e.disabled,h=(0,o.default)(e,["to","children","onNavigate","stopPropagation","disabled"]),v=(0,a.useBrowserEnv)().router,m="AttachMediaProxyRoute"===r.kind?(0,n.default)({},r,{tab:v.currentRoute.tab}):r,g=v.toUrl(m),y=s.IRouter.isProxyRoute(r)?v.fromProxyRoute(r):r,E=e=>{p&&e.stopPropagation(),h.onClick?h.onClick(e):(v.openLink(e,r),null==c||c())};return!g||f?i.createElement("span",(0,n.default)({},h,{ref:t}),u):y?i.createElement("a",(0,n.default)({},h,{href:g,ref:t,onClick:E}),u):i.createElement(l,(0,n.default)({},h,{href:g,ref:t,onClick:E}),u)})),l=(0,i.forwardRef)(((e,t)=>{var r=e.children,s=e.href,u=e.target,l=e.disabled,d=e.onClick,p=(0,o.default)(e,["children","href","target","disabled","onClick"]),f=(0,a.useBrowserEnv)().vkDomain,h=(0,a.useCombinedRefs)(t);return l?i.createElement("span",(0,n.default)({},p,{ref:h}),r):i.createElement("a",(0,n.default)({},p,{ref:h,onClick:d,href:p.download?s:c(f,s),target:u||"_blank",rel:"noopener noreferrer"}),r)}));function c(e,t){return function(e,t){if(t.startsWith("/"))return!t.startsWith("//");t.startsWith("http://")||t.startsWith("https://")||(t="https://"+t);try{var r=new URL(t).hostname;return[e,"vk.com","vk.ru","vk.me","vk.cc"].some((e=>r===e||r.endsWith("."+e)))}catch(e){return!1}}(e,t)||function(e){return e.startsWith("mailto:")}(t)?t:function(e,t){return`https://${t}/away.php?to=${encodeURIComponent(e)}&utf=1`}(t,e)}},610610:(e,t,r)=>{"use strict";r.d(t,{ModalsProvider:()=>s,useModalContext:()=>u});var n=r(667294),o=r(701069),i=r(210746),a=(0,n.createContext)(null),s=e=>{var t=e.children,r=e.modals,s=e.stacks,u=(0,n.useCallback)((e=>{var t=!0;if(Object.values(s).forEach((r=>{var n=r.currentElement,o=0;if((null==n?void 0:n.groupId)===e){for(t=!1;(null==(i=r.currentElement)?void 0:i.groupId)===e;){var i;o+=1,r.goBack()}r.pop(o)}})),t)throw Error("Пытаетесь закрыть группу модалок, которая закрыта")}),[s]),l=(0,n.useCallback)(((e,t)=>{var n=r.getModalParams(e),o=n.groupId,i=n.isSubModal,a=s[t];if(null!==a.findIndex(e))throw new Error("Пытаетесь открыть модалку, которая открыта");a.push({modalId:e,groupId:o,isSubModal:i})}),[s,r]),c=(0,n.useCallback)(((e,t)=>{var r=s[t],n=r.currentElement;if((null==n?void 0:n.modalId)!==e)throw Error("Пытаетесь закрыть модалку, которая закрыта");r.pop()}),[s]),d=(0,n.useCallback)(((e,t)=>{s[t].forcedRemove((t=>t.modalId===e))}),[s]),p=(0,n.useCallback)(((e,t)=>s[t].findIndex(e)),[s]),f=(0,n.useState)({rightPanel:[],popup:[]}),h=f[0],v=f[1];(0,n.useLayoutEffect)((()=>{var e=Object.keys(s).map((e=>s[e].subscribe((t=>{var r=t.action,n=t.payload;switch(r){case"add":v((0,i.default)((r=>{r[e]=t.payload.isSubModal?r[e].filter((e=>e!==n.modalId)):[],r[e].push(n.modalId)})));break;case"remove":v((0,i.default)((t=>{t[e]=t[e].filter((e=>!n.find((t=>e===t.modalId))))})));break;default:(0,o.exhaustivenessCheck)(r)}}))));return()=>e.forEach((e=>e()))}),[s]);var m=(0,n.useCallback)((e=>s[e].size),[s]),g=(0,n.useMemo)((()=>({openedModals:h,openModal:l,closeModal:c,closeModalForced:d,closeGroup:u,getModalGroup:r.getModalGroup,createModal:r.createModal,createGroup:r.createGroup,getStackSize:m,findIndexInStack:p})),[h,l,c,d,u,r.getModalGroup,r.createModal,r.createGroup,m,p]);return n.createElement(a.Provider,{value:g},t)};function u(){var e=(0,n.useContext)(a);if(!e)throw new Error("ModalContext не добавлен в дерево Реакта!");return e}},129948:(e,t,r)=>{"use strict";r.d(t,{OptimizedSpinner:()=>u});var n=r(722122),o=(r(241676),r(667294)),i=r(20700),a=r(86894),s=r(254632),u=e=>{var t=e.className,r=e.size,u=void 0===r?"small":r,l=e.intersectionOptions,c=e.onIntersection,d=(0,s.useInView)((0,n.default)({},l,{threshold:.01})),p=d.ref,f=d.inView;return(0,o.useEffect)((()=>{f&&c&&c()}),[f]),o.createElement("div",{ref:p,className:i("OptimizedSpinner",t)},f&&o.createElement(a.Spinner,{size:u}))}},266387:(e,t,r)=>{"use strict";r.d(t,{ConvoAudiosPlaylistContext:()=>i,ConvoAudiosPlaylistProvider:()=>a});var n=r(667294),o=r(77509),i=n.createContext((()=>{})),a=e=>{var t=e.convo,r=e.children,a=(0,n.useRef)(t);a.current=t;var s=(0,n.useCallback)((()=>{var e=(0,o.mapConvoToConvoAudioTrackList)(a.current),t={type:"temp",convoPeerId:a.current.peerId};return new o.ConvoAudiosPlaylist({list:e,meta:t})}),[]);return n.createElement(i.Provider,{value:s},r)}},667904:(e,t,r)=>{"use strict";r.d(t,{Popper:()=>d});var n=r(722122),o=r(419756),i=(r(833249),r(667294)),a=r(20700),s=r(632644),u=r(717941),l=r(277914),c=r(202278),d=i.forwardRef((function(e,t){var r,d=e.open,p=void 0===d||d,f=e.position,h=void 0===f?"auto":f,v=e.mode,m=void 0===v?"side":v,g=e.align,y=void 0===g?"auto":g,E=e.adaptation,w=e.content,b=e.portalClassName,C=e.children,x=e.portalTarget,k=(0,o.default)(e,["open","position","mode","align","adaptation","content","portalClassName","children","portalTarget"]),A=(0,c.useLayer)(),R=(0,i.useState)(null),M=R[0],O=R[1],_=(0,u.useCombinedRefs)(t),P=(0,i.useState)(null),N=P[0],S=P[1],T=(0,i.useState)(null),I=T[0],L=T[1],D=(0,i.useState)(null),j=D[0],B=D[1],U=(0,n.default)({},C.props,{ref:_}),H=(0,i.useCallback)((e=>{e&&O(e)}),[]);return(0,i.useLayoutEffect)((()=>{if(_.current&&(0!==(i=_.current).offsetWidth||0!==i.offsetHeight)){var e=function(e,t,r,o,i,a,s,u){var c;if(!a)return[null,null,null];var d="auto",p=["top","bottom"],f=["left","right"],h="fixed";if(!e)return[{top:0,left:0,width:0,height:0,position:h},i===d?"left":i,o===d?"bottom":o];var v=e.getBoundingClientRect(),m=window,g=m.innerWidth,y=m.innerHeight,E=window.scrollY||document.documentElement.scrollTop,w=window.scrollX||document.documentElement.scrollLeft;u&&(v=(0,l.getOffsetRect)(e,u),g=u.clientWidth,y=u.clientHeight,E=u.scrollTop,w=u.scrollLeft,h="absolute");var b=null==t?void 0:t.getBoundingClientRect(),C=(null==b?void 0:b.width)||0,x=(null==b?void 0:b.height)||0,k=C?Math.max(v.width,C):void 0,A=x?Math.max(v.height,x):void 0;if(o===d){var R=v.top-E;o=E+y-v.top-v.height>R?"bottom":"top"}if(i===d){var M=v.left+.5*v.width,O=w+2*g/3;i=M>=w+g/3&&M<=O?"center":M>O?"right":"left"}var _=l.browser.safari_mobile&&(null==(c=window.visualViewport)?void 0:c.pageTop)||0,P=v.left,N=v.top+_,S=P+v.width,T=N+v.height,I=.5*v.width,L=.5*C,D=.5*v.height,j=.5*x,B=v.width<C,U=v.height<x,H=N<x,F=T+x>y+E,$=u&&N-E<x,V=T<x,z=N+D<j,W=N+x>y+E,G=N+D+j>y+E,q=S-v.width<C,Z=S+C>g+w,K=P+I<L,Y=P+I+L>g+w,J="horizontal"===s,X="vertical"===s;x&&C&&(X||(("top"===o&&H||"center"===i&&z||f.includes(i)&&V)&&(o="bottom"),("bottom"===o&&F||"center"===i&&G||f.includes(i)&&W)&&(o="top")),J||(p.includes(o)&&(f.includes(i)&&(q&&(i="left"),Z&&(i="right")),"center"===i&&(Y&&(i="right"),K&&(i="left"))),f.includes(o)&&(q&&(o="right",i="center"===i?i:"left"),Z&&(o="left",i="center"===i?i:"right"))));if("side"===r){var Q={};switch(o){case"top":Q={width:k,top:N-x};break;case"bottom":Q={width:k,top:T};break;case"left":Q={height:A,left:P-C};break;case"right":Q={height:A,left:S}}if(p.includes(o)&&B&&("right"===i&&(Q.left=S-C),"center"===i&&(Q.left=P+I-L),J&&(("center"===i&&K||"right"===i&&q)&&(Q.left=0),("center"===i&&Y||"left"===i&&Z)&&(Q.left=g-C+w))),f.includes(o)&&U){switch(i){case"center":Q.top=N+D-j;break;case"top":Q.top=N-x+v.height}X&&(("center"===i&&z||f.includes(i)&&V)&&(Q.top=0),$&&"center"===i&&(Q.top=E),("center"===i&&G||f.includes(i)&&W)&&(Q.top=y-x+E))}return[(0,n.default)({top:N,left:P},Q,{position:h}),i,o]}switch(o){case"top":P+=.5*v.width;break;case"right":P+=v.width,N+=.5*v.height;break;case"bottom":P+=.5*v.width,N+=v.height;break;case"left":N+=.5*v.height}return[{top:N,left:P,width:C,height:x,position:h},i,o]}(_.current,M,m,h,y,p,E,(null==x?void 0:x.current)?x.current:void 0),t=e[0],r=e[1],o=e[2];S(t),L(r),B(o)}var i}),[w,m,h,y,_,p,M,x,E]),i.createElement(i.Fragment,null,i.cloneElement(C,U),p&&i.createElement(s.Portal,(0,n.default)({},k,{ref:H,className:a("MEPopper","MEConfig",I&&`MEPopper--align${r=I,r.length>0?r.slice(0,1).toUpperCase()+r.slice(1):""}`,j&&`MEPopper--${j}`),"data-align":I,"data-position":j,portalClassName:b,style:N||void 0,portalTarget:(null==x?void 0:x.current)||A}),w))}))},632644:(e,t,r)=>{"use strict";r.d(t,{Portal:()=>u});var n=r(722122),o=r(419756),i=r(667294),a=r(973935),s=r(717941),u=(0,i.forwardRef)((function(e,t){var r=e.children,u=e.portalClassName,l=e.portalTarget,c=(0,o.default)(e,["children","portalClassName","portalTarget"]),d=(0,i.useState)(null),p=d[0],f=d[1],h=(0,s.usePrevious)(u);return(0,i.useEffect)((()=>{p&&(h&&p.classList.remove(...h.split(" ")),u&&p.classList.add(...u.split(" ")))}),[p,u,h]),(0,i.useLayoutEffect)((()=>{if(null!==l){var e=function(e,t){var r=document.createElement("div");e&&r.classList.add(...e.split(" "));return(t||document.body).appendChild(r)}(u,l);return f(e),()=>{e.remove()}}}),[l]),p?a.createPortal(i.createElement("div",(0,n.default)({},c,{ref:t}),r),p):null}))},550675:(e,t,r)=>{"use strict";r.d(t,{Provider:()=>d});var n=r(722122),o=r(667294),i=r(529122),a=r(717941),s=r(610610),u=r(184244),l=r(960565),c=r(575730),d=e=>{var t=e.children,r=e.env,d=e.featureFlags,p=e.state,f=e.dispatch,h=e.owner,v=(0,o.useCallback)((e=>{f((0,n.default)({type:"CacheUpdateReceived"},e))}),[f]),m=(0,o.useMemo)((()=>(0,n.default)({viewer:i.safeGet(p.peers,p.viewer.id)},p.viewer)),[p.peers,p.viewer]),g=(0,o.useMemo)((()=>({popup:r.modals.stack,rightPanel:new c.Stack})),[r.modals.stack]);return o.createElement(a.BrowserEnvProvider,{value:r},o.createElement(u.RouterProvider,null,o.createElement(s.ModalsProvider,{modals:r.modals.system,stacks:g},o.createElement(a.DispatchProvider,{value:f},o.createElement(a.FeatureFlagsProvider,{value:d},o.createElement(a.HelpHintsProvider,{value:p.helpHints},o.createElement(a.OnlinesProvider,{value:p.onlines},o.createElement(a.TypingsProvider,{value:p.typings},o.createElement(a.PeersProvider,{value:p.peers},o.createElement(a.OwnerProvider,{value:h},o.createElement(a.ConvosProvider,{value:p.convos},o.createElement(a.ChannelsProvider,{value:p.channels},o.createElement(a.ConvosSearchIndexProvider,{value:p.convosSearchIndex},o.createElement(a.ViewerProvider,{value:m},o.createElement(a.InsertIntoCacheProvider,{value:v},o.createElement(l.ComposerDraftsProvider,{value:p.composerDrafts},o.createElement(l.ChannelComposerDraftsProvider,{value:p.channelComposerDrafts},o.createElement(a.VideoMessageShapesProvider,{value:p.videoMessageShapes},t))))))))))))))))))}},184244:(e,t,r)=>{"use strict";r.d(t,{RouterProvider:()=>s,useRouter:()=>u,useConvoRoute:()=>l});var n=r(717941),o=r(645704),i=r(667294),a=(0,i.createContext)({}),s=e=>{var t=e.children,r=(0,n.useBrowserEnv)().router,s=(0,i.useState)(r.currentRoute),u=s[0],l=s[1],c=(0,i.useState)(r.modalRoute?[r.modalRoute]:[]),d=c[0],p=c[1];(0,i.useLayoutEffect)((()=>{var e=r.subscribe(((e,t)=>{p((r=>{var n=[];if(o.IRouter.isModalRoute(e))switch(t){case"PUSH":n=r.concat(e);break;case"POP":n=r.slice(0,-1),0===r.length&&n.push(e);break;case"REPLACE":n=r.splice(-1,1,e)}return n})),l(e)}));return()=>e()}),[r]);var f=d.slice(-1)[0];return i.createElement(a.Provider,{value:{router:r,route:u,fromUrl:r.fromUrl,toUrl:r.toUrl,toRoute:r.fromProxyRoute,modalRoute:f||null,modalRoutes:d,screenRoute:r.screenRoute,runtimeRoute:r.runtimeRoute}},t)},u=()=>{var e=(0,i.useContext)(a),t=e.route,r=e.router,n=e.screenRoute,o=e.modalRoute,s=e.runtimeRoute,u=e.modalRoutes,l=e.toUrl,c=e.toRoute,d=e.fromUrl;return{route:t,screenRoute:n,modalRoute:o,runtimeRoute:s,modalRoutes:u,navigate:r.push,back:r.back,forward:r.forward,replace:r.replace,fromUrl:d,toUrl:l,toRoute:c}},l=()=>{var e=u().screenRoute;if("ConvoRoute"!==e.kind)throw Error("Используйте хук только внутри роута Convo");return e}},491809:(e,t,r)=>{"use strict";r.d(t,{Tooltip:()=>c});var n=r(722122),o=r(419756),i=(r(126449),r(667294)),a=r(20700),s=r(667904),u=r(717941),l=r(792109),c=e=>{var t=e.children,r=e.content,c=e.position,d=void 0===c?"auto":c,p=e.align,f=void 0===p?"auto":p,h=e.open,v=void 0!==h&&h,m=e.onOpen,g=e.onClose,y=e.delay,E=void 0===y?50:y,w=e.backgroundColor,b=e.pointerEvents,C=void 0===b?"none":b,x=e.showOnTouch,k=void 0!==x&&x,A=(0,o.default)(e,["children","content","position","align","open","onOpen","onClose","delay","backgroundColor","pointerEvents","showOnTouch"]),R=(0,u.useFeatureFlags)(),M=(0,l.useDeviceData)(),O=(0,i.useState)(v?"opened":"closed"),_=O[0],P=O[1],N=w||"rgba(0, 0, 0, 0.72)",S=(0,i.useRef)(null),T=(0,i.useRef)(null),I=(0,i.useRef)(null),L=()=>{T.current&&clearTimeout(T.current),I.current&&clearTimeout(I.current),T.current=I.current=null},D=(0,i.useCallback)((()=>{P("closed"),g&&g()}),[g]),j=(0,i.useCallback)((()=>{"opened"===_?(P("is_closing"),I.current=window.setTimeout(D,200)):D()}),[_,D]),B=(0,i.useCallback)((()=>{L(),T.current=window.setTimeout((()=>{P("opened"),m&&m()}),E)}),[E,m]),U=(0,i.useCallback)((()=>{L(),T.current=window.setTimeout(j,0)}),[j]);(0,i.useEffect)((()=>{var e=S.current;return e&&(e.addEventListener("mouseenter",B),e.addEventListener("mouseleave",U)),()=>{e&&(e.removeEventListener("mouseenter",B),e.removeEventListener("mouseleave",U))}}),[B,U]),(0,i.useEffect)((()=>L),[]),(0,u.useDidUpdate)((()=>{v?B():U()}),[v]);var H=i.createElement("div",{className:a("METooltip",{"METooltip--removed":"is_closing"===_}),style:{"--tooltip_dark_background":N,pointerEvents:C}},r);return R.me_fc_tooltips?!k&&M.isTouchOnly?t:i.createElement(s.Popper,(0,n.default)({content:H,position:d,align:f,open:"closed"!==_,ref:S,portalClassName:"MEConfig"},A),t):t}},829248:(e,t,r)=>{"use strict";r.d(t,{computeAttachePhotosLayout:()=>h});var n=r(722122),o=r(701069);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){if((0,o.isNonEmptyArray)(e))return e;throw new Error("not an NonEmptyArray")}function u(e,t){var r=e/t.reduce(((e,t)=>e+t.width),0),o=t.map((e=>{var t=e.height,o=e.width;return(0,n.default)({},e,{height:t*r,width:o*r})}));return s(o)}function l(e,t){var r=t.height,o=t.width,i=e/r;return(0,n.default)({},t,{height:e,width:o*i})}function c(e){for(var t,r=0,n=0,o=i(e[0]);!(t=o()).done;){n+=t.value.width}for(var a,s=i(e);!(a=s()).done;){var u=a.value;u[0]&&(r+=u[0].height)}return n/r}function d(e,t){var r=t[0],n=[...t,e].sort(((e,t)=>e-t)),o=n.findIndex((t=>t===e)),i=n[o-1],a=n[o+1];if(!i&&a)r=a;else if(!a&&i)r=i;else if(a&&i){r=a/e>e/i?i:a}return r}function p(e,t){return s(e.map((e=>{var r=d(e.width/e.height,t);return e.width>e.height?(0,n.default)({},e,{width:r*e.height}):(0,n.default)({},e,{height:e.width/r})})))}function f(e,t,r){var n=t.minHeight;return s(r.reduceRight(((t,r)=>{var o=t[t.length-1],i=l(n,r),a=i.width,s=o?o.reduce(((e,t)=>e+t.width),0):0;return a+s<=e&&o?o.push(i):t.push([i]),t}),[]).reverse().map((e=>e.reverse())).map((t=>u(e,s(t)))))}function h(e,t,r,n){try{var o=r.maxSingleHeight,a=[],h={},m=[9/16,3/4,1,4/3,16/9],g=function(e,t){for(var r=function(e,t,r){var n=[t],o=e;do{(o=n[n.length-1]-t*r)<e&&(o=e),n.push(o)}while(o!==e);return n}(t.minHeight,e,.05),n=[],o=0;o<r.length;o++){var i=r[o];i&&n.push({minHeight:i})}return n}(t/e,r),y=p(n,m),E=n[0];if(1===n.length&&E)return function(e,t,r,n){if(p([r],t)[0]){if(r.width>=r.height)return[u(e,[r])];var o=n||16/9*e,i=u(e,[r])[0];return i&&i.height<o?[[i]]:[[l(o,r)]]}return[[r]]}(t,m,E,o);for(var w,b=i(g);!(w=b()).done;){var C=v(f(t,w.value,y),e,t),x=c(C);a.push(x),h[x]=C}var k=d(e,s(a));return k&&h[k]||f(t,r,n)}catch(e){return[n]}}function v(e,t,r){return function(e,t){var r=1.75,n=c(e),o=n/t;if(o>r){var i=n/(r*t);return e.forEach((e=>e.forEach((e=>e.height=e.height*i)))),e}if(o<1/r){var a=n/(1/r*t);return e.forEach((e=>e.forEach((e=>e.height=e.height*a)))),e}return e}(function(e,t){return s(e.map((e=>{if(1===e.length&&e[0]){var r=e[0],o=r.width>r.height;return[(0,n.default)({},r,{width:t,height:o?r.height>t/2?t/2:r.height:t})]}return e})))}(function(e){var t=e.length,r=s(e[e.length-1]),n=1===r.length;if(t<=2||!n)return e;var o=e[e.length-2];if(!o)return e;var i=null==o?void 0:o.reduce(((e,t)=>e+t.width),0);return o.push(r[0]),o.forEach((e=>l(1,e))),u(i,o),s(e.splice(0,e.length-1))}(e),r),t)}},277914:(e,t,r)=>{"use strict";r.d(t,{getOffsetRect:()=>s,browser:()=>l,isMac:()=>c,getAttachForwardIndent:()=>d,getExpectedAttachWidth:()=>p,enRuKeysMap:()=>f,getPeersInlineNames:()=>h,getOrganiserUid:()=>v,formatPhoneNumber:()=>m});var n=r(887757),o=r(692137),i=r(667294),a=r(701069);function s(e,t){if("undefined"==typeof window||!(e instanceof HTMLElement))return{top:0,left:0,width:0,height:0};var r=e.getBoundingClientRect(),n=null==t?void 0:t.getBoundingClientRect(),o=document.body,i=document.documentElement,a=t?t.scrollTop:window.pageYOffset||i.scrollTop||o.scrollTop,s=(t?t.scrollLeft:window.pageXOffset)||i.scrollLeft||o.scrollLeft,u=i.clientTop||o.clientTop||0,l=i.clientLeft||o.clientLeft||0;return{top:r.top-((null==n?void 0:n.top)||0)+a-u,left:r.left-((null==n?void 0:n.left)||0)+s-l,width:r.width,height:r.height}}var u=navigator.userAgent.toLowerCase(),l={version:(u.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[/: ]([\d.]+)/)||[0,"0"])[1],safari:!/chrome/i.test(u)&&/webkit|safari|khtml/i.test(u),safari_mobile:/iphone|ipod|ipad/i.test(u),ios:/.+(ipod|ipad|iphone.*os)/i.test(u),touch:window.matchMedia("(pointer: coarse)").matches,voiceRecordingSupported:Boolean(window.navigator.mediaDevices&&"getUserMedia"in window.navigator.mediaDevices&&(window.AudioContext||window.webkitAudioContext))},c="userAgentData"in window.navigator&&"platform"in window.navigator.userAgentData?0===window.navigator.userAgentData.platform.indexOf("mac"):0===window.navigator.platform.indexOf("Mac"),d=e=>e>0?22+10*(e-1):0;function p(e,t,r,n){var o=n+(t?0:8)-d(r);return[o,o*(e?"undefined"!=typeof window?window.devicePixelRatio:2:1)]}var f={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","]":"ъ",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж","'":"э",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю","/":".",[c?"\\":"`"]:"ё"},h=(e,t,r,n)=>{var o=[];return e.forEach(((i,a)=>{o.push(r(i),(r=>r===e.length-1?"":t===e.length&&r===e.length-2?` ${n.use("me_chat_members_last_divider")} `:", ")(a))})),t>e.length&&(0===e.length?o.push(n.use("me_chat_members_count",{num:t-e.length})):o.push(n.use("me_chat_members_count_lots",{num:t-e.length,values:{names:""}}))),o.length>0?i.createElement(i.Fragment,null,o):null};function v(e){switch(e.kind){case"filters":return e.filter;case"folders":return e.id;default:(0,a.exhaustivenessCheck)(e)}}function m(e){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(n.mark((function e(t){var o,i,a,s,u,l,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(98755).then(r.bind(r,198755));case 2:return u=e.sent,l=u.parsePhoneNumber,c=l(t.replace(/^(\+|)+/,"+")),e.abrupt("return",{isValid:c.valid,international:null!=(o=null==(i=c.number)?void 0:i.international)?o:t,national:null!=(a=null==(s=c.number)?void 0:s.national)?a:t});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},614031:(e,t,r)=>{"use strict";r.d(t,{empty:()=>i,VISIBILITY:()=>a,TOPICS:()=>s,DONUT_DELAY:()=>u,SEND_OPTIONS:()=>l,validateRequiredFields:()=>c});var n=r(722122),o=r(10122);function i(){return{text:"",attaches:{},uploadsTrackIds:new Set,visibility:"all",donutDelay:-1,topic:"no_theme",sendOptions:{selected:[],disabled:[]},resetSendOptions:[]}}var a=["all","donut"],s=[["no_theme",0],["art",1],["it",7],["games",12],["music",16],["photo",19],["science",21],["sport",23],["tourism",25],["cinema",26],["humor",32],["style",43]],u=[-1,1,2,3,4,5,6,7],l=["close_comments","signed","mute_notifications","mark_as_ads"];function c(e){var t=i();return Object.entries(e).reduce(((e,r)=>{var i=r[0],a=r[1],s=o.resolveId(+i);return e[s]=a,a.uploadsTrackIds instanceof Set||(e[s]=(0,n.default)({},a,{uploadsTrackIds:t.uploadsTrackIds})),e}),{})}},452990:(e,t,r)=>{"use strict";r.d(t,{empty:()=>a,DEFAULT_FORWARD_AUTHOR_HIDDEN:()=>s,isEmpty:()=>u,hasActiveUploads:()=>l,getNormalForward:()=>c,validateRequiredFields:()=>d});var n=r(722122),o=r(529122),i=r(701069);function a(){return{text:"",attaches:{},uploadsTrackIds:new Set}}var s=!1;function u(e,t){var r=0!==Object.keys(e.attaches).length;return 0===t.length&&!e.forward&&!r&&!l(e)}function l(e){return 0!==e.uploadsTrackIds.size}function c(e,t){if(e.forward&&e.forward.kind===t){var r=[...e.forward.items].filter((e=>"Normal"===e.kind));return(0,i.isNonEmptyArray)(r)?r:void 0}}function d(e){var t=a();return Object.entries(e).reduce(((e,r)=>{var i=r[0],a=r[1];if("kind"in a)return e;var s=o.resolveId(+i);return e[s]=a,a.uploadsTrackIds instanceof Set||(e[s]=(0,n.default)({},a,{uploadsTrackIds:t.uploadsTrackIds})),e}),{})}},645704:(e,t,r)=>{"use strict";r.d(t,{IRouter:()=>n});var n,o=r(701069);!function(e){e.SettingsRouteSectionKeys=["main","account","folders","notifications","theme","about"],function(e){e[e.Message=0]="Message",e[e.Post=1]="Post",e[e.Composer=2]="Composer",e[e.Comment=3]="Comment",e[e.ChannelComposer=4]="ChannelComposer"}(e.RouteSourceKind||(e.RouteSourceKind={})),e.globalParamsKeys=["tab","folder","createPoll"],e.convoRouteExtraParamsKeys=["settings"],e.withExtraConvoParams=e=>"MainRoute"===e.kind||"ConvoRoute"===e.kind||"ChannelRoute"===e.kind||"ChannelsListRoute"===e.kind,e.isModalRoute=e=>{switch(e.kind){case"PeerModalRoute":case"PhotoModalRoute":case"VideoModalRoute":case"MiniAppModalRoute":case"PollModalRoute":case"ImportantMessagesModalRoute":return!0;case"CallJoinRoute":case"ChannelRoute":case"ChannelsListRoute":case"ChatJoinRoute":case"ConvoRoute":case"MainRoute":case"NotFoundRoute":case"SettingsRoute":return!1;default:(0,o.exhaustivenessCheck)(e)}},e.isProxyRoute=e=>{switch(e.kind){case"AttachProxyRoute":case"AttachMediaProxyRoute":case"HashtagProxyRoute":case"HashtagMentionProxyRoute":case"ScreenNameProxyRoute":return!0;case"PeerModalRoute":case"PhotoModalRoute":case"VideoModalRoute":case"MiniAppModalRoute":case"PollModalRoute":case"ImportantMessagesModalRoute":case"CallJoinRoute":case"ChannelRoute":case"ChannelsListRoute":case"ChatJoinRoute":case"ConvoRoute":case"MainRoute":case"NotFoundRoute":case"SettingsRoute":return!1;default:(0,o.exhaustivenessCheck)(e)}},e.isRuntimeRoute=e=>{switch(e.kind){case"ModalMessageRuntimeRoute":case"EmptyRuntimeRoute":case"AudioRestrictionRuntimeRoute":return!0;case"PeerModalRoute":case"PhotoModalRoute":case"VideoModalRoute":case"MiniAppModalRoute":case"PollModalRoute":case"ImportantMessagesModalRoute":case"CallJoinRoute":case"ChannelRoute":case"ChannelsListRoute":case"ChatJoinRoute":case"ConvoRoute":case"MainRoute":case"NotFoundRoute":case"SettingsRoute":return!1;default:(0,o.exhaustivenessCheck)(e)}}}(n||(n={}))},575730:(e,t,r)=>{"use strict";r.d(t,{Stack:()=>o,Modals:()=>i,resolveId:()=>a});var n=r(51496);class o{constructor(){var e,t=this;this.history=void 0,this.index=0,this.listeners=void 0,this.pop=function(e){void 0===e&&(e=1);var r=t.history.splice(-e,e);t.onItemsRemove(r)},this.forcedRemove=e=>{var t=this.history.reduce(((t,r)=>(e(r)?t.toRemove.push(r):t.actualHistory.push(r),t)),{actualHistory:[],toRemove:[]});this.history=t.actualHistory,this.onItemsRemove(t.toRemove)},this.history=[],this.listeners=(e=[],{get length(){return e.length},push:t=>(e.push(t),function(){e=e.filter((e=>e!==t))}),call(t){e.forEach((e=>e&&e(t)))}})}push(e){this.history.push(e),this.index=this.history.length-1,this.listeners.call({action:"add",payload:e})}goBack(e){void 0===e&&(e=1),this.index-=e}subscribe(e){return this.listeners.push(e)}get lastElement(){return this.history[this.history.length-1]||null}get currentElement(){return this.history[this.index]||null}findIndex(e){var t=this.history.findIndex((t=>t.modalId===e));return-1!==t?t:null}get size(){return this.history.length}onItemsRemove(e){this.index=this.history.length-1,this.listeners.call({action:"remove",payload:e}),this.lastElement&&this.listeners.call({action:"add",payload:this.lastElement})}}class i{constructor(){var e=this;this.system=void 0,this.createGroup=()=>{var e=(0,n.nanoid)(),t={id:e,group:[]};return this.system.groups.set(e,t),{data:t,remove:this.removeGroup.bind(this,e)}},this.createModal=function(t,r,o){void 0===r&&(r=!1);var i=e.system.groups.get(t);if(!i)throw Error("Нет такого стека");var a=o||(0,n.nanoid)();return i.group.push({id:a}),e.system.modals.set(a,{groupId:i.id,isSubModal:r}),{id:a,remove:e.removeModal.bind(e,a)}},this.getModalGroup=e=>{var t=this.system.groups.get(e);if(!t)throw Error("Передан Id несуществующей группы модалок");return t},this.getModalParams=e=>{var t=this.system.modals.get(e);if(!t)throw Error("Попытка получить несуществующую модалку");return t},this.system={modals:new Map,groups:new Map}}removeGroup(e){this.system.groups.delete(e)}removeModal(e){var t=this.getModalParams(e).groupId,r=this.system.groups.get(t);if(void 0!==r){var n=r.group,o=n.findIndex((t=>t.id===e));n.splice(o,1)}this.system.modals.delete(e)}}function a(e){return e}},58255:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(111132);function o(e,t){e.classList?e.classList.add(t):(0,n.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},111132:(e,t,r)=>{"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}r.d(t,{default:()=>n})},374277:(e,t,r)=>{"use strict";function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function o(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}r.d(t,{default:()=>o})},759244:()=>{},963328:()=>{},403658:()=>{},861848:()=>{},458327:()=>{},814106:()=>{},170490:()=>{},241676:()=>{},833249:()=>{},126449:()=>{},51496:(e,t,r)=>{"use strict";r.d(t,{nanoid:()=>n});let n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")},429697:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var n=r(722122),o=r(419756),i=r(841788),a=r(58255),s=r(374277),u=r(667294),l=r(696630),c=r(559391),d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,s.default)(e,t)}))},p=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,o=n?""+(n&&r?r+"-":"")+e:r[e];return{baseClassName:o,activeClassName:n?o+"-active":r[e+"Active"],doneClassName:n?o+"-done":r[e+"Done"]}},t}(0,i.default)(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n=this.getClassNames(t)[r+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&o&&(n+=" "+o),"active"===r&&e&&(0,c.forceReflow)(e),n&&(this.appliedClasses[t][r]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))}(e,n))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,o=r.active,i=r.done;this.appliedClasses[t]={},n&&d(e,n),o&&d(e,o),i&&d(e,i)},r.render=function(){var e=this.props,t=(e.classNames,(0,o.default)(e,["classNames"]));return u.createElement(l.default,(0,n.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.Component);p.defaultProps={classNames:""},p.propTypes={};const f=p},696630:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var n=r(419756),o=r(841788),i=r(667294),a=r(973935),s=r(806035),u=r(500220),l=r(559391),c="unmounted",d="exited",p="entering",f="entered",h="exiting",v=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var o,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=d,n.appearStatus=p):o=f:o=t.unmountOnExit||t.mountOnEnter?c:d,n.state={status:o},n.nextCallback=null,n}(0,o.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:d}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==p&&r!==f&&(t=p):r!==p&&r!==f||(t=h)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===p){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);r&&(0,l.forceReflow)(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:c})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[a.findDOMNode(this),n],i=o[0],u=o[1],l=this.getTimeouts(),c=n?l.appear:l.enter;!e&&!r||s.default.disabled?this.safeSetState({status:f},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,u),this.safeSetState({status:p},(function(){t.props.onEntering(i,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:f},(function(){t.props.onEntered(i,u)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!s.default.disabled?(this.props.onExit(n),this.safeSetState({status:h},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,r=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,n.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(u.default.Provider,{value:null},"function"==typeof r?r(e,o):i.cloneElement(i.Children.only(r),o))},t}(i.Component);function m(){}v.contextType=u.default,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},v.UNMOUNTED=c,v.EXITED=d,v.ENTERING=p,v.ENTERED=f,v.EXITING=h;const g=v},500220:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=r(667294).createContext(null)},806035:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n={disabled:!1}},559391:(e,t,r)=>{"use strict";r.d(t,{forceReflow:()=>n});var n=function(e){return e.scrollTop}},20700:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},367075:function(e,t,r){!function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(t);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}var a=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,r){return!Object.is(e,t[r])}))},s={error:null},u=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state=s,t.resetErrorBoundary=function(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];null==t.props.onReset||(e=t.props).onReset.apply(e,n),t.reset()},t}i(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var r=t.prototype;return r.reset=function(){this.setState(s)},r.componentDidCatch=function(e,t){var r,n;null==(r=(n=this.props).onError)||r.call(n,e,t)},r.componentDidUpdate=function(e,t){var r,n,o=this.state.error,i=this.props.resetKeys;null!==o&&null!==t.error&&a(e.resetKeys,i)&&(null==(r=(n=this.props).onResetKeysChange)||r.call(n,e.resetKeys,i),this.reset())},r.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,o=t.FallbackComponent,i=t.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(i))return i;if("function"==typeof r)return r(a);if(o)return n.createElement(o,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(n.Component);function l(e,t){var r=function(r){return n.createElement(u,t,n.createElement(e,r))},o=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary("+o+")",r}function c(e){var t=n.useState(null),r=t[0],o=t[1];if(null!=e)throw e;if(null!=r)throw r;return o}e.ErrorBoundary=u,e.useErrorHandler=c,e.withErrorBoundary=l,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(667294))},362548:function(e,t,r){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var t=e((function(e,t){!function(t,r){e.exports=r()}(0,(function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function r(r,n){return n&&!0===n.clone&&e(r)?i(t(r),r,n):r}function n(t,n,o){var a=t.slice();return n.forEach((function(n,s){void 0===a[s]?a[s]=r(n,o):e(n)?a[s]=i(t[s],n,o):-1===t.indexOf(n)&&a.push(r(n,o))})),a}function o(t,n,o){var a={};return e(t)&&Object.keys(t).forEach((function(e){a[e]=r(t[e],o)})),Object.keys(n).forEach((function(s){e(n[s])&&t[s]?a[s]=i(t[s],n[s],o):a[s]=r(n[s],o)})),a}function i(e,t,i){var a=Array.isArray(t),s=(i||{arrayMerge:n}).arrayMerge||n;return a?Array.isArray(e)?s(e,t,i):r(t,i):o(e,t,i)}return i.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,r){return i(e,r,t)}))},i}))}));function n(e){return e=e||Object.create(null),{on:function(t,r){(e[t]||(e[t]=[])).push(r)},off:function(t,r){e[t]&&e[t].splice(e[t].indexOf(r)>>>0,1)},emit:function(t,r){(e[t]||[]).map((function(e){e(r)})),(e["*"]||[]).map((function(e){e(t,r)}))}}}var o=e((function(e,t){var r={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=r,e.exports=t.default})),i=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")},a=o.svg,s=o.xlink,u={};u[a.name]=a.uri,u[s.name]=s.uri;var l,c=function(e,r){void 0===e&&(e="");var n=t(u,r||{});return"<svg "+i(n)+">"+e+"</svg>"},d=o.svg,p=o.xlink,f={attrs:(l={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},l[d.name]=d.uri,l[p.name]=p.uri,l)},h=function(e){this.config=t(f,e||{}),this.symbols=[]};h.prototype.add=function(e){var t=this.symbols,r=this.find(e.id);return r?(t[t.indexOf(r)]=e,!1):(t.push(e),!0)},h.prototype.remove=function(e){var t=this.symbols,r=this.find(e);return!!r&&(t.splice(t.indexOf(r),1),r.destroy(),!0)},h.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},h.prototype.has=function(e){return null!==this.find(e)},h.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return c(t,e)},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var v=function(e){var t=e.id,r=e.viewBox,n=e.content;this.id=t,this.viewBox=r,this.content=n};v.prototype.stringify=function(){return this.content},v.prototype.toString=function(){return this.stringify()},v.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var m=function(e){var t=!!document.importNode,r=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(r,!0):r},g=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t.appendChild(r),r},t.prototype.render=function(){var e=this.stringify();return m(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,r),t}(v),y={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},E=function(e){return Array.prototype.slice.call(e,0)},w={isChrome:function(){return/chrome/i.test(navigator.userAgent)},isFirefox:function(){return/firefox/i.test(navigator.userAgent)},isIE:function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},isEdge:function(){return/edge/i.test(navigator.userAgent)}},b=function(e,t){var r=document.createEvent("CustomEvent");r.initCustomEvent(e,!1,!1,t),window.dispatchEvent(r)},C=function(e){var t=[];return E(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})),t},x=function(e){return(e||window.location.href).split("#")[0]},k=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,r,n){b(e,{oldUrl:n,newUrl:r})}))}])},A="linearGradient, radialGradient, pattern, mask, clipPath",R=function(e,t){return void 0===t&&(t=A),E(e.querySelectorAll("symbol")).forEach((function(e){E(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e};function M(e,t){return E(e).reduce((function(e,r){if(!r.attributes)return e;var n=E(r.attributes),o=t?n.filter(t):n;return e.concat(o)}),[])}var O=o.xlink.uri,_="xlink:href",P=/[{}|\\\^\[\]`"<>]/g;function N(e){return e.replace(P,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}function S(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(e,t,r){return E(e).forEach((function(e){var n=e.getAttribute(_);if(n&&0===n.indexOf(t)){var o=n.replace(t,r);e.setAttributeNS(O,_,o)}})),e}var I=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],L=I.map((function(e){return"["+e+"]"})).join(","),D=function(e,t,r,n){var o=N(r),i=N(n);M(e.querySelectorAll(L),(function(e){var t=e.localName,r=e.value;return-1!==I.indexOf(t)&&-1!==r.indexOf("url("+o)})).forEach((function(e){return e.value=e.value.replace(new RegExp(S(o),"g"),i)})),T(t,o,i)},j={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"};return function(e){function r(r){var o=this;void 0===r&&(r={}),e.call(this,t(y,r));var i=n();this._emitter=i,this.node=null;var a=this.config;if(a.autoConfigure&&this._autoConfigure(r),a.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");i.on(j.MOUNT,(function(){return o.updateUrls("#",s)}))}var u=this._handleLocationChange.bind(this);this._handleLocationChange=u,a.listenLocationChangeEvent&&window.addEventListener(a.locationChangeEvent,u),a.locationChangeAngularEmitter&&k(a.locationChangeEvent),i.on(j.MOUNT,(function(e){a.moveGradientsOutsideSymbol&&R(e)})),i.on(j.SYMBOL_MOUNT,(function(e){a.moveGradientsOutsideSymbol&&R(e.parentNode),(w.isIE()||w.isEdge())&&C(e)}))}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var o={isMounted:{}};return o.isMounted.get=function(){return!!this.node},r.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter=void 0!==window.angular),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=w.isFirefox())},r.prototype._handleLocationChange=function(e){var t=e.detail,r=t.oldUrl,n=t.newUrl;this.updateUrls(r,n)},r.prototype.add=function(t){var r=this,n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(r.node),this._emitter.emit(j.SYMBOL_MOUNT,t.node)),n},r.prototype.attach=function(e){var t=this,r=this;if(r.isMounted)return r.node;var n="string"==typeof e?document.querySelector(e):e;return r.node=n,this.symbols.forEach((function(e){e.mount(r.node),t._emitter.emit(j.SYMBOL_MOUNT,e.node)})),E(n.querySelectorAll("symbol")).forEach((function(e){var t=g.createFromExistingNode(e);t.node=e,r.add(t)})),this._emitter.emit(j.MOUNT,n),n},r.prototype.destroy=function(){var e=this,t=e.config,r=e.symbols,n=e._emitter;r.forEach((function(e){return e.destroy()})),n.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},r.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var r=this;if(r.isMounted)return r.node;var n="string"==typeof e?document.querySelector(e):e,o=r.render();return this.node=o,t&&n.childNodes[0]?n.insertBefore(o,n.childNodes[0]):n.appendChild(o),this._emitter.emit(j.MOUNT,o),o},r.prototype.render=function(){return m(this.stringify())},r.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},r.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var r=document.querySelectorAll(this.config.usagesToUpdate);return D(this.node,r,x(e)+"#",x(t)+"#"),!0},Object.defineProperties(r.prototype,o),r}(h)}()},887854:function(e,t,r){e.exports=function(){"use strict";var e=function(e){var t=e.id,r=e.viewBox,n=e.content;this.id=t,this.viewBox=r,this.content=n};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var t=function(e){var t=!!document.importNode,r=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(r,!0):r};function n(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var o=n((function(e,t){!function(t,r){e.exports=r()}(0,(function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function r(r,n){return n&&!0===n.clone&&e(r)?i(t(r),r,n):r}function n(t,n,o){var a=t.slice();return n.forEach((function(n,s){void 0===a[s]?a[s]=r(n,o):e(n)?a[s]=i(t[s],n,o):-1===t.indexOf(n)&&a.push(r(n,o))})),a}function o(t,n,o){var a={};return e(t)&&Object.keys(t).forEach((function(e){a[e]=r(t[e],o)})),Object.keys(n).forEach((function(s){e(n[s])&&t[s]?a[s]=i(t[s],n[s],o):a[s]=r(n[s],o)})),a}function i(e,t,i){var a=Array.isArray(t),s=(i||{arrayMerge:n}).arrayMerge||n;return a?Array.isArray(e)?s(e,t,i):r(t,i):o(e,t,i)}return i.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,r){return i(e,r,t)}))},i}))})),i=n((function(e,t){var r={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=r,e.exports=t.default})),a=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")},s=i.svg,u=i.xlink,l={};l[s.name]=s.uri,l[u.name]=u.uri;var c=function(e,t){void 0===e&&(e="");var r=o(l,t||{});return"<svg "+a(r)+">"+e+"</svg>"},d=function(e){function r(){e.apply(this,arguments)}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},r.createFromExistingNode=function(e){return new r({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},r.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},r.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t.appendChild(r),r},r.prototype.render=function(){var e=this.stringify();return t(c(e)).childNodes[0]},r.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(r.prototype,n),r}(e);return d}()}}]);try{stManager.done("dist/11c7a0efa74f6d488cf4ce0ffbe4d05a.cce90aa281b5a7185e59.js")}catch(e){}