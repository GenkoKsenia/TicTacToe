/*! For license information please see search.03264c367563ddef8967.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={251009:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon12Flag","flag_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="flag_12"><path fill="currentColor" fill-rule="evenodd" d="M1.75 0A.75.75 0 0 0 1 .75v9.5a.75.75 0 0 0 1.5 0V6.805c.261.112.533.184.808.192.79.022 1.525-.227 2.257-.5.167-.062.334-.126.5-.19.626-.241 1.25-.482 1.915-.596.733-.149 1.492-.258 2.143.123l.232.149a.094.094 0 0 0 .145-.079V1.47c0-.25 0-.376-.063-.554A1.505 1.505 0 0 0 10.172.5a.892.892 0 0 0-.315-.217 2.916 2.916 0 0 0-.95-.27c-.68-.06-1.33.094-1.968.312a71.694 71.694 0 0 0-.866.307c-.56.202-1.12.403-1.689.576A2.935 2.935 0 0 1 2.5 1.2V.75A.75.75 0 0 0 1.75 0Z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},743412:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon12Lock","lock_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 12 12" id="lock_12"><path d="M6 .5c1.657 0 3 1.337 3 2.992v1.507L9.748 5c.415 0 .752.34.752.76v4.48a.76.76 0 0 1-.752.76H2.252a.756.756 0 0 1-.752-.76V5.76c0-.42.342-.76.752-.76L3 4.999V3.501A3.003 3.003 0 0 1 5.824.505L6 .5ZM6 2l-.145.007A1.496 1.496 0 0 0 4.5 3.5V5h3V3.5C7.5 2.666 6.828 2 6 2Z" /></symbol>',12,12,!1,void 0)},136900:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon16Add","add_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="add_16"><path fill="currentColor" d="M9 9v4a1 1 0 1 1-2 0V9H3a1 1 0 1 1 0-2h4V3a1 1 0 1 1 2 0v4h4a1 1 0 1 1 0 2H9Z" /></symbol>',16,16,!1,void 0)},800843:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon16HistoryBackwardOutline","history_backward_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="history_backward_outline_16"><path d="M9.828 2.812a5.496 5.496 0 0 0-5.313.935h.735a.75.75 0 1 1 0 1.5H3.137c-.058 0-.139 0-.212-.006a1.003 1.003 0 0 1-.379-.103 1 1 0 0 1-.437-.437 1.003 1.003 0 0 1-.103-.378C2 4.248 2 4.167 2 4.11V2a.75.75 0 0 1 1.5 0v.64a6.997 6.997 0 0 1 10.255 9.345 6.998 6.998 0 0 1-7.553 2.78 7.07 7.07 0 0 1-2.96-1.615.75.75 0 1 1 1.016-1.103 5.571 5.571 0 0 0 2.33 1.268A5.496 5.496 0 0 0 13.5 7.962a5.5 5.5 0 0 0-3.672-5.15ZM7.75 5a.75.75 0 0 1 .75.75v2.473l1.32 1.539a.75.75 0 0 1-1.14.976l-1.5-1.75A.75.75 0 0 1 7 8.5V5.75A.75.75 0 0 1 7.75 5Z" /></symbol>',16,16,!1,void 0)},546857:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon16ListPlayOutline","list_play_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="list_play_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M2 3.75A.75.75 0 0 1 2.75 3h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75Zm0 8.5a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75ZM2 8a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 2 8Zm12.684 3.036a.625.625 0 0 0 0-1.086L9.947 7.085A.632.632 0 0 0 9 7.626v5.748c0 .481.526.782.947.541l4.737-2.879Z" /></symbol>',16,16,!1,void 0)},351613:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon16PenOutline","pen_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="pen_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M12.536 1.664a1.946 1.946 0 0 0-1.565 0c-.202.09-.367.214-.513.342-.137.121-.292.276-.465.45l-7.39 7.389c-.295.295-.528.527-.699.806-.15.245-.261.513-.328.793-.076.317-.076 1.112-.076 1.53 0 .122 0 .254.01.368.01.13.036.3.126.477.12.235.31.425.545.545.176.09.347.116.477.127.114.009.246.009.368.009.418 0 1.213 0 1.53-.076.28-.067.548-.178.793-.328.279-.171.511-.404.806-.7l7.39-7.389c.173-.173.328-.328.449-.465.128-.146.253-.31.342-.513a1.946 1.946 0 0 0 0-1.565 1.987 1.987 0 0 0-.342-.513c-.121-.137-.276-.292-.45-.465l-.03-.03a10.696 10.696 0 0 0-.465-.45 1.988 1.988 0 0 0-.513-.342zm-.963 1.37a.45.45 0 0 1 .361 0 .596.596 0 0 1 .127.096c.097.085.217.205.41.398s.314.314.399.41c.08.092.094.124.096.128.05.115.05.246 0 .361a.594.594 0 0 1-.096.127 9.974 9.974 0 0 1-.398.41l-.724.724-1.436-1.436.724-.724c.193-.193.313-.313.41-.398a.596.596 0 0 1 .127-.096zM9.252 5.312l-5.54 5.54c-.37.37-.465.472-.532.58a1.248 1.248 0 0 0-.15.361 3.896 3.896 0 0 0-.022.432c-.01.419-.014.628.008.672.028.058.032.061.09.09.044.022.252.018.67.008.209-.004.372-.012.431-.026.127-.03.249-.08.36-.15.109-.066.211-.161.581-.531l5.54-5.54z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},304319:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon16Verified","verified_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="verified_16"><path fill="currentColor" d="M4.5 9.586 2.957 8.043a1 1 0 0 0-1.414 1.414l2.25 2.25a1 1 0 0 0 1.414 0l5.25-5.25a1 1 0 0 0-1.414-1.414L4.5 9.586Z" /></symbol>',16,16,!1,void 0)},269602:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon20AddSquareOutline","add_square_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="add_square_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M11.6 3.5H8.4c-1.145 0-1.913.001-2.505.05-.574.047-.849.13-1.03.223a2.5 2.5 0 0 0-1.093 1.092c-.092.181-.175.456-.222 1.03-.049.592-.05 1.36-.05 2.505v3.2c0 1.145.001 1.913.05 2.505.047.574.13.849.223 1.03a2.5 2.5 0 0 0 1.092 1.093c.181.092.456.176 1.03.222.592.049 1.36.05 2.505.05h3.2c1.145 0 1.913-.001 2.505-.05.574-.046.849-.13 1.03-.223a2.5 2.5 0 0 0 1.093-1.092c.092-.181.176-.456.222-1.03.049-.592.05-1.36.05-2.505V8.4c0-1.145-.001-1.913-.05-2.505-.046-.574-.13-.849-.223-1.03a2.5 2.5 0 0 0-1.092-1.093c-.181-.092-.456-.175-1.03-.222-.592-.049-1.36-.05-2.505-.05Zm-9.164.684C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748ZM10 6.004a.75.75 0 0 1 .75.75V9.25h2.496a.75.75 0 0 1 0 1.5H10.75v2.5a.75.75 0 0 1-1.5 0v-2.5H6.754a.75.75 0 0 1 0-1.5H9.25V6.753a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},675952:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon20Check","check_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="check_20"><path fill-rule="evenodd" d="M17.53 5.22a.75.75 0 0 1 0 1.06l-9.5 9.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.97 3.97 8.97-8.97a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},358173:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon20ChevronCircleOutline","chevron_circle_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="chevron_circle_outline_20"><path fill-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17Zm7-8.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0ZM9.53 6.47a.75.75 0 0 0-1.06 1.06L10.94 10l-2.47 2.47a.75.75 0 1 0 1.06 1.06l3-3a.75.75 0 0 0 0-1.06l-3-3Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},967458:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon20MessageOutline","message_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="message_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" opacity=".4" /><path fill="currentColor" fill-rule="nonzero" d="M6.828 15.752a.75.75 0 0 1 .821-.207A7.52 7.52 0 0 0 10.25 16c3.772 0 6.75-2.694 6.75-6s-2.978-6-6.75-6S3.5 6.694 3.5 10c0 1.21.4 2.367 1.14 3.349a.75.75 0 0 1 .15.49c-.04.756-.403 1.785-1.085 3.135 1.483-.116 2.514-.534 3.123-1.222ZM3.242 18.5a1.204 1.204 0 0 1-1.101-1.767c.644-1.216 1.016-2.14 1.121-2.73A7.009 7.009 0 0 1 2 10c0-4.17 3.681-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.681 7.5-8.25 7.5a9.077 9.077 0 0 1-2.66-.393c-.996.881-2.456 1.336-4.348 1.393Z" /></g></symbol>',20,20,!1,void 0)},4130:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon20UserAddOutline","user_add_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="user_add_outline_20"><path fill-rule="evenodd" d="M12.5 8.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5ZM8.5 6a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm-4-.25a.75.75 0 1 0-1.5 0v2H1a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Zm4.155 7.227c.865-.458 2.194-.727 3.845-.727 1.65 0 2.98.27 3.845.727.794.42 1.155.959 1.155 1.71a.685.685 0 0 1-.05.288.325.325 0 0 1-.092.12c-.077.063-.26.155-.599.155H8.241c-.34 0-.522-.092-.6-.156a.325.325 0 0 1-.09-.12.686.686 0 0 1-.051-.287c0-.751.36-1.29 1.155-1.71ZM12.5 10.75c-1.774 0-3.38.283-4.547.902C6.783 12.27 6 13.26 6 14.688c0 .688.268 1.217.687 1.563.408.337.956.499 1.554.499h8.518c.598 0 1.146-.162 1.555-.499.418-.346.686-.875.686-1.564 0-1.426-.783-2.416-1.953-3.035-1.168-.619-2.773-.902-4.547-.902Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},281536:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path fill="currentColor" d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2Zm-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Zm-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z" /></g></symbol>',24,24,!1,void 0)},362873:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon24Play","play_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="play_24"><path d="M18.5 11.134a1 1 0 0 1 0 1.732l-9 5.196a1 1 0 0 1-1.5-.866V6.804a1 1 0 0 1 1.5-.866l9 5.196Z" /></symbol>',24,24,!1,void 0)},772474:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon28ListPlayOutline","list_play_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="list_play_outline_28"><g fill="currentColor"><path d="M12.998 18a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0-6a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zM22 6a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zM24.994 18.131a1 1 0 0 1 0 1.738l-6.48 3.995c-.675.386-1.518-.097-1.518-.869v-7.99c0-.773.843-1.255 1.517-.87z" /></g></symbol>',28,28,!1,void 0)},431184:(e,t,o)=>{o.d(t,{default:()=>r});const r=(0,o(28178).makeIcon)("Icon56VideoOutline","video_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="video_outline_56"><path fill="currentColor" d="M37.745 6c3.566 0 4.859.371 6.162 1.069s2.327 1.72 3.025 3.024C47.629 11.396 48 12.69 48 16.256v23.489c0 3.566-.371 4.859-1.069 6.162a7.27 7.27 0 0 1-3.024 3.025C42.604 49.629 41.311 50 37.745 50h-19.49c-3.565 0-4.859-.371-6.162-1.069-1.304-.697-2.327-1.72-3.024-3.024S8 43.311 8 39.745v-23.49c0-3.565.371-4.859 1.069-6.162.697-1.304 1.72-2.327 3.024-3.024S14.689 6 18.255 6zm.314 3H18.256c-2.799 0-3.761.186-4.749.714a4.27 4.27 0 0 0-1.793 1.793c-.508.95-.7 1.876-.713 4.434L11 39.744c0 2.799.186 3.761.714 4.749a4.27 4.27 0 0 0 1.793 1.793c.988.528 1.95.714 4.749.714h19.489c2.798 0 3.76-.186 4.748-.714a4.27 4.27 0 0 0 1.793-1.793c.528-.988.714-1.95.714-4.748v-23.49c0-2.798-.186-3.76-.714-4.748a4.27 4.27 0 0 0-1.793-1.793c-.95-.508-1.876-.7-4.434-.713zM18.72 38c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134.162.087.29.215.377.378.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134.162.087.29.215.377.378.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134z" /></symbol>',56,56,!1,void 0)},108679:(e,t,o)=>{var r=o(121296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?n:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=n;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,v=Object.prototype;e.exports=function e(t,o,r){if("string"!=typeof o){if(v){var a=g(o);a&&a!==v&&e(t,a,r)}var n=d(o);u&&(n=n.concat(u(o)));for(var s=l(t),p=l(o),f=0;f<n.length;++f){var S=n[f];if(!(i[S]||r&&r[S]||p&&p[S]||s&&s[S])){var m=_(o,S);try{c(t,S,m)}catch(e){}}}}return t}},396103:(e,t)=>{var o="function"==typeof Symbol&&Symbol.for,r=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,i=o?Symbol.for("react.fragment"):60107,n=o?Symbol.for("react.strict_mode"):60108,s=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,_=o?Symbol.for("react.forward_ref"):60112,g=o?Symbol.for("react.suspense"):60113,v=o?Symbol.for("react.suspense_list"):60120,p=o?Symbol.for("react.memo"):60115,f=o?Symbol.for("react.lazy"):60116,S=o?Symbol.for("react.block"):60121,m=o?Symbol.for("react.fundamental"):60117,h=o?Symbol.for("react.responder"):60118,E=o?Symbol.for("react.scope"):60119;function I(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case i:case s:case n:case g:return e;default:switch(e=e&&e.$$typeof){case c:case _:case f:case p:case l:return e;default:return t}}case a:return t}}}function b(e){return I(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=_,t.Fragment=i,t.Lazy=f,t.Memo=p,t.Portal=a,t.Profiler=s,t.StrictMode=n,t.Suspense=g,t.isAsyncMode=function(e){return b(e)||I(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return I(e)===c},t.isContextProvider=function(e){return I(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return I(e)===_},t.isFragment=function(e){return I(e)===i},t.isLazy=function(e){return I(e)===f},t.isMemo=function(e){return I(e)===p},t.isPortal=function(e){return I(e)===a},t.isProfiler=function(e){return I(e)===s},t.isStrictMode=function(e){return I(e)===n},t.isSuspense=function(e){return I(e)===g},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===s||e===n||e===g||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===p||e.$$typeof===l||e.$$typeof===c||e.$$typeof===_||e.$$typeof===m||e.$$typeof===h||e.$$typeof===E||e.$$typeof===S)},t.typeOf=I},121296:(e,t,o)=>{e.exports=o(396103)},441143:e=>{e.exports=function(e,t,o,r,a,i,n,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,r,a,i,n,s],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},549428:(e,t,o)=>{o.d(t,{default:()=>r});const r={root:"DynamicPagination-module__root--u5OCU",rootHidden:"DynamicPagination-module__rootHidden--esEwQ",pagination:"DynamicPagination-module__pagination--zaMs_",paginationHidden:"DynamicPagination-module__paginationHidden--p87Lz"}},108830:()=>{},748231:(e,t,o)=>{o.d(t,{default:()=>r});const r={button:"IconButton-module__button--PjXiW"}},685602:(e,t,o)=>{o.d(t,{default:()=>r});const r={container:"OpenUrl-module__container--OXPbo",link:"OpenUrl-module__link--Ldegu"}},468634:(e,t,o)=>{o.d(t,{default:()=>r});const r={itemVerification:"CatalogUser-module__itemVerification--WdcVZ"}},697530:(e,t,o)=>{o.d(t,{default:()=>r});const r={buttonRemove:"CatalogUserButton-module__buttonRemove--MrHCz"}},19657:(e,t,o)=>{o.d(t,{default:()=>r});const r={buttonLeave:"GroupItemButton-module__buttonLeave--r_qQM"}},64279:(e,t,o)=>{o.d(t,{default:()=>r});const r={government:"GroupItemDescription-module__government--QRlQu",governmentIcon:"GroupItemDescription-module__governmentIcon--iKsDA",userStack:"GroupItemDescription-module__userStack--kjuKw"}},557131:(e,t,o)=>{o.d(t,{default:()=>r});const r={root:"HeaderCompact-module__root--qfErI"}},308378:(e,t,o)=>{o.d(t,{default:()=>r});const r={button:"ClearRecentGroups-module__button--voMZ6",icon:"ClearRecentGroups-module__icon--boA_s"}},989780:(e,t,o)=>{o.d(t,{default:()=>r});const r={title:"Link-module__title--MmpRj",iconVerified:"Link-module__iconVerified--WWbNG"}},23684:(e,t,o)=>{o.d(t,{default:()=>r});const r={list:"List-module__list--acMWL"}},291121:(e,t,o)=>{o.d(t,{default:()=>r});const r={root:"Slider-module__root--ZBYBq",inner:"Slider-module__inner--ggDJB"}},769353:(e,t,o)=>{o.d(t,{default:()=>r});const r={app:"App-module__app--eKZXI"}},476892:(e,t,o)=>{o.d(t,{default:()=>r});const r={root:"SearchInput-module__root--bYi2O",icon:"SearchInput-module__icon--JWOWd",input:"SearchInput-module__input--OpNGn"}},263758:(e,t,o)=>{o.d(t,{default:()=>r});const r={root:"SearchResults-module__root--Mwfk1",wide:"SearchResults-module__wide--KCj02"}},126298:(e,t,o)=>{o.d(t,{default:()=>r});const r={spinner:"Spinner-module__spinner--dpWRC"}},748759:(e,t,o)=>{o.d(t,{InView:()=>p,useInView:()=>S});var r=o(667294),a=o(702177);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n.apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=new Map,c=new Map,d=new Map,u=0;function _(e,t,o){void 0===o&&(o={}),o.threshold||(o.threshold=0);var r=o,i=r.root,n=r.rootMargin,s=r.threshold;if(l.has(e)&&(0,a.default)(!1),e){var _=function(e){return e?d.has(e)?d.get(e):(u+=1,d.set(e,u.toString()),d.get(e)+"_"):""}(i)+(n?s.toString()+"_"+n:s.toString()),g=c.get(_);g||(g=new IntersectionObserver(v,o),_&&c.set(_,g));var p={callback:t,element:e,inView:!1,observerId:_,observer:g,thresholds:g.thresholds||(Array.isArray(s)?s:[s])};return l.set(e,p),g.observe(e),p}}function g(e){if(e){var t=l.get(e);if(t){var o=t.observerId,r=t.observer,a=r.root;r.unobserve(e);var i=!1,n=!1;o&&l.forEach((function(t,r){r!==e&&(t.observerId===o&&(i=!0,n=!0),t.observer.root===a&&(n=!0))})),!n&&a&&d.delete(a),r&&!i&&r.disconnect(),l.delete(e)}}}function v(e){e.forEach((function(e){var t=e.isIntersecting,o=e.intersectionRatio,r=e.target,a=l.get(r);if(a&&o>=0){var i=a.thresholds.some((function(e){return a.inView?o>e:o>=e}));void 0!==t&&(i=i&&t),a.inView=i,a.callback(i,e)}}))}var p=function(e){var t,o;function l(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return i(s(t=e.call.apply(e,[this].concat(r))||this),"state",{inView:!1,entry:void 0}),i(s(t),"node",null),i(s(t),"handleNode",(function(e){t.node&&(g(t.node),e||t.props.triggerOnce||t.setState({inView:!1,entry:void 0})),t.node=e||null,t.observeNode()})),i(s(t),"handleChange",(function(e,o){(e!==t.state.inView||e)&&t.setState({inView:e,entry:o}),t.props.onChange&&t.props.onChange(e,o)})),t}o=e,(t=l).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o;var c=l.prototype;return c.componentDidMount=function(){this.node||(0,a.default)(!1)},c.componentDidUpdate=function(e,t){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||(g(this.node),this.observeNode()),t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&(g(this.node),this.node=null)},c.componentWillUnmount=function(){this.node&&(g(this.node),this.node=null)},c.observeNode=function(){if(this.node){var e=this.props,t=e.threshold,o=e.root,r=e.rootMargin;_(this.node,this.handleChange,{threshold:t,root:o,rootMargin:r})}},c.render=function(){var e=this.state,t=e.inView,o=e.entry;if(!function(e){return"function"!=typeof e.children}(this.props))return this.props.children({inView:t,entry:o,ref:this.handleNode});var a=this.props,i=a.children,s=a.as,l=a.tag,c=(a.triggerOnce,a.threshold,a.root,a.rootMargin,a.onChange,function(e,t){if(null==e)return{};var o,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||(a[o]=e[o]);return a}(a,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange"]));return(0,r.createElement)(s||l||"div",n({ref:this.handleNode},c),i)},l}(r.Component);i(p,"displayName","InView"),i(p,"defaultProps",{threshold:0,triggerOnce:!1});var f={inView:!1,entry:void 0};function S(e){void 0===e&&(e={});var t=(0,r.useRef)(),o=(0,r.useState)(f),a=o[0],i=o[1],n=(0,r.useCallback)((function(o){t.current&&g(t.current),o&&_(o,(function(t,r){i({inView:t,entry:r}),t&&e.triggerOnce&&g(o)}),e),t.current=o}),[e.threshold,e.root,e.rootMargin,e.triggerOnce]);return(0,r.useEffect)((function(){t.current||a===f||e.triggerOnce||i(f)})),[n,a.inView,a.entry]}},929804:(e,t,o)=>{var r=o(14890).compose;t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)}},427164:(e,t,o)=>{o.d(t,{default:()=>i});var r,a=o(310396);e=o.hmd(e),r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o.g?o.g:e;const i=(0,a.default)(r)},310396:(e,t,o)=>{function r(e){var t,o=e.Symbol;return"function"==typeof o?o.observable?t=o.observable:(t=o("observable"),o.observable=t):t="@@observable",t}o.d(t,{default:()=>r})},702177:(e,t,o)=>{o.d(t,{default:()=>a});var r="Invariant failed";const a=function(e,t){if(!e)throw new Error(r)}},141561:(e,t,o)=>{o.d(t,{DynamicPagination:()=>c});var r=o(785893),a=o(667294),i=o(86894),n=o(659397),s=o(748759),l=o(549428);const c=({isLoading:e,fetchData:t,fetchError:o,nextFrom:c,rootMargin:d})=>{const[u,_]=(0,a.useState)(),[g,v]=(0,s.useInView)({rootMargin:d}),p=(0,n.classNames)(l.default.pagination,{[l.default.paginationHidden]:e});return(0,a.useEffect)((()=>{const e=setTimeout((()=>{v&&c&&u!==c&&(_(c),t())}),200);return()=>{clearTimeout(e)}}),[v,c,u]),c&&!o?(0,r.jsxs)("div",Object.assign({className:l.default.root},{children:[(0,r.jsx)(i.Spinner,{size:"small"},void 0),(0,r.jsx)("div",{className:p,ref:g},void 0)]}),void 0):null}},146524:(e,t,o)=>{o.d(t,{DynamicPagination:()=>r.DynamicPagination});var r=o(141561)},410351:(e,t,o)=>{o.d(t,{FRIENDS_STATUS_REQUEST:()=>r,FRIENDS_STATUS:()=>a});const r={REQUEST:1,ADDED:2,REPEAT:4},a={NOT_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIENDS:3}},670489:(e,t,o)=>{o.d(t,{useWindowWidth:()=>i});var r=o(667294),a=o(659397);const i=()=>{const[e,t]=(0,r.useState)(window.innerWidth);return(0,r.useEffect)((()=>{const e=()=>t(window.innerWidth);return(0,a.debounce)(e,700),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}},166391:(e,t,o)=>{o.d(t,{getImageMinWidth:()=>r});const r=e=>Math.ceil(e*Math.max(window.devicePixelRatio,1))},100977:(e,t,o)=>{o.d(t,{useCollectClick:()=>n,CatalogLogProvider:()=>s});var r=o(785893),a=o(667294);const i=(0,a.createContext)({collectClick:()=>{}}),n=()=>(0,a.useContext)(i).collectClick,s=({collectClick:e=(()=>{}),children:t})=>{const o=(0,a.useMemo)((()=>({collectClick:e})),[e]);return(0,r.jsx)(i.Provider,Object.assign({value:o},{children:t}),void 0)}},487589:(e,t,o)=>{o.d(t,{formatDateTime:()=>i});var r=o(70162),a=o(733164);const i=(e=0,t=!1)=>{if(!e)return"";const o=3600,i=1e3*e,n=new Date(i),s=new Date,l=(Date.now()-n.getTime())/1e3,c=n.getFullYear(),d=n.getMonth();if(l<5)return r.getLang("mobile_profile_status_just_now");if(l<60)return r.getLang("mobile_profile_status_secs_ago",Math.ceil(l));if(l<o){const e=Math.ceil(l/60),t=r.getLang("mobile_profile_status_word_mins_ago","raw");return(0,a.isArray)(t)&&e<t.length?t[e]:(0,r.langNumeric)(e,r.getLang("mobile_profile_status_mins_ago","raw"))}if(l/o<5){const e=Math.ceil(l/o),t=r.getLang("mobile_profile_status_word_hours_ago","raw");return(0,a.isArray)(t)&&e<t.length?t[e]:(0,r.langNumeric)(e,r.getLang("mobile_profile_status_hours_ago","raw"))}const u=s.getFullYear(),_=s.getMonth(),g=t?r.getLang("months_of","raw"):r.getLang("months_sm_of","raw");return c<u&&(_>1||d<9||u-c>=2)?(0,r.langDate)(i,r.getLang("global_date","raw"),0,g):(0,r.langDate)(i,r.getLang("global_short_date_time","raw"),0,g)}},201469:(e,t,o)=>{o.d(t,{getOwnerAvatar:()=>a});var r=o(733164);const a=e=>e?(0,r.isRetina)()?e.photo_100||e.photo_50||"":e.photo_50||"":""},141773:(e,t,o)=>{o.d(t,{getOwnerName:()=>r});const r=(e,t=!0,o)=>{if(e){if("name"in e)return e.name||"";if(!t&&"first_name"in e)return o?e[`first_name_${o}`]||"":e.first_name||"";if("first_name"in e||"last_name"in e)return o?`${e[`first_name_${o}`]} ${e[`last_name_${o}`]}`:`${e.first_name} ${e.last_name}`}return""}},843345:(e,t,o)=>{o.d(t,{getOwnerUrl:()=>r});const r=(e,t="/")=>e?e.screen_name?`${t}${e.screen_name}`:"first_name"in e?`${t}id${e.id}`:`${t}club${e.id}`:""},935472:(e,t,o)=>{var r=o(785893),a=o(973935),i=o(709987),n=o(397998),s=o(261508),l=o(798773),c=o(736407),d=o(250943),u=o(243517);window.searcher=i.searcher,window.iSearch=i.iSearch,window.searchActions=n.searchActions,window.slideShow=n.slideShow,window.slideHide=n.slideHide,(0,s.registerReactApplication)("SearchCatalogSuggester",(e=>{const t=e?Object.assign({},e):null;t&&!t.triggers&&(t.triggers=(0,u.getTriggersMap)(t.type));const o=(0,s.getReactRootEl)("SearchCatalogSuggester");o&&a.render((0,r.jsx)(l.SearchCatalogSuggesterRoot,{initOptions:t},void 0),o)})),(0,s.registerReactApplication)("SearchVideoCatalog",(()=>{const e=(0,s.getReactRootEl)("SearchVideoCatalog");e&&a.render((0,r.jsx)(c.SearchVideoCatalog,{},void 0),e)})),(0,s.registerReactApplication)("TopSearch",(()=>{const e=(0,s.getReactRootEl)("TopSearch");e&&a.render((0,r.jsx)(d.SearchTopRoot,{},void 0),e)}));try{window.stManager.done(window.jsc("web/search.js"))}catch(e){}},248363:(e,t,o)=>{o.d(t,{Catalog:()=>l});var r=o(785893),a=o(153406),i=o(496435),n=o(214547),s=o(100977);const l=({sections:e})=>(0,r.jsx)(s.CatalogLogProvider,Object.assign({collectClick:n.searchStatsCollector.logEvent},{children:e.map((({blocks:e})=>{var t,o,n;if(!e)return null;const s=[];let l=[];for(let c=0;c<(null==e?void 0:e.length);++c){const d=e[c],u=e[c+1];if(u&&d.layout.name===u.layout.name&&u.data_type===i.ECatalogBlockDataType.VIDEOS){l=l.length?[...l,...null!==(t=u.videos_ids)&&void 0!==t?t:[]]:[...null!==(o=d.videos_ids)&&void 0!==o?o:[],...null!==(n=u.videos_ids)&&void 0!==n?n:[]];continue}const _=(0,a.getBlockByLayout)(d.layout);s.push((0,r.jsx)(_,Object.assign({},d,{videos_ids:l.length?l:d.videos_ids}),d.id)),l=[]}return s}))}),void 0)},381314:(e,t,o)=>{o.d(t,{HeaderCompact:()=>a});var r=o(785893);const a=e=>{const{layout:t}=e;return(0,r.jsxs)("div",Object.assign({className:"VideoSubheader "},{children:[(0,r.jsx)("div",Object.assign({className:"VideoSubheader__title"},{children:(0,r.jsx)("div",Object.assign({className:"VideoSubheader__titleText js-video-subtitle"},{children:t.title}),void 0)}),void 0),(0,r.jsx)("div",{className:"VideoSubheader__actions"},void 0)]}),void 0)}},553026:(e,t,o)=>{o.d(t,{HeaderCompact:()=>r.HeaderCompact});var r=o(381314)},830795:(e,t,o)=>{o.d(t,{LargeList:()=>i});var r=o(785893),a=o(153406);const i=e=>{const t=(0,a.extractItemsIds)(e),o=(0,a.getBlockComponentByDataType)(e.data_type);return(0,r.jsx)("div",Object.assign({className:"video_items_list _video_search_global_videos_list VideoGrid"},{children:t.map((e=>(0,r.jsx)(o,{id:e},e)))}),void 0)}},451563:(e,t,o)=>{o.d(t,{LargeList:()=>r.LargeList});var r=o(830795)},923708:(e,t,o)=>{o.d(t,{Playlist:()=>h});var r=o(785893),a=o(840574),i=o(667294),n=o(981138),s=o(684351),l=o(659397),c=o(670489),d=o(166391),u=o(772474),_=o(743412),g=o(744648),v=o(850298),p=o(844142),f=o(201469),S=o(315138),m=o(487589);const h=({id:e})=>{const[t,o]=e.split("_"),{albums:h,groups:E,profiles:I}=(0,i.useContext)(n.CatalogContext),b=p.Ranges.isGroupId(+t)?E.find((({id:e})=>e===-t)):I.find((({id:e})=>e===+t)),C=(0,f.getOwnerAvatar)(b),O=h.find((({id:e,owner_id:r})=>e===+o&&r===+t)),T=(0,c.useWindowWidth)(),y=(0,i.useMemo)((()=>(0,l.getPhotoSize)((null==O?void 0:O.image)||[],(0,d.getImageMinWidth)(T))),[T]);if(!O)return null;const A={attrs:O.is_system?{nodrag:"1"}:{}};console.log("album",O),console.log("thumbImage",y);const R=(0,a.getPlaylistURL)(+t,+o);return(0,r.jsxs)("div",Object.assign({className:"VideoCard VideoCard--playlist js-video_playlist_item ui_gallery_item",id:`video_playlist_item_${o}`,"data-id":o,"data-name":e},A.attrs,{children:[(0,r.jsx)("a",Object.assign({className:"VideoCard__thumbLink video_item__thumb_link",href:R,"data-playlist-id":O.id,"data-id":"todo_video_raw_id","data-task-click":"Video/show_video",onClick:e=>s.Video.checkClickEvent(e)},{children:(0,r.jsxs)("div",Object.assign({className:"VideoCard__thumbWrapper video_item_thumb_wrap"},{children:[(0,r.jsx)("div",Object.assign({className:"VideoCard__thumb"},{children:y?(0,r.jsx)("img",{src:y.url,loading:"lazy",className:"VideoCard__thumbImg",alt:O.title},void 0):(0,r.jsx)(u.default,{},void 0)}),void 0),(0,r.jsxs)("div",Object.assign({className:"VideoCard__controls video_item_controls"},{children:[(0,r.jsx)(g.OverlayWithControls,{},void 0),(0,r.jsx)("div",Object.assign({className:"VideoCard__private"},{children:(0,r.jsx)(_.default,{},void 0)}),void 0),(0,r.jsx)("div",Object.assign({className:"VideoCard__label"},{children:(0,r.jsx)("span",Object.assign({className:"VideoCard__labelItem"},{children:O.count}),void 0)}),void 0)]}),void 0),(0,r.jsx)(v.Placeholder,{},void 0)]}),void 0)}),void 0),(0,r.jsxs)("div",Object.assign({className:"VideoCard__info"},{children:[(0,r.jsx)(S.OwnerIcon,{ownerIcon:C},void 0),(0,r.jsxs)("div",Object.assign({className:"VideoCard__infoContent"},{children:[(0,r.jsx)("a",Object.assign({className:"VideoCard__title",href:R,"data-task-mouseover":"Video/check_title"},{children:O.title}),void 0),(0,r.jsx)("div",Object.assign({className:"VideoCard__additionalInfo"},{children:(0,m.formatDateTime)(O.updated_time)}),void 0)]}),void 0)]}),void 0)]}),void 0)}},600737:(e,t,o)=>{o.d(t,{OverlayWithControls:()=>n});var r=o(785893),a=o(362873),i=o(70162);const n=()=>(0,r.jsxs)("div",Object.assign({className:"VideoCard__controlsOverlay"},{children:[(0,r.jsx)("div",Object.assign({className:"VideoCard__controlsOverlayIcon"},{children:(0,r.jsx)(a.default,{},void 0)}),void 0),(0,r.jsx)("div",Object.assign({className:"VideoCard__controlsOverlayText"},{children:i.getLang("video_play_all")}),void 0)]}),void 0)},744648:(e,t,o)=>{o.d(t,{OverlayWithControls:()=>r.OverlayWithControls});var r=o(600737)},794917:(e,t,o)=>{o.d(t,{OwnerIcon:()=>i});var r=o(785893),a=o(546857);const i=({ownerIcon:e})=>(0,r.jsx)("div",Object.assign({className:"VideoCard__icon"},{children:e?(0,r.jsx)("img",{src:e,loading:"lazy",className:"VideoCard__iconImg"},void 0):(0,r.jsx)(a.default,{},void 0)}),void 0)},315138:(e,t,o)=>{o.d(t,{OwnerIcon:()=>r.OwnerIcon});var r=o(794917)},385571:(e,t,o)=>{o.d(t,{Playlist:()=>r.Playlist});var r=o(923708)},840574:(e,t,o)=>{o.d(t,{getPlaylistURL:()=>r});const r=(e,t)=>`/video/playlist/${e}_${t}`},374378:(e,t,o)=>{o.d(t,{Slider:()=>i});var r=o(785893),a=o(153406);const i=e=>{const t=(0,a.extractItemsIds)(e),o=(0,a.getBlockComponentByDataType)(e.data_type);return(0,r.jsx)("div",Object.assign({className:"video_items_list _video_search_promo_albums_list VideoGrid VideoGrid--oneRow",id:"video_search_promo_albums_list"},{children:t.map((e=>(0,r.jsx)(o,{id:e},e)))}),void 0)}},246796:(e,t,o)=>{o.d(t,{Slider:()=>r.Slider});var r=o(374378)},1514:(e,t,o)=>{o.d(t,{Video:()=>O});var r=o(785893),a=o(667294),i=o(981138),n=o(792060),s=o(659397),l=o(670489),c=o(166391),d=o(684351),u=o(683515),_=o(393235),g=o(86747),v=o(870342),p=o(58230),f=o(890448),S=o(634224),m=o(269309),h=o(70162),E=o(431184),I=o(844142),b=o(100977),C=o(740517);const O=({id:e})=>{var t,o,O,T,y;const[A,R]=e.split("_"),w=(0,b.useCollectClick)(),{videos:k,groups:x,profiles:j}=(0,a.useContext)(i.CatalogContext),[D,N]=(0,a.useState)((()=>k.find((({id:e,owner_id:t})=>e===+R&&t===+A)))),L=(0,n.getVideoURL)(+A,+R),[M,P]=(0,a.useState)(!1),F=I.Ranges.isGroupId(+A)?x.find((({id:e})=>e===-A)):j.find((({id:e})=>e===+A)),V=(0,l.useWindowWidth)(),$=(0,a.useMemo)((()=>{var e;const t=null!==(e=null==D?void 0:D.image)&&void 0!==e?e:[];let o=t.filter((e=>!e.with_padding));return o.length||(o=t),(0,s.getPhotoSize)(o,(0,c.getImageMinWidth)(V))}),[V]),[B,G]=(0,a.useState)(!0);if(void 0===D)return null;const U=null!==(o=null===(t=D.trailer)||void 0===t?void 0:t.mp4_360)&&void 0!==o?o:"",H=(0,n.getVideoClasses)(D,e),q=D.restriction;let W=0;D.viewed_duration&&D.duration&&(W=100*D.viewed_duration/D.duration);const Q=D.duration?(0,s.formatDuration)(D.duration):"",K=(0,h.langReplace)(h.getLang("video_aria_preview"),{duration:Q,restriction:null!==(T=null===(O=D.restriction)||void 0===O?void 0:O.title)&&void 0!==T?T:"",title:null!==(y=D.title)&&void 0!==y?y:""}),z=D.viewed_duration?(0,n.getPlayFromByDuration)(D.viewed_duration):"",Y=t=>{if(d.Video.checkClickEvent(t))return!0;if(t.preventDefault(),window.cur.cancelClick)return void(window.cur.cancelClick=!1);if(window.cur.chooseVideoMedia)return window.cur.chooseVideoMedia(t.target,e);let o;!o&&window.Video&&window.Video.isGlobalSearchMode()&&window.Video.shouldShowSearchInPlaylistWithSearch()&&(o=window.Video.VIDEO_GLOBAL_SEARCH_TYPE),w({action:C.SearchClickActionMap.TAP,track_code:D.track_code,type:C.EventItemType.VIDEO}),d.Video.show(t,e,{autoplay:1,queue:0,playlistId:o,playFrom:z,addParams:{track_code:D.track_code}},t.target)};return(0,r.jsxs)("div",Object.assign({className:H,id:`video_item_${e}`,"data-id":e,"data-owner-id":A,"data-video-id":R,"data-thumb":null==$?void 0:$.url,"data-trailer":U,"data-task-mouseenter":"VideoShowcase/play_trailer","data-task-mouseleave":"VideoShowcase/stop_trailer"},{children:[(0,r.jsx)("a",Object.assign({className:"VideoCard__thumbLink video_item__thumb_link",href:L,"aria-label":K,onClick:Y},{children:(0,r.jsxs)("div",Object.assign({className:"VideoCard__thumbWrapper video_item_thumb_wrap"},{children:[q?(0,r.jsx)(u.VideoRestriction,{icon:q.icon_name,title:q.title},void 0):null,(0,r.jsxs)("div",Object.assign({className:"VideoCard__thumb"},{children:[$&&!M&&(0,r.jsx)("img",{className:(0,s.classNames)("VideoCard__thumbImg","js-video-item-thumb","VideoRestriction__thumb",{VideoRestriction__thumb:Boolean(q)}),"data-thumb":$.url,src:$.url,loading:"lazy",onError:()=>P(!0),alt:D.title},void 0),M&&(0,r.jsx)(E.default,{},void 0)]}),void 0),(0,r.jsx)("div",{className:"video_thumb_play VideoCard__play"},void 0),U?(0,r.jsx)("video",{className:(0,s.classNames)("VideoCard__trailer",{"VideoCard__trailer--loading":B}),onLoadedData:()=>G(!1),crossOrigin:"anonymous",src:U,muted:!0,loop:!0},void 0):null,(0,r.jsxs)("div",Object.assign({className:"VideoCard__controls video_item_controls"},{children:[(0,r.jsx)("div",{className:"VideoCard__privacyIconWrapper"},void 0),(0,r.jsxs)("div",Object.assign({className:"VideoCard__label "},{children:[D.platform?(0,r.jsx)("span",Object.assign({className:"VideoCard__labelItem"},{children:D.platform}),void 0):null,D.duration?(0,r.jsx)("span",Object.assign({className:"VideoCard__labelItem"},{children:Q}),void 0):null]}),void 0),(0,r.jsx)("div",Object.assign({className:"VideoCard__actions video_thumb_actions"},{children:(0,r.jsx)(_.VideoActions,{video:D,onToggleAdd:()=>{const e=null==D?void 0:D.added;e?(N(Object.assign(Object.assign({},D),{added:0})),(0,m.deleteVideo)({target_id:window.vk.id,owner_id:+A||0,video_id:+R||0}).catch((()=>{N(Object.assign(Object.assign({},D),{added:1}))}))):(N(Object.assign(Object.assign({},D),{added:1})),(0,m.addVideo)({owner_id:+A,video_id:+R,target_id:window.vk.id}).catch((()=>{N(Object.assign(Object.assign({},D),{added:0}))})).finally((()=>{window.tooltips&&window.tooltips.destroyAll()}))),w({action:e?C.SearchClickActionMap.REMOVE_FROM_ME:C.SearchClickActionMap.ADD_TO_ME,track_code:null==D?void 0:D.track_code,type:C.EventItemType.VIDEO})}},void 0)}),void 0),(0,r.jsx)(S.MediaCheckButton,{videoId:e},void 0),W?(0,r.jsx)("div",Object.assign({className:"VideoCard__viewedDurationWrapper"},{children:(0,r.jsx)("div",{className:"VideoCard__viewedDuration",style:{width:`${W}%`}},void 0)}),void 0):null]}),void 0)]}),void 0)}),void 0),(0,r.jsxs)("div",Object.assign({className:"VideoCard__info"},{children:[(0,r.jsx)(g.Avatar,{owner:F},void 0),(0,r.jsxs)("div",Object.assign({className:"VideoCard__infoContent"},{children:[(0,r.jsxs)("div",Object.assign({className:"VideoCard__titleWrapper",id:`video_card_title_wrapper_${R}`},{children:[(0,r.jsx)("a",Object.assign({className:"VideoCard__title",href:L,"data-queue":"0","data-id":e,"data-task-mouseover":"Video/check_title",onClick:Y},{children:null==D?void 0:D.title}),void 0),(0,r.jsx)(v.MenuToggle,{videoRawId:e},void 0)]}),void 0),(0,r.jsx)("div",Object.assign({className:"VideoCard__additionalInfo"},{children:(0,r.jsx)(p.VideoOwner,{owner:F,ownerId:D.owner_id,trackCode:D.track_code},void 0)}),void 0),(0,r.jsx)("div",Object.assign({className:"VideoCard__additionalInfo video_item_add_info"},{children:(0,r.jsx)(f.SubTitle,{video:D},void 0)}),void 0)]}),void 0)]}),void 0)]}),void 0)}},299660:(e,t,o)=>{o.d(t,{Avatar:()=>i});var r=o(785893),a=o(201469);const i=({owner:e})=>{const t=(0,a.getOwnerAvatar)(e);return t.length>0?(0,r.jsx)("div",{className:"VideoCard__avatar VideoCard__avatar--base",style:{backgroundImage:`url(${t})`}},void 0):null}},86747:(e,t,o)=>{o.d(t,{Avatar:()=>r.Avatar});var r=o(299660)},924893:(e,t,o)=>{o.d(t,{MediaCheckButton:()=>i});var r=o(785893),a=o(667294);const i=({videoId:e})=>{const t=(0,a.useRef)(null);return(0,r.jsx)("div",Object.assign({ref:t,className:"media_check_btn_wrap",onClick:()=>{if(window.cur.chooseVideoMedia&&t.current)return window.cur.chooseVideoMedia(t.current,e,!0)}},{children:(0,r.jsx)("div",{className:"media_check_btn"},void 0)}),void 0)}},634224:(e,t,o)=>{o.d(t,{MediaCheckButton:()=>r.MediaCheckButton});var r=o(924893)},837932:(e,t,o)=>{o.d(t,{MenuToggle:()=>s});var r=o(785893),a=o(70162),i=o(667294),n=o(281536);const s=({videoRawId:e})=>{const t=(0,i.useRef)(null),o=()=>{var o;null===(o=window.VideoShowcase)||void 0===o||o.showVideoMenu(t.current,e)};return(0,r.jsx)("button",Object.assign({ref:t,className:"VideoCard__menuToggle",onMouseOver:o,onClick:o,"aria-label":a.getLang("video_additional_options")},{children:(0,r.jsx)("div",Object.assign({className:"VideoCard__menuToggleIcon"},{children:(0,r.jsx)(n.default,{},void 0)}),void 0)}),void 0)}},870342:(e,t,o)=>{o.d(t,{MenuToggle:()=>r.MenuToggle});var r=o(837932)},481919:(e,t,o)=>{o.d(t,{SubTitle:()=>i});var r=o(785893),a=o(108046);const i=({video:e})=>(0,r.jsxs)(r.Fragment,{children:[e.views&&(0,r.jsx)("span",Object.assign({className:"video_item_views"},{children:(0,a.getFormattedBigViewsToShortCase)(e.views)}),void 0),(0,r.jsxs)("span",Object.assign({className:"video_item_date_info"},{children:[(0,r.jsx)("span",{className:"divider video_item_date_divider"},void 0),e.date&&(0,r.jsx)("span",Object.assign({className:"video_item_updated"},{children:(0,a.getFormattedUpdatedTime)(e.date,!0)}),void 0)]}),void 0)]},void 0)},890448:(e,t,o)=>{o.d(t,{SubTitle:()=>r.SubTitle});var r=o(481919)},349857:(e,t,o)=>{o.d(t,{VideoActions:()=>l});var r=o(785893),a=o(351613),i=o(416259),n=o(136900),s=o(70162);const l=({video:e,onToggleAdd:t})=>(0,r.jsxs)(r.Fragment,{children:[e.can_edit?(0,r.jsx)("button",Object.assign({className:"VideoCard__action VideoCard__action--edit","data-task-click":"VideoShowcase/video_edit","data-task-mouseover":"VideoShowcase/show_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-text":s.getLang("video_edit"),"aria-label":s.getLang("video_edit")},{children:(0,r.jsx)("div",Object.assign({className:"VideoCard__actionIcon"},{children:(0,r.jsx)(a.default,{},void 0)}),void 0)}),void 0):null,e.can_add?(0,r.jsxs)("button",Object.assign({className:"VideoCard__action VideoCard__action--add",onClick:e=>{e.stopPropagation(),e.preventDefault(),t()},"data-task-mouseover":"VideoShowcase/show_add_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-text-add":s.getLang("video_add_to_my_playlist"),"data-text-added":s.getLang("video_remove_from_my_playlist"),"aria-label":s.getLang("video_add_to_my_playlist")},{children:[(0,r.jsx)("div",Object.assign({className:"VideoCard__actionIcon VideoCard__actionIcon--added"},{children:(0,r.jsx)(i.default,{},void 0)}),void 0),(0,r.jsx)("div",Object.assign({className:"VideoCard__actionIcon VideoCard__actionIcon--add"},{children:(0,r.jsx)(n.default,{},void 0)}),void 0)]}),void 0):null]},void 0)},393235:(e,t,o)=>{o.d(t,{VideoActions:()=>r.VideoActions});var r=o(349857)},478518:(e,t,o)=>{o.d(t,{VideoOwner:()=>c});var r=o(785893),a=o(843345),i=o(141773),n=o(100977),s=o(740517),l=o(975197);const c=({owner:e,trackCode:t,ownerId:o})=>{const c=(0,n.useCollectClick)(),d=e?(0,a.getOwnerUrl)(e):void 0,u=(0,i.getOwnerName)(e);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",Object.assign({onClick:()=>{c({action:s.SearchClickActionMap.OPEN_OWNER,track_code:t,type:s.EventItemType.VIDEO})},href:d,className:"VideoCard__ownerLink"},{children:u}),void 0),Boolean(null==e?void 0:e.verified)&&(0,r.jsx)("a",{href:"/verify",className:"page_verified ",onMouseOver:e=>{(0,l.pageVerifiedTip)(e.currentTarget,{type:1,oid:o})}},void 0)]},void 0)}},58230:(e,t,o)=>{o.d(t,{VideoOwner:()=>r.VideoOwner});var r=o(478518)},496322:(e,t,o)=>{o.d(t,{VideoRestriction:()=>i});var r=o(785893);const a=e=>"hide_outline"===e?"age":e,i=({icon:e,title:t})=>(0,r.jsx)("div",Object.assign({className:"VideoRestriction__boxWrap"},{children:(0,r.jsxs)("div",Object.assign({className:"VideoRestriction__box"},{children:[(0,r.jsx)("div",{className:`VideoRestriction__icon VideoRestriction__icon--${a(e)}`},void 0),(0,r.jsx)("div",Object.assign({className:"VideoRestriction__title"},{children:t}),void 0)]}),void 0)}),void 0)},683515:(e,t,o)=>{o.d(t,{VideoRestriction:()=>r.VideoRestriction});var r=o(496322)},66330:(e,t,o)=>{o.d(t,{Video:()=>r.Video});var r=o(1514)},792060:(e,t,o)=>{o.d(t,{getVideoURL:()=>a,getVideoClasses:()=>n,getPlayFromByDuration:()=>s});var r=o(659397);const a=(e,t)=>`/video${e}_${t}`,i=e=>["waiting","started"].some((t=>t===e.live_status)),n=(e,t)=>{var o,a;const n=Boolean(e.live),s=Boolean(e.platform)&&!n,l=Boolean(e.can_edit),c=Boolean(e.can_add),d=!l,u=!c,_=Boolean(e.content_restricted);return(0,r.classNames)("_video_item",`ge_video_item_${t}`,{video_ext:s,video_active_live:n,video_can_edit:l,video_can_add:c,video_can_delete:!1,video_nap:Boolean(e.no_autoplay),video_added:Boolean(e.added),"VideoCard--private":Boolean(e.is_private),video_no_duration:!Boolean(e.platform)&&!Boolean(e.duration)&&!i(e),video_no_actions:d&&(u||_),video_blocked:_,VideoRestriction:Boolean(e.restriction),"VideoRestriction--small":Boolean(e.restriction),"VideoRestriction--canPreview":Boolean(null===(o=e.restriction)||void 0===o?void 0:o.can_preview),"VideoRestriction--blur":Boolean(null===(a=e.restriction)||void 0===a?void 0:a.blur),"VideoCard--videoAdded":Boolean(e.added)},"VideoCard")},s=e=>{let t="";const o=Math.floor(e/3600);o&&(t+=`${o}h`);const r=Math.floor(e%3600/60);r&&(t+=`${r}m`);const a=e%60;return a&&(t+=`${a}s`),t}},496435:(e,t,o)=>{o.d(t,{CatalogBlockLayoutName:()=>r,ECatalogBlockDataType:()=>a});const r={HEADER_COMPACT:"header_compact",LARGE_LIST:"large_list",LIST:"list",SLIDER:"slider"},a={VIDEOS:"videos",ALBUMS:"albums"}},153406:(e,t,o)=>{o.d(t,{getBlockByLayout:()=>c,extractItemsIds:()=>d,getBlockComponentByDataType:()=>u});var r=o(496435),a=o(553026),i=o(451563),n=o(246796),s=o(66330),l=o(385571);const c=e=>{switch(e.name){case r.CatalogBlockLayoutName.HEADER_COMPACT:return a.HeaderCompact;case r.CatalogBlockLayoutName.LARGE_LIST:case r.CatalogBlockLayoutName.LIST:return i.LargeList;case r.CatalogBlockLayoutName.SLIDER:return n.Slider}return()=>null},d=e=>{const{data_type:t}=e;switch(t){case r.ECatalogBlockDataType.VIDEOS:return(null==e?void 0:e.videos_ids)||[];case r.ECatalogBlockDataType.ALBUMS:return(null==e?void 0:e.albums_ids)||[]}return[]},u=e=>{switch(e){case r.ECatalogBlockDataType.VIDEOS:return s.Video;case r.ECatalogBlockDataType.ALBUMS:return l.Playlist}return()=>null}},798773:(e,t,o)=>{o.d(t,{SearchCatalogSuggesterRoot:()=>s});var r=o(785893),a=o(50533),i=o(412739),n=o(687064);const s=({initOptions:e})=>(0,r.jsx)(a.Provider,Object.assign({store:i.suggesterStore},{children:(0,r.jsx)(n.SearchForm,{options:e},void 0)}),void 0)},196807:(e,t,o)=>{o.d(t,{Catalog:()=>n});var r=o(785893),a=o(667294),i=o(309040);const n=({catalog:e})=>{var t;const o=null===(t=null==e?void 0:e.sections)||void 0===t?void 0:t.find((({id:t})=>t===(null==e?void 0:e.default_section))),n=(0,i.extractBlocks)(o);return(0,r.jsx)(r.Fragment,{children:n.map((e=>{const t=(0,i.getBlockByLayout)(e);return(0,a.createElement)(t,Object.assign({},e,{key:e.id}))}))},void 0)}},79199:(e,t,o)=>{o.d(t,{HeaderCompact:()=>a});var r=o(785893);const a=e=>(0,r.jsx)("div",{children:(0,r.jsx)("h3",Object.assign({className:"SuggestionItemsTitle"},{children:e.layout.title}),void 0)},e.id)},836016:(e,t,o)=>{o.d(t,{HeaderCompact:()=>r.HeaderCompact});var r=o(79199)},674673:(e,t,o)=>{o.d(t,{SuggesterBlock:()=>s});var r=o(785893),a=o(667294),i=o(139935),n=o(296135);const s=e=>{const{searchQuery:t,recentSuggestions:o,otherSuggestions:s,selectedSuggestion:l,triggerSearch:c,lastQuery:d}=(0,i.useTypedSelector)((e=>{var t;return{searchQuery:e.searchInput.query,catalog:e.catalog.catalog,recentSuggestions:e.suggester.recentSuggests,otherSuggestions:e.suggester.otherSuggests,selectedSuggestion:e.suggester.selectedSuggest,helpSuggest:e.suggester.helpSuggest,triggerSearch:null===(t=e.initOptions.triggers)||void 0===t?void 0:t.triggerSearch,lastQuery:e.catalog.lastQuery}})),u=(0,a.useMemo)((()=>{let t=[...o,...s];return e.suggestions_ids&&(t=t.filter((({id:t=""})=>{var o;return null===(o=null==e?void 0:e.suggestions_ids)||void 0===o?void 0:o.includes(t)}))),e.search_suggestions_ids&&(t=t.filter((({id:t=""})=>{var o;return null===(o=null==e?void 0:e.search_suggestions_ids)||void 0===o?void 0:o.includes(t)}))),t}),[o,s,t,d,l]);return(0,r.jsx)("div",Object.assign({className:"SuggesterBlock"},{children:(0,r.jsx)(n.SuggestionItems,{suggestions:u,selectedId:l,triggerSearch:c},void 0)}),void 0)}},296135:(e,t,o)=>{o.d(t,{SuggestionItems:()=>g});var r=o(785893),a=o(667294),i=o(800843),n=o(960837),s=o(70162),l=o(302810),c=o(189558),d=o(659397),u=o(214547),_=o(740517);const g=({suggestions:e,selectedId:t,triggerSearch:o})=>{const{setSearchQuery:g,hideSuggest:v,deleteRecent:p,search:f,deleteRecentBlock:S}=(0,l.useAction)(),m=(0,a.useCallback)(((e,t="")=>{const r=(0,c.getMainInput)(),a=window.uiSearch.getWrapEl(r);g(t),f(r,a,t,o),v(a),u.searchStatsCollector.logEvent({action:_.SearchClickActionMap.TAP,track_code:e,type:_.EventItemType.SEARCH_SUGGESTION})}),[]),h=(0,a.useCallback)(((t,o,r)=>{t.stopPropagation(),p(r||""),u.searchStatsCollector.logEvent({action:_.SearchClickActionMap.REMOVE_RECENT,track_code:o,type:_.EventItemType.SEARCH_SUGGESTION});1===e.length&&S()}),[e]);return(0,r.jsx)(r.Fragment,{children:e.map((e=>(0,r.jsxs)("div",Object.assign({className:(0,d.classNames)("SuggestionItemsItem",{"SuggestionItemsItem--selected":t===e.id}),onClick:()=>m((null==e?void 0:e.track_code)||"",e.title)},{children:[(0,r.jsx)("div",Object.assign({className:"SuggestionItemsItemIcon"},{children:"recent"===e.type?(0,r.jsx)(i.default,{},void 0):(0,r.jsx)(n.default,{},void 0)}),void 0),(0,r.jsx)("p",Object.assign({className:"SuggestionItemsText"},{children:e.title}),void 0),"recent"===e.type?(0,r.jsx)("button",Object.assign({className:"SuggestionItemsDelete",onClick:t=>h(t,(null==e?void 0:e.track_code)||"",e.id)},{children:s.getLang("search_web_video_suggester_delete_action")}),void 0):null]}),e.id)))},void 0)}},182730:(e,t,o)=>{o.d(t,{SuggesterBlock:()=>r.SuggesterBlock});var r=o(674673)},586106:(e,t,o)=>{o.d(t,{SuggesterBlock:()=>r.SuggesterBlock,HeaderCompact:()=>a.HeaderCompact});var r=o(182730),a=o(836016)},698005:(e,t,o)=>{o.d(t,{Catalog:()=>r.Catalog,HeaderCompact:()=>a.HeaderCompact,SuggesterBlock:()=>a.SuggesterBlock});var r=o(196807),a=o(586106)},309040:(e,t,o)=>{o.d(t,{extractBlocks:()=>i,getBlockByLayout:()=>n});var r=o(722353),a=o(708908);const i=e=>{var t;return(null===(t=null==e?void 0:e.blocks)||void 0===t?void 0:t.length)?e.blocks:[]},n=e=>{const t=e.layout.name,o=e.data_type;switch(t){case r.ESearchCatalogBlockLayoutName.LIST:return o===r.ESearchCatalogBlockDataType.CATALOG_SEARCH_SUGGESTION||o===r.ESearchCatalogBlockDataType.SEARCH_SUGGESTION?a.SuggesterBlock:()=>null;case r.ESearchCatalogBlockLayoutName.HEADER_COMPACT:return a.HeaderCompact;default:return()=>null}}},733049:(e,t,o)=>{o.d(t,{InputHelpSuggest:()=>n});var r=o(785893),a=o(973935),i=o(722353);const n=({helpSuggestStart:e="",helpSuggestEnd:t=""})=>{var o;const n=null===(o=document.querySelector(i.SEARCH_INPUT_ELEMENT_ID))||void 0===o?void 0:o.parentElement;return a.createPortal((0,r.jsxs)("div",Object.assign({className:"InputHelpSuggest"},{children:[(0,r.jsx)("span",Object.assign({className:"InputHelpSuggest__hidden"},{children:e}),void 0),t]}),void 0),n)}},890781:(e,t,o)=>{o.d(t,{SearchInput:()=>g});var r=o(785893),a=o(667294),i=o(189558),n=o(302810),s=o(342269),l=o(152278),c=o(722353),d=o(139935),u=o(733049),_=o(106866);const g=({options:e})=>{const{query:t,isWaitingForShow:o,allSuggests:g,selectedSuggestId:v,helpSuggest:p,helpSuggestStart:f,helpSuggestEnd:S,helpTrigger:m,shouldBeClosed:h}=(0,d.useTypedSelector)((e=>({query:e.searchInput.query,isWaitingForShow:e.suggester.isWaitingForShow,allSuggests:e.suggester.allSuggests,selectedSuggestId:e.suggester.selectedSuggest,helpSuggestStart:e.suggester.helpSuggestStart,helpSuggestEnd:e.suggester.helpSuggestEnd,helpSuggest:e.suggester.helpSuggest,helpTrigger:e.suggester.helpTrigger,shouldBeClosed:e.suggester.shouldBeClosed}))),{initOptions:E,setSearchQuery:I,startShowingSuggest:b,showSuggest:C,hideSuggest:O,chooseAbove:T,chooseBelow:y,search:A,resetSelectedSuggest:R,resetHelpSuggest:w,triggerHelpSuggest:k,resetTempSuggesterData:x,resetClosedSuggesterStatus:j}=(0,n.useAction)(),[D,N]=(0,a.useState)((0,i.getQueryFromNav)()),L=(0,_.useDebounce)(D,c.DEBOUNCE_TIME);(0,a.useEffect)((()=>{R(),I(L)}),[L]);const M=(0,a.useCallback)((t=>{var o;const r=t.target,a=window.uiSearch.getWrapEl(r),i=(0,s.trim)(r.value)?r.value:"";if(i||((null==e?void 0:e.allowFiltersForEmpty)||window.uiSearch.removeAllFilters(r),window.uiSearch.hideProgress(r)),null==e?void 0:e.useInstantSearch)return x(),void A(r,a,i,null===(o=null==e?void 0:e.triggers)||void 0===o?void 0:o.triggerSearch);const n=t;[l.KEY.UP,l.KEY.DOWN,l.KEY.RIGHT,l.KEY.LEFT,l.KEY.SPACE].includes(n.keyCode)||N(i)}),[t,p,e]),P=(0,a.useCallback)((t=>{var o;const r=(0,i.getMainInput)(),a=window.uiSearch.getWrapEl(r),n=(0,s.trim)(r.value)?r.value:"";switch(t.keyCode){case l.KEY.ENTER:A(r,a,n,null===(o=null==e?void 0:e.triggers)||void 0===o?void 0:o.triggerSearch),O(a),x();break;case l.KEY.ESC:r.blur(),O(a),x();break;case l.KEY.UP:T(),r.setSelectionRange(r.value.length,r.value.length);break;case l.KEY.DOWN:y();break;case l.KEY.RIGHT:k();break;case l.KEY.TAB:case l.KEY.SHIFT:case l.KEY.CTRL:case l.KEY.ALT:case l.KEY.META_LEFT:case l.KEY.META_RIGHT:break;default:w()}}),[]),F=(0,a.useCallback)((()=>{var t;const o=document.querySelector(c.SEARCH_INPUT_ELEMENT_ID),r=window.uiSearch.getWrapEl(o),a=(0,s.trim)(o.value)?(0,s.trim)(o.value):"";x(),A(o,r,a,null===(t=null==e?void 0:e.triggers)||void 0===t?void 0:t.triggerSearch),O(r)}),[t]),V=(0,a.useCallback)((e=>{var t;const o=e.target,r=window.uiSearch.getWrapEl(document.querySelector(c.SEARCH_INPUT_ELEMENT_ID));(null===(t=null==r?void 0:r.classList)||void 0===t?void 0:t.contains(c.SEARCH_SUGGESTER_OPEN_CLASS))&&(o.closest(c.SEARCH_INPUT_ELEMENT_ID)||o.closest(".SearchCatalogSuggester")||o.closest(".ui_search_reset_button")||(x(),O(r)))}),[]),$=(0,a.useCallback)((e=>{const t=e,o=(null==t?void 0:t.ctrlKey)||(null==t?void 0:t.metaKey);if([l.KEY.ENTER,l.KEY.ESC].includes(t.keyCode)||o)return;switch(t.keyCode){case l.KEY.TAB:case l.KEY.SHIFT:case l.KEY.CTRL:case l.KEY.ALT:case l.KEY.META_LEFT:case l.KEY.META_RIGHT:return}const r=e.target,a=window.uiSearch.getWrapEl(r);!h||g.length||(null==r?void 0:r.value)?(j(),C(a)):b()}),[h,g]),B=(0,a.useCallback)((()=>{p&&I(p)}),[p]),G=(0,a.useCallback)((e=>{x();const t=e.target,o=window.uiSearch.getWrapEl(t);!h||g.length||(null==t?void 0:t.value)?(j(),C(o)):b(),I(""),b()}),[e,h,g]),U=(0,a.useCallback)((()=>{x(),I("")}),[]);return(0,a.useEffect)((()=>{e&&E(e);const t=(0,i.getMainInput)(),o=window.uiSearch.getWrapEl(t).querySelector(".ui_search_button_search"),r=[...document.querySelectorAll(".MenuList__item")];return(null==t?void 0:t.value)&&I(t.value),(0,l.addEvent)(t,"input change keyup valueChanged refresh",M),(0,l.addEvent)(t,"keydown",P),(0,l.addEvent)(o,"click",F),(0,l.addEvent)(window,"mousedown",V),(null==r?void 0:r.length)&&r.map((e=>(0,l.addEvent)(e,"click",U))),()=>{(0,l.removeEvent)(t,"input change keyup valueChanged refresh",M),(0,l.removeEvent)(t,"keydown",P),(0,l.removeEvent)(o,"click",F),(0,l.removeEvent)(window,"mousedown",V),(null==r?void 0:r.length)&&r.map((e=>(0,l.removeEvent)(e,"click",U)))}}),[]),(0,a.useEffect)((()=>{e&&E(e);const t=(0,i.getMainInput)(),o=window.uiSearch.getWrapEl(t).querySelector(".ui_search_reset_button");return(null==t?void 0:t.value)&&I(t.value),(0,l.addEvent)(t,"click keyup keydown",$),(0,l.addEvent)(o,"click",G),()=>{(0,l.removeEvent)(t,"click keyup keydown",$),(0,l.removeEvent)(o,"click",G)}}),[e,h]),(0,a.useEffect)((()=>{const e=(0,i.getMainInput)(),t=window.uiSearch.getWrapEl(e);o&&(g.length||(null==e?void 0:e.value))&&C(t)}),[e,g,t,o]),(0,a.useEffect)((()=>{const e=(0,i.getMainInput)();e&&t!==e.value&&(e.value=t,e.setSelectionRange(e.value.length,e.value.length))}),[t]),(0,a.useEffect)((()=>{const e=g.find((({id:e})=>e===v));(null==e?void 0:e.title)&&I(e.title)}),[v]),(0,a.useEffect)((()=>{B()}),[m]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u.InputHelpSuggest,{helpSuggestStart:f||"",helpSuggestEnd:S||""},void 0)},void 0)}},348130:(e,t,o)=>{o.d(t,{SearchInput:()=>r.SearchInput});var r=o(890781)},850073:(e,t,o)=>{o.d(t,{Suggester:()=>u});var r=o(785893),a=o(667294),i=o(302810),n=o(708908),s=o(139935),l=o(873589),c=o(189558),d=o(722353);const u=({options:e})=>{const{catalog:t,searchQuery:o,isOpen:u,canFetch:_,allSuggests:g,lastQuery:v,shouldBeClosed:p,isWaitingForShow:f}=(0,s.useTypedSelector)((e=>({catalog:null==e?void 0:e.catalog.catalog,searchQuery:null==e?void 0:e.searchInput.query,isOpen:null==e?void 0:e.suggester.isOpen,isWaitingForShow:null==e?void 0:e.suggester.isWaitingForShow,allSuggests:e.suggester.allSuggests,canFetch:!e.suggester.selectedSuggest,lastQuery:e.catalog.lastQuery,shouldBeClosed:e.suggester.shouldBeClosed}))),{fetchCatalog:S,setSuggestions:m,setHelpSuggest:h,resetDeletedSuggest:E,hideSuggest:I}=(0,i.useAction)();return(0,a.useEffect)((()=>{t&&m(t)}),[t]),(0,a.useEffect)((()=>{_&&(u||f)&&o!==v&&(E(),S({q:o}))}),[e,o,u,f,v,_]),(0,a.useEffect)((()=>{h(o)}),[o,g]),(0,a.useEffect)((()=>{if(o){const e=(0,c.getMainInput)(),t=window.uiSearch.getWrapEl(e);(0,l.toggleClass)(t,d.SEARCH_EMPTY_FIELD_CLASS,!o)}}),[]),(0,a.useEffect)((()=>{if(p){const e=(0,c.getMainInput)(),t=window.uiSearch.getWrapEl(e);(null==e?void 0:e.value)||I(t)}}),[e,p]),u?(0,r.jsx)("div",Object.assign({className:"SearchCatalogSuggester"},{children:(0,r.jsx)(n.Catalog,{catalog:null==t?void 0:t.catalog},void 0)}),void 0):null}},72193:(e,t,o)=>{o.d(t,{Suggester:()=>r.Suggester});var r=o(850073)},708908:(e,t,o)=>{o.d(t,{Suggester:()=>r.Suggester,Catalog:()=>a.Catalog,HeaderCompact:()=>a.HeaderCompact,SuggesterBlock:()=>a.SuggesterBlock,SearchInput:()=>i.SearchInput});var r=o(72193),a=o(698005),i=o(348130)},722353:(e,t,o)=>{o.d(t,{SEARCH_WRAPPER_ELEMENT_ID:()=>r,SEARCH_INPUT_ELEMENT_ID:()=>a,SEARCH_EMPTY_FIELD_CLASS:()=>i,SEARCH_SUGGESTER_OPEN_CLASS:()=>n,IMMEDIATELY_TIMER:()=>s,DEBOUNCE_TIME:()=>l,API_REMOVE_RESENT_QUERY:()=>c,API_GET_VIDEO_SEARCH:()=>d,ESearchCatalogBlockLayoutName:()=>u,ESearchCatalogBlockDataType:()=>_,LAT:()=>g,RUS:()=>v});const r="video_search_input_wrapper",a="#video_search_input",i="ui_search_field_empty",n="VideoSearchInput__withNewSuggester--open",s=0,l=200,c="search.removeVideoSearchRecentQuery",d="catalog.getVideoSearch";var u,_;!function(e){e.LIST="list",e.HEADER_COMPACT="header_compact"}(u||(u={})),function(e){e.CATALOG_SEARCH_SUGGESTION="catalog_search_suggestion",e.SEARCH_SUGGESTION="search_suggestions"}(_||(_={}));const g="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ ",v="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ "},184515:(e,t,o)=>{o.d(t,{SearchForm:()=>i});var r=o(785893),a=o(708908);const i=({options:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.SearchInput,{options:e},void 0),(0,r.jsx)(a.Suggester,{options:e},void 0)]},void 0)},687064:(e,t,o)=>{o.d(t,{SearchForm:()=>r.SearchForm});var r=o(184515)},302810:(e,t,o)=>{o.d(t,{useAction:()=>n});var r=o(50533),a=o(14890),i=o(281412);const n=()=>{const e=(0,r.useDispatch)();return(0,a.bindActionCreators)(i.ActionCreators,e)}},106866:(e,t,o)=>{o.d(t,{useDebounce:()=>a});var r=o(667294);const a=(e="",t=0)=>{const[o,a]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const o=setTimeout((()=>{a(e)}),t);return()=>{clearTimeout(o)}}),[e]),o}},139935:(e,t,o)=>{o.d(t,{useTypedSelector:()=>r});const r=o(50533).useSelector},569392:(e,t,o)=>{o.r(t),o.d(t,{fetchCatalog:()=>s,deleteRecentBlock:()=>l});var r=o(570655),a=o(189798),i=o(232519),n=o(722353);const s=e=>t=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){var o;t({type:i.CatalogActions.START_LOADING,payload:e.q||""});const r=yield(0,a.api)(n.API_GET_VIDEO_SEARCH,Object.assign(Object.assign({},e),{need_blocks:1,show_suggests:1}));(null===(o=r.suggestions)||void 0===o?void 0:o.length)&&r.suggestions[0]&&(window.cur.videoSearchTrackCodeForQID=r.suggestions[0].track_code||""),t({type:i.CatalogActions.FETCH,payload:r}),t({type:i.CatalogActions.STOP_LOADING})})),l=()=>e=>{e({type:i.CatalogActions.REMOVE_RECENT})}},281412:(e,t,o)=>{o.d(t,{ActionCreators:()=>s});var r=o(84053),a=o(569392),i=o(714219),n=o(451886);const s=Object.assign(Object.assign(Object.assign(Object.assign({},r),a),i),n)},84053:(e,t,o)=>{o.r(t),o.d(t,{initOptions:()=>a});var r=o(232519);const a=e=>t=>{t({type:r.InitOptionsActionType.INIT,payload:e})}},714219:(e,t,o)=>{o.r(t),o.d(t,{search:()=>s,setSearchQuery:()=>l});var r=o(699904),a=o(342269),i=o(873589),n=o(722353);const s=(e,t,o="",s)=>l=>{if(s){const c=(0,a.trim)(o)?(0,a.trim)(o):"";(0,i.toggleClass)(t,n.SEARCH_EMPTY_FIELD_CLASS,!c),null==s||s.call(e,c),l({type:r.SearchInputActions.SEARCH,payload:c})}},l=e=>t=>{t({type:r.SearchInputActions.SET_QUERY,payload:e})}},451886:(e,t,o)=>{o.r(t),o.d(t,{startShowingSuggest:()=>n,showSuggest:()=>s,hideSuggest:()=>l,resetClosedSuggesterStatus:()=>c,setSuggestions:()=>d,deleteRecent:()=>u,chooseAbove:()=>_,chooseBelow:()=>g,resetSelectedSuggest:()=>v,resetDeletedSuggest:()=>p,setHelpSuggest:()=>f,triggerHelpSuggest:()=>S,resetHelpSuggest:()=>m,resetTempSuggesterData:()=>h});var r=o(232519),a=o(189798),i=o(722353);const n=()=>e=>{e({type:r.SuggesterActions.START_SHOW})},s=e=>t=>{(null==e?void 0:e.classList.contains(i.SEARCH_SUGGESTER_OPEN_CLASS))||(e.classList.add(i.SEARCH_SUGGESTER_OPEN_CLASS),t({type:r.SuggesterActions.SHOW,payload:e}))},l=e=>t=>{var o;null===(o=null==e?void 0:e.classList)||void 0===o||o.remove(i.SEARCH_SUGGESTER_OPEN_CLASS),t({type:r.SuggesterActions.HIDE})},c=()=>e=>{e({type:r.SuggesterActions.RESET_CLOSED_STATUS})},d=e=>t=>{t({type:r.SuggesterActions.SET_SUGGESTS,payload:{suggests:(null==e?void 0:e.suggestions)||[]}})},u=e=>t=>{e&&((0,a.api)(i.API_REMOVE_RESENT_QUERY,{query_id:e}),t({type:r.SuggesterActions.DELETE_RECENT,payload:e}))},_=()=>e=>{e({type:r.SuggesterActions.CHOOSE_ABOVE})},g=()=>e=>{e({type:r.SuggesterActions.CHOOSE_BELOW})},v=()=>e=>{e({type:r.SuggesterActions.RESET_SELECTED})},p=()=>e=>{e({type:r.SuggesterActions.RESET_DELETED})},f=(e="")=>t=>{t({type:r.SuggesterActions.SET_HELP_SUGGEST,payload:e})},S=()=>e=>{e({type:r.SuggesterActions.TRIGGER_HELP_SUGGEST})},m=()=>e=>{e({type:r.SuggesterActions.RESET_HELP_SUGGEST})},h=()=>e=>{e({type:r.SuggesterActions.RESET_TEMP_SUGGESTER_DATA})}},412739:(e,t,o)=>{o.d(t,{suggesterStore:()=>s});var r=o(14890),a=o(753894),i=o(913534);const n=o(929804).composeWithDevTools((0,r.applyMiddleware)(a.default)),s=(0,r.createStore)(i.rootReducer,n)},198725:(e,t,o)=>{o.d(t,{catalogReducer:()=>n});var r=o(232519),a=o(722353);const i={catalog:{},lastQuery:null,loading:!1},n=(e=i,t)=>{var o,n,s,l,c,d;switch(t.type){case r.CatalogActions.START_LOADING:return Object.assign(Object.assign({},e),{loading:!0,lastQuery:t.payload});case r.CatalogActions.STOP_LOADING:return Object.assign(Object.assign({},e),{loading:!1});case r.CatalogActions.FETCH:return Object.assign(Object.assign({},e),{catalog:t.payload});case r.CatalogActions.REMOVE_RECENT:{const t=Object.assign({},e.catalog);if((null===(n=null===(o=t.catalog)||void 0===o?void 0:o.sections)||void 0===n?void 0:n.length)&&(null===(s=t.catalog)||void 0===s?void 0:s.sections[0])){const o=t.catalog.sections[0];if((null===(l=o.blocks)||void 0===l?void 0:l.length)&&(null===(c=o.blocks)||void 0===c?void 0:c.length)>2){const r=[...o.blocks],i=o.blocks[0],n=o.blocks[1];if((null===(d=null==i?void 0:i.layout)||void 0===d?void 0:d.name)===a.ESearchCatalogBlockLayoutName.HEADER_COMPACT&&n.data_type===a.ESearchCatalogBlockDataType.CATALOG_SEARCH_SUGGESTION)return r.splice(0,2),o.blocks=r,Object.assign(Object.assign({},e),{catalog:t})}}return Object.assign({},e)}default:return e}}},913534:(e,t,o)=>{o.d(t,{rootReducer:()=>l});var r=o(14890),a=o(720969),i=o(198725),n=o(116722),s=o(101644);const l=(0,r.combineReducers)({initOptions:a.initOptionsReducer,catalog:i.catalogReducer,searchInput:n.searchInputReducer,suggester:s.suggesterReducer})},720969:(e,t,o)=>{o.d(t,{initOptionsReducer:()=>i});var r=o(232519);const a={useInstantSearch:!0,type:"video"},i=(e=a,t)=>t.type===r.InitOptionsActionType.INIT?Object.assign(Object.assign({},e),t.payload):e},116722:(e,t,o)=>{o.d(t,{searchInputReducer:()=>n});var r=o(189558),a=o(232519);const i={query:(0,r.getQueryFromNav)(),lastSearchRequest:""},n=(e=i,t)=>{switch(t.type){case a.SearchInputActions.SET_QUERY:return Object.assign(Object.assign({},e),{query:t.payload});case a.SearchInputActions.SEARCH:return Object.assign(Object.assign({},e),{lastSearchRequest:t.payload});default:return e}}},101644:(e,t,o)=>{o.d(t,{suggesterReducer:()=>n});var r=o(232519),a=o(722353);const i={isOpen:!1,isWaitingForShow:!1,shouldBeClosed:!1,suggestsOrderIds:[],allSuggests:[],recentSuggests:[],otherSuggests:[],deletedSuggests:[],selectedSuggest:null,helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null,helpTrigger:!1},n=(e=i,t)=>{switch(t.type){case r.SuggesterActions.START_SHOW:return Object.assign(Object.assign({},e),{isWaitingForShow:!(null==e?void 0:e.isOpen)});case r.SuggesterActions.SHOW:return Object.assign(Object.assign({},e),{isOpen:!0,isWaitingForShow:!1});case r.SuggesterActions.HIDE:return Object.assign(Object.assign({},e),{isOpen:!1});case r.SuggesterActions.RESET_CLOSED_STATUS:return Object.assign(Object.assign({},e),{shouldBeClosed:!1});case r.SuggesterActions.SET_SUGGESTS:{const o=t.payload.suggests||[],r=o.filter((({id:t="",type:o=""})=>"recent"===o&&!e.deletedSuggests.includes(t))),a=o.filter((e=>"recent"!==(null==e?void 0:e.type))),i=[...r,...a].map((e=>(null==e?void 0:e.id)||"")),n=[...r,...a];return Object.assign(Object.assign({},e),{recentSuggests:r,otherSuggests:a,suggestsOrderIds:i,allSuggests:n,shouldBeClosed:!n.length})}case r.SuggesterActions.DELETE_RECENT:{const o=[...e.deletedSuggests,t.payload];return Object.assign(Object.assign({},e),{deletedSuggests:o,recentSuggests:e.recentSuggests.filter((({id:e=""})=>!o.includes(e))),suggestsOrderIds:e.suggestsOrderIds.filter(((e="")=>!o.includes(e)))})}case r.SuggesterActions.CHOOSE_ABOVE:{if(!e.selectedSuggest)return Object.assign(Object.assign({},e),{selectedSuggest:e.suggestsOrderIds[-1],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});const t=e.suggestsOrderIds.findIndex((t=>t===e.selectedSuggest)),o=(t-1==-1?e.suggestsOrderIds.length-1:t-1)%e.suggestsOrderIds.length;return Object.assign(Object.assign({},e),{selectedSuggest:e.suggestsOrderIds[o],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null})}case r.SuggesterActions.CHOOSE_BELOW:{if(!e.selectedSuggest)return Object.assign(Object.assign({},e),{selectedSuggest:e.suggestsOrderIds[0],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});const t=(e.suggestsOrderIds.findIndex((t=>t===e.selectedSuggest))+1)%e.suggestsOrderIds.length;return Object.assign(Object.assign({},e),{selectedSuggest:e.suggestsOrderIds[t],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null})}case r.SuggesterActions.RESET_SELECTED:return Object.assign(Object.assign({},e),{selectedSuggest:null});case r.SuggesterActions.RESET_DELETED:return Object.assign(Object.assign({},e),{deletedSuggests:[]});case r.SuggesterActions.SET_HELP_SUGGEST:{if(e.selectedSuggest)return Object.assign({},e);const o=t.payload.length-1,r=e.allSuggests.length&&e.allSuggests[0].title||"";if(t.payload[o]===r[o]){if(a.RUS.includes(t.payload[o])&&a.RUS.includes(r[o]))return Object.assign(Object.assign({},e),{helpSuggest:r,helpSuggestStart:t.payload,helpSuggestEnd:r.slice(t.payload.length,r.length)});if(a.LAT.includes(t.payload[o])&&a.LAT.includes(r[o]))return Object.assign(Object.assign({},e),{helpSuggest:r,helpSuggestStart:t.payload,helpSuggestEnd:r.slice(t.payload.length,r.length)})}return Object.assign(Object.assign({},e),{helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null})}case r.SuggesterActions.TRIGGER_HELP_SUGGEST:return Object.assign(Object.assign({},e),{helpTrigger:!e.helpTrigger});case r.SuggesterActions.RESET_HELP_SUGGEST:return Object.assign(Object.assign({},e),{helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});case r.SuggesterActions.RESET_TEMP_SUGGESTER_DATA:return Object.assign(Object.assign({},e),{selectedSuggest:null,helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});default:return e}}},232519:(e,t,o)=>{o.d(t,{CatalogActions:()=>r.CatalogActions,InitOptionsActionType:()=>r.InitOptionsActionType,SearchInputActions:()=>r.SearchInputActions,SuggesterActions:()=>r.SuggesterActions});var r=o(458584)},474670:(e,t,o)=>{var r;o.d(t,{CatalogActions:()=>r}),function(e){e.FETCH="FETCH",e.START_LOADING="START_LOADING",e.STOP_LOADING="STOP_LOADING",e.REMOVE_RECENT="REMOVE_RECENT"}(r||(r={}))},458584:(e,t,o)=>{o.d(t,{InitOptionsActionType:()=>r.InitOptionsActionType,CatalogActions:()=>a.CatalogActions,SearchInputActions:()=>i.SearchInputActions,SuggesterActions:()=>n.SuggesterActions});var r=o(649859),a=o(474670),i=o(699904),n=o(357004)},649859:(e,t,o)=>{var r;o.d(t,{InitOptionsActionType:()=>r}),function(e){e.INIT="INIT"}(r||(r={}))},699904:(e,t,o)=>{var r;o.d(t,{SearchInputActions:()=>r}),function(e){e.SEARCH="SEARCH",e.SET_QUERY="SET_QUERY"}(r||(r={}))},357004:(e,t,o)=>{var r;o.d(t,{SuggesterActions:()=>r}),function(e){e.SET_SUGGESTS="SET_SUGGESTS",e.CHOOSE_BELOW="CHOOSE_BELOW",e.CHOOSE_ABOVE="CHOOSE_ABOVE",e.DELETE_RECENT="DELETE_RECENT",e.SET_HELP_SUGGEST="SET_HELP_SUGGEST",e.TRIGGER_HELP_SUGGEST="TRIGGER_HELP_SUGGEST",e.RESET_SELECTED="RESET_SELECTED",e.RESET_DELETED="RESET_DELETED",e.RESET_HELP_SUGGEST="RESET_HELP_SUGGEST",e.RESET_TEMP_SUGGESTER_DATA="RESET_TEMP_SUGGESTER_DATA",e.START_SHOW="START_SHOW",e.SHOW="SHOW",e.HIDE="HIDE",e.RESET_CLOSED_STATUS="RESET_CLOSED_STATUS"}(r||(r={}))},189558:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{getMainInput:()=>getMainInput,getQueryFromNav:()=>getQueryFromNav});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(570655),_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(873589),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(769488),_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(722353);const getMainInput=()=>{const e=document.getElementById(_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_WRAPPER_ELEMENT_ID);if(!e)return null;const t=null==e?void 0:e.querySelector(_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_INPUT_ELEMENT_ID);return t||null},getInitOptionsFromDom=()=>(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(void 0,void 0,void 0,(function*(){return new Promise((resolve=>{setTimeout((()=>{const mainInput=getMainInput(),wrapEl=window.uiSearch.getWrapEl(mainInput),delayedInitOptions=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__.domData)(wrapEl,"init-options");let result=null;if(delayedInitOptions){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__.domData)(wrapEl,"init-options",null);const evalScript=`(function() { return ${delayedInitOptions} })()`;try{result=eval(evalScript)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_1__.logEvalError)(e,evalScript),resolve(result)}}resolve(result)}),_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.IMMEDIATELY_TIMER)}))})),getQueryFromNav=()=>{var e,t,o;return(null===(t=null===(e=window.nav)||void 0===e?void 0:e.objLoc)||void 0===t?void 0:t.q)||(null===(o=window.nav)||void 0===o?void 0:o.objLoc["c[q]"])||""}},250943:(e,t,o)=>{o.d(t,{SearchTopRoot:()=>s});var r=o(785893),a=o(388636),i=o(86894),n=o(99656);o(662632),o(108830);const s=()=>(0,r.jsx)(n.AppRootProvider,Object.assign({sizeX:i.SizeType.REGULAR,sizeY:i.SizeType.COMPACT,viewWidth:i.ViewWidth.DESKTOP},{children:(0,r.jsx)(a.App,{},void 0)}),void 0)},726562:(e,t,o)=>{o.d(t,{getSearchTop:()=>i,addRecent:()=>n,joinGroup:()=>s,leaveGroup:()=>l,addFriend:()=>c,deleteFriend:()=>d,clearRecent:()=>u});var r=o(189798),a=o(762422);function i(e,t){return(0,r.api)(a.CATALOG_API_METHODS.GET_SEARCH_TOP,e,void 0,t)}function n(e){return(0,r.api)(a.CATALOG_API_METHODS.ADD_RECENT,e)}function s(e){return(0,r.api)(a.CATALOG_API_METHODS.JOIN_GROUP,Object.assign({},e))}function l(e){return(0,r.api)(a.CATALOG_API_METHODS.LEAVE_GROUP,Object.assign({},e))}function c(e){return(0,r.api)(a.CATALOG_API_METHODS.ADD_FRIEND,Object.assign({},e))}function d(e){return(0,r.api)(a.CATALOG_API_METHODS.DELETE_FRIEND,Object.assign({},e))}function u(e){return(0,r.api)(a.CATALOG_API_METHODS.CLEAR_RECENT,Object.assign({},e))}},266550:(e,t,o)=>{o.d(t,{Catalog:()=>i});var r=o(785893),a=o(635630);const i=({catalog:e})=>{var t,o;const i=null===(t=null==e?void 0:e.sections)||void 0===t?void 0:t.find((t=>t.id===(null==e?void 0:e.default_section)));return(0,r.jsx)(r.Fragment,{children:null===(o=null==i?void 0:i.blocks)||void 0===o?void 0:o.map(((e,t)=>{const o=(0,a.getBlockByLayout)(e);return(0,r.jsx)(o,Object.assign({blockIndex:t},e),e.id)}))},void 0)}},627845:(e,t,o)=>{o.d(t,{IconButton:()=>l});var r=o(570655),a=o(785893),i=o(86894),n=o(659397),s=o(748231);const l=e=>{var{className:t,children:o}=e,l=(0,r.__rest)(e,["className","children"]);return(0,a.jsx)(i.IconButton,Object.assign({className:(0,n.classNames)(s.default.button,t)},l,{children:o}),void 0)}},827899:(e,t,o)=>{o.d(t,{IconButton:()=>r.IconButton});var r=o(627845)},122064:(e,t,o)=>{o.d(t,{Button:()=>i});var r=o(785893),a=o(132414);const i=({actions:e=[],blockIndex:t})=>(0,r.jsx)(r.Fragment,{children:null==e?void 0:e.map(((e,o)=>{const i=(0,a.getButton)(e);return(0,r.jsx)(i,{action:e,itemIndex:(t||0)+o,id:o},o)}))},void 0)},206545:(e,t,o)=>{o.d(t,{OpenUrl:()=>p});var r=o(785893),a=o(667294),i=o(842571),n=o(919653),s=o(86894),l=o(799549),c=o(540249),d=o(797704),u=o(578274),_=o(740517),g=o(234057),v=o(685602);const p=({action:e,itemIndex:t})=>{var o;const p=(0,u.useCollectClick)(),f=(0,i.useStore)(n.$currentQuery),S=(0,i.useStore)(n.$selectedItemIndex),m=(0,i.useStore)(n.$isMouseActive),h=`${null===(o=null==e?void 0:e.action)||void 0===o?void 0:o.url}${encodeURIComponent(f)}`,E=(0,a.useCallback)(((t,o)=>{t&&!(0,d.isMainClick)(null==t?void 0:t.nativeEvent)||(null==t||t.preventDefault(),null==t||t.stopPropagation(),p({type:_.EventItemType.CATALOG_ITEM,track_code:null==e?void 0:e.track_code,action:_.SearchClickActionMap.TAP}),o?window.open(h):((0,n.fireSetCurrentQuery)(""),(0,n.fireSetResultsDisplay)(!1),(0,n.fireSetCatalog)(null),(0,n.fireAbortRequest)(),(0,g.navGo)(h,null)))}),[f,p]);return(0,a.useEffect)((()=>{(0,n.fireSetItemIndex)({id:t||0,callback:E})}),[t,E]),(0,r.jsx)(l.SimpleCell,Object.assign({hovered:(null==S?void 0:S.id)===t,onMouseOut:()=>{(0,n.fireSetSelectionIndexByItem)(-1)},onMouseOver:()=>{(0,n.fireSetSelectionIndexByItem)(t||-1)},onClick:E,hasHover:m||(null==S?void 0:S.id)===t,href:h,after:(0,r.jsx)(c.default,{},void 0),className:v.default.container},{children:(0,r.jsx)(s.Headline,Object.assign({className:v.default.link,level:"1",weight:"3"},{children:null==e?void 0:e.title}),void 0)}),void 0)}},322453:(e,t,o)=>{o.d(t,{OpenUrl:()=>r.OpenUrl});var r=o(206545)},805315:(e,t,o)=>{o.d(t,{Button:()=>r.Button});var r=o(122064)},132414:(e,t,o)=>{o.d(t,{getButton:()=>i});var r=o(762422),a=o(322453);const i=e=>{var t;return(null===(t=e.action)||void 0===t?void 0:t.type)===r.CatalogActionType.OPEN_URL?a.OpenUrl:()=>null}},356484:(e,t,o)=>{o.d(t,{CatalogUser:()=>C});var r=o(785893),a=o(667294),i=o(842571),n=o(919653),s=o(304319),l=o(753445),c=o(316654),d=o(799549),u=o(728358),_=o(917258),g=o(754494),v=o(762422),p=o(659397),f=o(506770),S=o(797704),m=o(975197),h=o(578274),E=o(740517),I=o(234057),b=o(468634);const C=(0,a.memo)((({id:e,itemIndex:t})=>{const o=(0,h.useCollectClick)(),[C,O]=(0,a.useState)(!0),T=(0,i.useStoreMap)({store:n.$catalogUsers,keys:[e],fn:(e,[t])=>e.find((({item_id:e})=>e===t))}),y=(0,i.useStoreMap)({store:n.$profiles,keys:[null==T?void 0:T.user_id],fn:(e,[t])=>t?e.get(t):void 0}),A=(0,i.useStoreMap)({store:n.$profiles,keys:[null==T?void 0:T.common_friends],fn:(e,[t])=>(t||[]).map((t=>e.get(t))).filter((e=>!!e)).map((({first_name:e="",photo_50:t="",photo_100:o=""})=>({first_name:e,photo_50:t,photo_100:o})))}),R=(0,i.useStoreMap)({store:n.$friendsToDelete,keys:[null==y?void 0:y.id],fn:(e,[t])=>!!e.find((e=>e===t))}),w=(0,i.useStore)(n.$friendsPendingIds),k=(0,i.useStore)(n.$selectedItemIndex),x=(0,i.useStore)(n.$isMouseActive),j=(0,f.partConfigEnabled)("vkui_account_common_verification_mark")&&((null==y?void 0:y.is_esia_verified)||(null==y?void 0:y.is_sber_verified)||(null==y?void 0:y.is_tinkoff_verified)),D=(null==y?void 0:y.track_code)||(null==T?void 0:T.track_code),N=e=>{o({track_code:D,type:E.EventItemType.USER,action:e})},L=(0,a.useMemo)((()=>(0,g.getFriendsButtonState)(null==y?void 0:y.friend_status,!!(null==y?void 0:y.can_write_private_message),R)),[null==y?void 0:y.friend_status,null==y?void 0:y.can_write_private_message,R]),M=(0,a.useCallback)(((e,t)=>{!y||e&&!(0,S.isMainClick)(null==e?void 0:e.nativeEvent)||(null==e||e.preventDefault(),null==e||e.stopPropagation(),N(E.SearchClickActionMap.TAP),(0,n.fireAddRecent)({owner_ids:`${y.id}`}),t?window.open(`/${y.screen_name}`):((0,n.fireSetResultsDisplay)(!1),(0,I.navGo)(`/${y.screen_name}`,(null==e?void 0:e.nativeEvent)||null)))}),[y]);if((0,a.useEffect)((()=>{(0,n.fireSetItemIndex)({id:t||0,callback:M})}),[t,M]),!y)return null;const P=(0,p.classNames)(j&&b.default.itemVerification);return(0,r.jsxs)(d.SimpleCell,Object.assign({hovered:(null==k?void 0:k.id)===t,onMouseOut:()=>{(0,n.fireSetSelectionIndexByItem)(-1)},onClick:M,onMouseOver:()=>{(0,n.fireSetSelectionIndexByItem)(t||-1)},hasHover:x||(null==k?void 0:k.id)===t,href:`/${y.screen_name}`,before:(0,r.jsx)(u.FakeAvatar,Object.assign({size:v.CATALOG_AVATAR_SIZE},{children:(0,r.jsx)(_.AvatarRich,{size:v.CATALOG_AVATAR_SIZE,src:(0,g.getListAvatarSrc)(y),badge:(0,g.getOnlineStatus)(y),outlineType:y.has_unseen_stories?_.AvatarRichOutlineType.STORIES_UNSEEN:void 0,isNFT:!!y.is_nft},void 0)}),void 0),badgeAfterTitle:y.verified||j?(0,r.jsx)("div",Object.assign({onMouseOver:e=>{var t,o;const r=null===(t=e.target)||void 0===t?void 0:t.closest('[data-catalog-item="list"]'),a=null===(o=e.target)||void 0===o?void 0:o.closest('[data-verified-container="true"]'),i=C?v.FIRST_VERIFIED_TOOLTIP_SHIFT:v.VERIFIED_TOOLTIP_SHIFT;(0,m.pageVerifiedTip)(a,{type:j?8:1,oid:null==y?void 0:y.id,appendEl:r,shift:i}),O(!1)},"data-verified-container":"true"},{children:(0,r.jsx)(s.default,{className:P},void 0)}),void 0):null,after:(0,r.jsx)(c.CatalogUserButton,{userId:y.id,action:L,loading:w.includes(y.id),logClickEvent:N},void 0),subtitle:(0,r.jsx)(l.CatalogUserDescription,{friends:A,descriptions:null==T?void 0:T.descriptions},void 0)},{children:[y.first_name," ",y.last_name]}),void 0)}))},766011:(e,t,o)=>{o.d(t,{CatalogUserButton:()=>v});var r=o(785893),a=o(667294),i=o(86894),n=o(827899),s=o(762422),l=o(4130),c=o(675952),d=o(967458),u=o(919653),_=o(740517),g=o(697530);const v=({userId:e,action:t,loading:o,logClickEvent:v})=>{const p=(0,a.useCallback)((r=>{var a,i;if(r.stopPropagation(),r.preventDefault(),!o)switch(t){case s.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:return v(_.SearchClickActionMap.ADD_FRIEND),void(0,u.fireAddFriend)({user_id:e});case s.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:return v(_.SearchClickActionMap.REMOVE_FRIEND),void(0,u.fireDeleteFriend)({user_id:e});case s.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:return v(_.SearchClickActionMap.SEND_MESSAGE),null===(i=null===(a=null===window||void 0===window?void 0:window.reforgedME)||void 0===a?void 0:a.selectPeer)||void 0===i||i.call(a,e,"global_search"),void(0,u.fireSetResultsDisplay)(!1);case s.FRIENDS_BUTTON_ACTIONS.NO_ACTION:return}}),[t,e,v,o]);if(t===s.FRIENDS_BUTTON_ACTIONS.NO_ACTION||e===window.vk.id)return null;let f;switch(t){case s.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:f=(0,r.jsx)(l.default,{},void 0);break;case s.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:f=(0,r.jsx)(c.default,{className:g.default.buttonRemove},void 0);break;case s.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:f=(0,r.jsx)(d.default,{},void 0)}return o&&(f=(0,r.jsx)(i.Spinner,{size:"regular"},void 0)),(0,r.jsx)(n.IconButton,Object.assign({onClick:p},{children:f}),void 0)}},316654:(e,t,o)=>{o.d(t,{CatalogUserButton:()=>r.CatalogUserButton});var r=o(766011)},758396:(e,t,o)=>{o.d(t,{CatalogUserDescription:()=>s});var r=o(785893),a=o(86894),i=o(566224),n=o(762422);const s=({friends:e,descriptions:t})=>{var o;const s=(null===(o=null==t?void 0:t.map((e=>(null==e?void 0:e.text)||"")))||void 0===o?void 0:o.join(` ${n.TEXT_DOT_SYMBOL} `))||"";return e.length?(0,r.jsx)(a.UsersStack,Object.assign({photos:e.map((e=>e.photo_50||"")),size:"xs"},{children:(0,r.jsx)(i.TextClamp,Object.assign({lines:1},{children:s}),void 0)}),void 0):(0,r.jsx)(r.Fragment,{children:s},void 0)}},753445:(e,t,o)=>{o.d(t,{CatalogUserDescription:()=>r.CatalogUserDescription});var r=o(758396)},31189:(e,t,o)=>{o.d(t,{CatalogUser:()=>r.CatalogUser});var r=o(356484)},754494:(e,t,o)=>{o.d(t,{getFriendsButtonState:()=>s,getOnlineStatus:()=>l,getListAvatarSrc:()=>c});var r=o(762422),a=o(917258),i=o(733164),n=o(410351);const s=(e,t=!1,o=!1)=>o?r.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:[n.FRIENDS_STATUS.NOT_FRIEND,n.FRIENDS_STATUS.INCOMING_REQUEST].includes(e)?r.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:t||e!==n.FRIENDS_STATUS.OUTCOMING_REQUEST?r.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:r.FRIENDS_BUTTON_ACTIONS.NO_ACTION,l=e=>{if(e.online_info){const{visible:t,is_online:o,is_mobile:r}=e.online_info;if(t){if(o&&r)return a.AvatarRichStandardBadgeType.ONLINE_MOBILE;if(o)return a.AvatarRichStandardBadgeType.ONLINE}}},c=e=>((0,i.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200},296234:(e,t,o)=>{o.d(t,{GroupItem:()=>E});var r=o(785893),a=o(667294),i=o(842571),n=o(919653),s=o(304319),l=o(278663),c=o(546134),d=o(799549),u=o(728358),_=o(917258),g=o(762422),v=o(733164),p=o(797704),f=o(975197),S=o(578274),m=o(740517),h=o(234057);const E=(0,a.memo)((({id:e,track_code:t,friends:o,description:E,itemIndex:I})=>{var b,C;const O=(0,S.useCollectClick)(),[T,y]=(0,a.useState)(!0),A=(0,i.useStoreMap)({store:n.$groups,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),R=(0,i.useStoreMap)({store:n.$profiles,keys:[o],fn:e=>((null==o?void 0:o.preview)||[]).map((t=>e.get(t))).filter((e=>!!e)).map((({first_name:e="",photo_50:t="",photo_100:o=""})=>({first_name:e,photo_50:t,photo_100:o})))}),w=(0,i.useStoreMap)({store:n.$groupsToLeave,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),k=(0,i.useStoreMap)({store:n.$groupPendingIds,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),x=(0,i.useStore)(n.$selectedItemIndex),j=(0,i.useStore)(n.$isMouseActive),D=e=>{O({track_code:t,type:m.EventItemType.GROUP,action:e})},N=(0,a.useCallback)((e=>{var t,o;if(e.stopPropagation(),e.preventDefault(),(null==A?void 0:A.id)&&!k){if(A.is_member&&A.can_message&&!w)return D(m.SearchClickActionMap.SEND_MESSAGE),null===(o=null===(t=window.reforgedME)||void 0===t?void 0:t.selectPeer)||void 0===o||o.call(t,-A.id,"global_search"),void(0,n.fireSetResultsDisplay)(!1);if(A.is_member&&w)return D(m.SearchClickActionMap.LEAVE_GROUP),void(0,n.fireLeaveGroup)({group_id:A.id});D(m.SearchClickActionMap.JOIN_GROUP),(0,n.fireJoinGroup)({group_id:A.id})}}),[A,w,t,k,O]),L=(0,a.useCallback)(((e,t)=>{!A||e&&!(0,p.isMainClick)(null==e?void 0:e.nativeEvent)||(null==e||e.preventDefault(),null==e||e.stopPropagation(),D(m.SearchClickActionMap.TAP),(0,n.fireAddRecent)({owner_ids:`-${A.id}`}),t?window.open(`/${A.screen_name}?from=quick_search`):((0,n.fireSetResultsDisplay)(!1),(0,h.navGo)(`/${A.screen_name}?from=quick_search`,(null==e?void 0:e.nativeEvent)||null)))}),[A,t,O]);if((0,a.useEffect)((()=>{(0,n.fireSetItemIndex)({id:I||0,callback:L})}),[I,L]),!A)return null;const M=((0,v.isRetina)()?A.photo_100:A.photo_50)||A.photo_100||A.photo_200;return(0,r.jsx)(d.SimpleCell,Object.assign({hovered:(null==x?void 0:x.id)===I,onClick:L,onMouseOut:()=>{(0,n.fireSetSelectionIndexByItem)(-1)},onMouseOver:()=>{(0,n.fireSetSelectionIndexByItem)(I||-1)},hasHover:j||(null==x?void 0:x.id)===I,href:`/${A.screen_name}?from=quick_search`,before:(0,r.jsx)(u.FakeAvatar,Object.assign({size:g.CATALOG_AVATAR_SIZE},{children:(0,r.jsx)(_.AvatarRich,{size:g.CATALOG_AVATAR_SIZE,src:M,outlineType:A.has_unseen_stories?_.AvatarRichOutlineType.STORIES_UNSEEN:void 0,isNFT:!!A.is_nft_photo},void 0)}),void 0),badgeAfterTitle:A.verified?(0,r.jsx)("div",Object.assign({"data-verified-container":"true",onMouseOver:e=>{var t,o;const r=null===(t=e.target)||void 0===t?void 0:t.closest('[data-catalog-item="list"]'),a=null===(o=e.target)||void 0===o?void 0:o.closest('[data-verified-container="true"]'),i=T?g.FIRST_VERIFIED_TOOLTIP_SHIFT:g.VERIFIED_TOOLTIP_SHIFT;(0,f.pageVerifiedTip)(a,{type:1,oid:`-${null==A?void 0:A.id}`,appendEl:r,shift:i}),y(!1)}},{children:(0,r.jsx)(s.default,{},void 0)}),void 0):null,after:(0,r.jsx)(l.GroupItemButton,{click:N,isMember:!!A.is_member,canMessage:!!A.can_message,canLeave:w,loading:k},void 0),subtitle:(0,r.jsx)(c.GroupItemDescription,{isMember:!!A.is_member,profiles:(null===(b=A.friends)||void 0===b?void 0:b.preview_profiles)||R,text:A.members_count_text||"",description:E,governmentOrganization:!!A.is_government_organization,activity:A.activity||"",profilesCount:(null===(C=A.friends)||void 0===C?void 0:C.count)||R.length},void 0)},{children:A.name}),void 0)}))},661102:(e,t,o)=>{o.d(t,{GroupItemButton:()=>d});var r=o(785893),a=o(86894),i=o(827899),n=o(967458),s=o(675952),l=o(269602),c=o(19657);const d=({isMember:e,canLeave:t,canMessage:o,click:d,loading:u})=>{let _=null;return e&&o&&!t&&(_=(0,r.jsx)(n.default,{},void 0)),e&&t&&(_=(0,r.jsx)(s.default,{className:c.default.buttonLeave},void 0)),e||(_=(0,r.jsx)(l.default,{},void 0)),u&&(_=(0,r.jsx)(a.Spinner,{size:"regular"},void 0)),_?(0,r.jsx)(i.IconButton,Object.assign({onClick:d},{children:_}),void 0):null}},278663:(e,t,o)=>{o.d(t,{GroupItemButton:()=>r.GroupItemButton});var r=o(661102)},531573:(e,t,o)=>{o.d(t,{GroupItemDescription:()=>d});var r=o(785893),a=o(86894),i=o(251009),n=o(566224),s=o(70162),l=o(762422),c=o(64279);const d=({isMember:e,profilesCount:t,profiles:o,text:d,activity:u,description:_,governmentOrganization:g})=>{let v="";const[p]=o,[f,S]=o.map((e=>e.first_name)),m=o.slice(0,l.MAX_FRIENDS_IN_GROUP_TO_SHOW),h=s.getLang("search_search_friends_in_group_and"),E=s.getLang("search_search_friends_in_group","raw");switch(t){case l.FRIENDS_IN_GROUP.NO_ONE:v="";break;case l.FRIENDS_IN_GROUP.ONE:v=p.first_name||"";break;case l.FRIENDS_IN_GROUP.TWO:v=(0,s.langReplace)(h,{first_user:f,second_user:S});break;default:v=(0,s.langNumeric)(t,E)}const I=_||(u?`${u}, ${d}`:d),b=g?(0,r.jsxs)("div",Object.assign({className:c.default.government},{children:[(0,r.jsx)(i.default,{className:c.default.governmentIcon},void 0),(0,r.jsx)("span",{children:s.getLang("search_search_government_label")},void 0)]}),void 0):null;return e||!m.length?(0,r.jsxs)(r.Fragment,{children:[b,I]},void 0):(0,r.jsxs)(r.Fragment,{children:[b,(0,r.jsx)(a.UsersStack,Object.assign({className:c.default.userStack,photos:m.map((e=>e.photo_50||"")),size:"xs"},{children:(0,r.jsxs)(n.TextClamp,Object.assign({lines:1},{children:[v," · ",d]}),void 0)}),void 0)]},void 0)}},546134:(e,t,o)=>{o.d(t,{GroupItemDescription:()=>r.GroupItemDescription});var r=o(531573)},980142:(e,t,o)=>{o.d(t,{GroupItem:()=>r.GroupItem});var r=o(296234)},752890:(e,t,o)=>{o.d(t,{HeaderCompact:()=>c});var r=o(570655),a=o(785893),i=o(667294),n=o(86894),s=o(488526),l=o(557131);const c=e=>{var{actions:t,layout:o}=e,c=(0,r.__rest)(e,["actions","layout"]);return(0,a.jsx)(n.Header,Object.assign({className:l.default.root,mode:"primary",aside:null==t?void 0:t.map(((e,t)=>{const r=(0,s.getAction)(e);return(0,i.createElement)(r,Object.assign({},c,{key:e.track_code||t,action:e,layout:o.name}))}))},{children:o.title}),void 0)}},760437:(e,t,o)=>{o.d(t,{ClearRecentGroups:()=>d});var r=o(785893),a=o(86894),i=o(733024),n=o(919653),s=o(740517),l=o(578274),c=o(308378);const d=({action:e})=>{const t=(0,l.useCollectClick)();return(0,r.jsx)(a.IconButton,Object.assign({className:c.default.button,onClick:()=>{t({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.REMOVE_RECENT}),(0,n.fireRemoveBlocks)(e.target_block_ids||[]),(0,n.fireClearRecent)({})}},{children:(0,r.jsx)(i.default,{className:c.default.icon},void 0)}),void 0)}},834815:(e,t,o)=>{o.d(t,{ClearRecentGroups:()=>r.ClearRecentGroups});var r=o(760437)},472109:(e,t,o)=>{o.d(t,{HeaderCompact:()=>r.HeaderCompact});var r=o(752890)},488526:(e,t,o)=>{o.d(t,{getAction:()=>i});var r=o(834815),a=o(762422);const i=e=>{var t;return(null===(t=e.action)||void 0===t?void 0:t.type)===a.CatalogActionType.CLEAR_RECENT_GROUPS?r.ClearRecentGroups:()=>null}},131828:(e,t,o)=>{o.d(t,{Link:()=>p});var r=o(785893),a=o(842571),i=o(86894),n=o(304319),s=o(917258),l=o(919653),c=o(762422),d=o(740517),u=o(578274),_=o(234057),g=o(797704),v=o(989780);const p=({id:e})=>{var t,o,p,f,S,m;const h=(0,u.useCollectClick)(),E=(0,a.useStoreMap)({store:l.$links,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),I=null===(t=null==E?void 0:E.meta)||void 0===t?void 0:t.track_code;if(!E)return null;const b=(()=>{var e;const t=new URL((null==E?void 0:E.url)||"");return"mini_app"===(null===(e=null==E?void 0:E.meta)||void 0===e?void 0:e.content_type)?t.pathname+"?ref=quick_search_recent":t.pathname})(),C="verified"===(null===(o=null==E?void 0:E.meta)||void 0===o?void 0:o.icon)?(0,r.jsx)("div",Object.assign({className:v.default.iconVerified},{children:(0,r.jsx)(n.default,{},void 0)}),void 0):void 0,O="mini_app"!==(null===(p=null==E?void 0:E.meta)||void 0===p?void 0:p.content_type)?(0,r.jsx)(s.AvatarRich,{size:c.SLIDER_AVATAR_SIZE,src:(null===(f=null==E?void 0:E.image)||void 0===f?void 0:f.length)?E.image[0].url:"",badge:C,isNFT:!!(null==E?void 0:E.is_nft)},void 0):(0,r.jsx)(i.Avatar,{mode:"mini_app"===(null===(S=null==E?void 0:E.meta)||void 0===S?void 0:S.content_type)?"app":"default",size:c.SLIDER_AVATAR_SIZE,badge:C,src:(null===(m=null==E?void 0:E.image)||void 0===m?void 0:m.length)?E.image[0].url:""},void 0);return(0,r.jsx)(i.HorizontalCell,Object.assign({size:"s",header:(0,r.jsx)("span",Object.assign({className:v.default.title},{children:E.title}),void 0),href:b,onClick:e=>{!b||e&&!(0,g.isMainClick)(null==e?void 0:e.nativeEvent)||(null==e||e.preventDefault(),null==e||e.stopPropagation(),h({track_code:I,type:d.EventItemType.LINK,action:d.SearchClickActionMap.TAP}),(0,_.navGo)(b,(null==e?void 0:e.nativeEvent)||null))}},{children:O}),void 0)}},853461:(e,t,o)=>{o.d(t,{Link:()=>r.Link});var r=o(131828)},353571:(e,t,o)=>{o.d(t,{List:()=>l});var r=o(785893),a=o(667294),i=o(86894),n=o(713091),s=o(23684);const l=e=>{const t=(0,a.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),o=(0,n.getBlockByDataType)(e);return(0,r.jsx)(i.Group,Object.assign({mode:"plain",separator:"hide",padding:"s",className:s.default.list,"data-catalog-item":"list"},{children:t.map(((t,r)=>(0,a.createElement)(o,Object.assign({},t,{key:t.id,layout:e.layout.name,block_id:e.id,itemIndex:(e.blockIndex||0)+r}))))}),void 0)}},866429:(e,t,o)=>{o.d(t,{List:()=>r.List});var r=o(353571)},713091:(e,t,o)=>{o.d(t,{extractItemsIds:()=>s,getBlockByDataType:()=>l});var r=o(762422),a=o(980142),i=o(31189),n=o(992265);const s=e=>{var t,o,a;switch(e.data_type){case r.CatalogBlockDataType.GROUPS:return(null===(t=e.group_ids)||void 0===t?void 0:t.map((e=>({id:e}))))||[];case r.CatalogBlockDataType.GROUPS_ITEMS:return e.group_items||[];case r.CatalogBlockDataType.CATALOG_USERS:return(null===(o=e.catalog_users_ids)||void 0===o?void 0:o.map((e=>({id:e}))))||[];case r.CatalogBlockDataType.MINI_APPS:return(null===(a=e.mini_app_ids)||void 0===a?void 0:a.map((e=>({id:+e}))))||[];default:return[]}},l=e=>{switch(e.data_type){case r.CatalogBlockDataType.GROUPS:case r.CatalogBlockDataType.GROUPS_ITEMS:return a.GroupItem;case r.CatalogBlockDataType.CATALOG_USERS:return i.CatalogUser;case r.CatalogBlockDataType.MINI_APPS:return n.MiniApp;default:return()=>null}}},476293:(e,t,o)=>{o.d(t,{MiniApp:()=>f});var r=o(785893),a=o(667294),i=o(842571),n=o(919653),s=o(86894),l=o(827899),c=o(799549),d=o(358173),u=o(762422),_=o(797704),g=o(578274),v=o(740517),p=o(234057);const f=({id:e,itemIndex:t})=>{const o=(0,g.useCollectClick)(),f=(0,i.useStoreMap)({store:n.$miniApps,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),S=(0,i.useStore)(n.$selectedItemIndex),m=(0,i.useStore)(n.$isMouseActive),h=(0,a.useCallback)(((e,t)=>{!f||e&&!(0,_.isMainClick)(null==e?void 0:e.nativeEvent)||(null==e||e.preventDefault(),null==e||e.stopPropagation(),o({type:v.EventItemType.MINI_APP,track_code:f.track_code,action:v.SearchClickActionMap.TAP}),(0,n.fireAddRecent)({owner_ids:`${f.id}`}),t?window.open(`/${f.screen_name}?ref=quick_search`):((0,n.fireSetResultsDisplay)(!1),(0,p.navGo)(`/${f.screen_name}?ref=quick_search`,(null==e?void 0:e.nativeEvent)||null)))}),[f,o]);return(0,a.useEffect)((()=>{(0,n.fireSetItemIndex)({id:t||0,callback:h})}),[t,h]),f?(0,r.jsx)(c.SimpleCell,Object.assign({hovered:(null==S?void 0:S.id)===t,onClick:h,onMouseOut:()=>{(0,n.fireSetSelectionIndexByItem)(-1)},onMouseOver:()=>{(0,n.fireSetSelectionIndexByItem)(t||-1)},hasHover:m||(null==S?void 0:S.id)===t,href:`/${f.screen_name}?ref=quick_search`,before:(0,r.jsx)(s.Avatar,{mode:"app",size:u.CATALOG_AVATAR_SIZE,src:f.icon_139?f.icon_139:f.icon_150},void 0),after:(0,r.jsx)(l.IconButton,{children:(0,r.jsx)(d.default,{},void 0)},void 0),subtitle:f.description},{children:f.title}),void 0):null}},992265:(e,t,o)=>{o.d(t,{MiniApp:()=>r.MiniApp});var r=o(476293)},203195:(e,t,o)=>{o.d(t,{PlaceholderSmall:()=>l});var r=o(785893),a=o(86894),i=o(70162),n=o(842571),s=o(919653);const l=({placeholder_ids:e})=>{const t=(0,n.useStore)(s.$placeholders);return(0,r.jsx)(r.Fragment,{children:null==e?void 0:e.map((e=>{const o=t.find((t=>t.id===e));return o?(0,r.jsx)(a.Placeholder,{children:o.text?o.text:i.getLang("search_search_no_found_summary")},e):null}))},void 0)}},668650:(e,t,o)=>{o.d(t,{PlaceholderSmall:()=>r.PlaceholderSmall});var r=o(203195)},81599:(e,t,o)=>{o.d(t,{Slider:()=>c});var r=o(785893),a=o(667294),i=o(86894),n=o(526154),s=o(762422),l=o(291121);const c=e=>{const t=(0,a.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),o=(0,n.getBlockByDataType)(e);return(0,r.jsx)(i.HorizontalScroll,Object.assign({className:l.default.root,getScrollToLeft:e=>e-s.SLIDER_SCROLL,getScrollToRight:e=>e+s.SLIDER_SCROLL,arrowSize:"m"},{children:(0,r.jsx)("div",Object.assign({className:l.default.inner},{children:t.map((t=>(0,r.jsx)(o,Object.assign({},t,{layout:e.layout.name}),t.id)))}),void 0)}),void 0)}},522207:(e,t,o)=>{o.d(t,{Slider:()=>r.Slider});var r=o(81599)},526154:(e,t,o)=>{o.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var r=o(762422),a=o(853461);const i=e=>{var t;return e.data_type===r.CatalogBlockDataType.LINKS&&(null===(t=e.links_ids)||void 0===t?void 0:t.map((e=>({id:e}))))||[]},n=e=>e.data_type===r.CatalogBlockDataType.LINKS?a.Link:()=>null},635630:(e,t,o)=>{o.d(t,{getBlockByLayout:()=>d});var r=o(762422),a=o(472109),i=o(866429),n=o(522207),s=o(86894),l=o(668650),c=o(805315);const d=e=>{switch(e.layout.name){case r.CatalogBlockLayoutName.SEPARATOR:return s.Separator;case r.CatalogBlockLayoutName.HEADER_COMPACT:return a.HeaderCompact;case r.CatalogBlockLayoutName.LIST:return i.List;case r.CatalogBlockLayoutName.SLIDER:return n.Slider;case r.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return l.PlaceholderSmall;case r.CatalogBlockLayoutName.BUTTON:return c.Button;default:return()=>null}}},84663:(e,t,o)=>{o.d(t,{App:()=>S});var r=o(785893),a=o(667294),i=o(842571),n=o(512168),s=o(222333),l=o(919653),c=o(152278),d=o(797704),u=o(289406),_=o(234057),g=o(214547),v=o(578274),p=o(762422),f=o(769353);const S=()=>{const e=(0,i.useStore)(l.$displayResults),t=(0,i.useStore)(l.$currentQuery),o=(0,i.useStore)(l.$selectedItemIndex),S=(0,a.useRef)(null),m=(0,a.useRef)(),h=(0,a.useCallback)((()=>{var t;e||null===(t=S.current)||void 0===t||t.focus()}),[S,e]),E=(0,a.useCallback)((r=>{switch(r.keyCode){case c.KEY.DOWN:(0,c.cancelEvent)(r.nativeEvent),(0,l.fireDownSelectionIndex)();break;case c.KEY.UP:(0,c.cancelEvent)(r.nativeEvent),(0,l.fireUpSelectionIndex)();break;case c.KEY.ENTER:if((0,c.cancelEvent)(r.nativeEvent),clearTimeout(m.current),r.ctrlKey||r.metaKey){if(null==o?void 0:o.callback)return void o.callback(void 0,!0);if(t)return void window.open(`/search?c[section]=auto&c[q]=${encodeURIComponent(t)}`)}return(null==o?void 0:o.callback)?(o.callback(),(0,l.fireSetCatalog)(null),void(0,l.fireAbortRequest)()):void(t&&((0,l.fireSetCurrentQuery)(""),(0,l.fireSetResultsDisplay)(!1),(0,l.fireSetCatalog)(null),(0,l.fireAbortRequest)(),setTimeout((()=>{var e;null===(e=S.current)||void 0===e||e.blur()}),p.SEARCH_INPUT_BLUR_TIMEOUT),(0,_.navGo)("/search?c[section]=auto&c[q]="+encodeURIComponent(t),null)));case c.KEY.TAB:return clearTimeout(m.current),(0,l.fireSetCurrentQuery)(""),void(0,l.fireSetResultsDisplay)(!1)}e||(0,l.fireSetResultsDisplay)(!0)}),[t,o,S,m,e]),I=(0,a.useCallback)((e=>{const t=e.currentTarget.value||"";(0,l.fireSetCurrentQuery)(t),clearTimeout(m.current),m.current=setTimeout((()=>{(0,l.fireSearch)({q:t})}),250)}),[m]);return(0,a.useEffect)((()=>{const e=e=>{const t=e.target;t.closest('[data-search-top-target="true"]')||t.closest(`#${p.SEARCH_INPUT_ID}`)||!(0,d.isMainClick)(e)||(0,l.fireSetResultsDisplay)(!1)};return(0,u.topHeaderListener)(),document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),(0,a.useEffect)((()=>()=>clearTimeout(m.current)),[]),(0,a.useEffect)((()=>{const e=(0,_.subscribeModuleEvaluated)((()=>{t&&(0,l.fireSetCatalog)(null),(0,l.fireAbortRequest)(),(0,l.fireSetCurrentQuery)(""),(0,l.fireSetResultsDisplay)(!1)}));return()=>{e()}}),[t]),(0,r.jsx)(v.CatalogLogProvider,Object.assign({collectClick:g.searchStatsCollector.logEvent},{children:(0,r.jsxs)("div",Object.assign({className:f.default.app,id:"ts_wrap"},{children:[(0,r.jsx)(n.SearchInput,{onClick:h,onFocus:()=>{e||(0,l.fireSetResultsDisplay)(!0)},onInput:I,onKeyDown:E,inputRef:S,searchQuery:t},void 0),e&&(0,r.jsx)(s.SearchResults,{},void 0)]}),void 0)}),void 0)}},388636:(e,t,o)=>{o.d(t,{App:()=>r.App});var r=o(84663)},144854:(e,t,o)=>{o.d(t,{Placeholder:()=>n});var r=o(785893),a=o(86894),i=o(70162);const n=()=>(0,r.jsx)(a.Placeholder,{children:i.getLang("search_search_top_has_no_results")},void 0)},850298:(e,t,o)=>{o.d(t,{Placeholder:()=>r.Placeholder});var r=o(144854)},699662:(e,t,o)=>{o.d(t,{SearchInput:()=>c});var r=o(785893),a=o(667294),i=o(960837),n=o(70162),s=o(762422),l=o(476892);const c=({onClick:e,onFocus:t,onBlur:o,onInput:c,onKeyDown:d,inputRef:u,searchQuery:_=""})=>{const[g,v]=(0,a.useState)("");return(0,a.useEffect)((()=>{v(_)}),[_]),(0,r.jsxs)("div",Object.assign({className:l.default.root},{children:[(0,r.jsx)("div",Object.assign({className:l.default.icon},{children:(0,r.jsx)(i.default,{},void 0)}),void 0),(0,r.jsx)("input",{type:"search",autoComplete:"off",id:s.SEARCH_INPUT_ID,className:l.default.input,placeholder:n.getLang("global_search"),onClick:t=>{null==e||e(t)},onFocus:e=>{null==t||t(e)},onBlur:e=>{null==o||o(e)},onInput:e=>{const t=e.currentTarget.value||"";v(t),null==c||c(e)},onKeyDown:e=>{null==d||d(e)},ref:u,value:g},void 0)]}),void 0)}},512168:(e,t,o)=>{o.d(t,{SearchInput:()=>r.SearchInput});var r=o(699662)},933615:(e,t,o)=>{o.d(t,{SearchResults:()=>g});var r=o(785893),a=o(667294),i=o(842571),n=o(266550),s=o(166610),l=o(919653),c=o(850298),d=o(659397),u=o(506770),_=o(263758);const g=()=>{const e=(0,i.useStore)(l.$catalog),t=(0,i.useStore)(l.$pending),o=(0,i.useStore)(l.$fetchError);return(0,a.useEffect)((()=>{e||t||(0,l.fireSearch)({q:""})}),[]),o?(0,r.jsx)("div",Object.assign({className:_.default.root},{children:(0,r.jsx)(c.Placeholder,{},void 0)}),void 0):(0,r.jsx)("div",Object.assign({className:(0,d.classNames)(_.default.root,(0,u.partConfigEnabled)("search_search_top_recommendation_v2_enabled")&&_.default.wide),"data-search-top-target":"true"},{children:t?(0,r.jsx)(s.Spinner,{},void 0):(0,r.jsx)(n.Catalog,{catalog:e},void 0)}),void 0)}},222333:(e,t,o)=>{o.d(t,{SearchResults:()=>r.SearchResults});var r=o(933615)},615554:(e,t,o)=>{o.d(t,{Spinner:()=>n});var r=o(785893),a=o(86894),i=o(126298);const n=()=>(0,r.jsx)("div",Object.assign({className:i.default.spinner},{children:(0,r.jsx)(a.Spinner,{size:"small"},void 0)}),void 0)},166610:(e,t,o)=>{o.d(t,{Spinner:()=>r.Spinner});var r=o(615554)},762422:(e,t,o)=>{o.d(t,{CATALOG_API_METHODS:()=>r,CatalogBlockLayoutName:()=>a,CatalogBlockDataType:()=>i,CatalogActionType:()=>n,ONLINE_STATUS:()=>s,FRIENDS_BUTTON_ACTIONS:()=>l,TEXT_DOT_SYMBOL:()=>c,SEARCH_INPUT_ID:()=>d,FIRST_VERIFIED_TOOLTIP_SHIFT:()=>u,VERIFIED_TOOLTIP_SHIFT:()=>_,CATALOG_AVATAR_SIZE:()=>g,FRIENDS_IN_GROUP:()=>v,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>p,SEARCH_INPUT_BLUR_TIMEOUT:()=>f,SLIDER_SCROLL:()=>S,SLIDER_AVATAR_SIZE:()=>m});const r={GET_SEARCH_TOP:"catalog.getSearchTop",GET_SECTION:"catalog.getSection",GET_STORIES:"stories.get",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete",ADD_RECENT:"search.addRecents",CLEAR_RECENT:"search.clearRecents"},a={HEADER_COMPACT:"header_compact",SEPARATOR:"separator",LIST:"list",SLIDER:"slider",PLACEHOLDER_SMALL:"placeholder_small",BUTTON:"button"},i={GROUPS:"groups",GROUPS_ITEMS:"groups_items",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps",LINKS:"links"},n={OPEN_URL:"open_url",CLEAR_RECENT_GROUPS:"clear_recent_groups"},s={ONLINE:"online",MOBILE:"online-mobile"},l={ADD_FRIEND:"ADD_FRIEND",REMOVE_FRIEND:"REMOVE_FRIEND",SEND_MESSAGE:"SEND_MESSAGE",NO_ACTION:"NO_ACTION"},c="&#183;",d="SearchTopInput",u=[96,20,5],_=[96,3,3],g=40,v={NO_ONE:0,ONE:1,TWO:2},p=2,f=150,S=120,m=56},578274:(e,t,o)=>{o.d(t,{useCollectClick:()=>n,CatalogLogProvider:()=>s});var r=o(785893),a=o(667294);const i=(0,a.createContext)({collectClick:()=>{}}),n=()=>(0,a.useContext)(i).collectClick,s=({collectClick:e=(()=>{}),children:t})=>{const o=(0,a.useMemo)((()=>({collectClick:e})),[e]);return(0,r.jsx)(i.Provider,Object.assign({value:o},{children:t}),void 0)}},232824:(e,t,o)=>{o.d(t,{appDomain:()=>r,$currentQuery:()=>a,fireSetCurrentQuery:()=>i,fireClearApp:()=>n});const r=(0,o(210929).createDomain)("SEARCH_TOP/APP"),a=r.createStore("",{name:"currentQuery"}),i=r.createEvent("fire/SetCurrentQuery"),n=r.createEvent("fire/ClearApp")},687772:(e,t,o)=>{var r=o(210929),a=o(919653);a.appDomain.onCreateStore((e=>{e.reset(a.fireClearApp)})),(0,r.sample)({clock:a.fireSetCurrentQuery,target:a.$currentQuery}),(0,r.sample)({clock:a.fireSendRequest,target:[a.fireResetSelectionIndex,a.fireResetItemsIndex]}),(0,r.sample)({clock:a.fireSetResultsDisplay,target:[a.fireResetSelectionIndex]}),(0,r.sample)({clock:a.fireSendRequest,fn:()=>null,target:a.fireSetCatalog}),(0,r.sample)({clock:a.SearchTopEffectFx.doneData,fn:({request:e})=>e,target:a.fireSetCatalog}),(0,r.sample)({clock:a.fireSetCatalog,fn:e=>(null==e?void 0:e.catalog)||null,target:a.$catalog}),(0,r.sample)({clock:a.fireSetCatalog,fn:e=>{if(!e)return null;const t=Object.assign({},e);return delete t.catalog,t||null},target:a.$extendedData})},660528:(e,t,o)=>{o.d(t,{fireSetCatalog:()=>a,fireRemoveBlocks:()=>i,$catalog:()=>n,$extendedData:()=>s});const r=o(232824).appDomain.createDomain("SEARCH_TOP/CATALOG"),a=r.createEvent("fire/SetCatalog"),i=r.createEvent("fire/RemoveBlock"),n=r.createStore(null,{name:"catalog"}),s=r.createStore(null,{name:"extendedData"})},509645:(e,t,o)=>{var r=o(210929),a=o(919653);(0,r.sample)({clock:a.fireRemoveBlocks,source:a.$catalog,fn:(e,t)=>{var o,r;if(!(null==e?void 0:e.sections))return e;const a=e.sections.findIndex((t=>t.id===e.default_section));if(-1!==a&&(null===(o=null==e?void 0:e.sections)||void 0===o?void 0:o.length)){const o=[...e.sections],i=Object.assign({},o[a]);return i.blocks=null===(r=null==i?void 0:i.blocks)||void 0===r?void 0:r.filter((e=>!t.includes(e.id))),o[a]=i,Object.assign(Object.assign({},e),{sections:[...o]})}return e},target:a.$catalog})},434941:(e,t,o)=>{o.d(t,{fireAddFriend:()=>s,fireDeleteFriend:()=>l,fireAllowDeleteFriend:()=>c,$catalogUsers:()=>d,$friendsToDelete:()=>u,$friendsPendingIds:()=>_,AddFriendEffectFx:()=>g,DeleteFriendEffectFx:()=>v});var r=o(570655),a=o(919653),i=o(726562);const n=a.appDomain.createDomain("SEARCH_TOP/CATALOG_USERS"),s=n.createEvent("fire/AddFriend"),l=n.createEvent("fire/DeleteFriend"),c=(n.createEvent("fire/CheckStories"),n.createEvent("fire/AllowDeleteFriend")),d=n.createStore([],{name:"catalogUsers"}),u=n.createStore([],{name:"friendsToDelete"}),_=n.createStore([],{name:"friendsPendingIds"}),g=n.createEffect({name:"fetch/AddFriend",handler:({user_id:e})=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){return(0,i.addFriend)({user_id:e})}))}),v=n.createEffect({name:"fetch/DeleteFriend",handler:({user_id:e})=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){return(0,i.deleteFriend)({user_id:e})}))})},670027:(e,t,o)=>{var r=o(210929),a=o(919653),i=o(410351);(0,r.sample)({clock:a.$extendedData,source:a.$catalogUsers,filter:(e,t)=>{var o;return!!(null===(o=null==t?void 0:t.catalog_users)||void 0===o?void 0:o.length)},fn:(e,t)=>{var o;if(null===(o=null==t?void 0:t.catalog_users)||void 0===o?void 0:o.length){const o=t.catalog_users.filter((t=>-1===e.findIndex((e=>e.item_id===t.item_id))));return[...e,...o]}return e},target:a.$catalogUsers}),(0,r.sample)({clock:[a.fireAddFriend,a.fireDeleteFriend],source:a.$friendsPendingIds,filter:(e,t)=>!(!t.user_id||e.includes(t.user_id)),fn:(e,t)=>t.user_id&&!e.includes(t.user_id)?[...e,t.user_id]:e,target:a.$friendsPendingIds}),(0,r.sample)({clock:[a.AddFriendEffectFx.finally,a.DeleteFriendEffectFx.finally],source:a.$friendsPendingIds,filter:(e,{params:t})=>!!t.user_id,fn:(e,{params:t})=>t.user_id?e.filter((e=>e!==t.user_id)):e,target:a.$friendsPendingIds}),(0,r.sample)({clock:a.fireAddFriend,target:a.AddFriendEffectFx}),(0,r.sample)({clock:a.AddFriendEffectFx.done,source:a.$profiles,filter:(e,{params:t,result:o})=>!(!t.user_id||!o),fn:(e,{params:t,result:o})=>{if(void 0===t.user_id)return e;const r=new Map([...e]),a=r.get(t.user_id);if(a)switch(o){case i.FRIENDS_STATUS_REQUEST.REQUEST:a.friend_status=i.FRIENDS_STATUS.OUTCOMING_REQUEST;break;case i.FRIENDS_STATUS_REQUEST.ADDED:a.friend_status=i.FRIENDS_STATUS.IS_FRIENDS;break;case i.FRIENDS_STATUS_REQUEST.REPEAT:a.friend_status=i.FRIENDS_STATUS.OUTCOMING_REQUEST}return r},target:a.$profiles}),(0,r.sample)({clock:a.AddFriendEffectFx.done,fn:({params:e})=>e,target:a.fireAllowDeleteFriend}),(0,r.sample)({clock:a.fireDeleteFriend,target:a.DeleteFriendEffectFx}),(0,r.sample)({clock:a.DeleteFriendEffectFx.done,source:a.$profiles,filter:(e,{params:t,result:o})=>!(!t.user_id||!o.success),fn:(e,{params:t})=>{if(void 0===t.user_id)return e;const o=new Map([...e]),r=o.get(t.user_id);return r&&(r.friend_status=i.FRIENDS_STATUS.NOT_FRIEND),o},target:a.$profiles}),(0,r.sample)({clock:a.fireAllowDeleteFriend,source:a.$friendsToDelete,fn:(e,t)=>t.user_id?[...e,t.user_id]:e,target:a.$friendsToDelete}),(0,r.sample)({clock:a.fireDeleteFriend,source:a.$friendsToDelete,fn:(e,t)=>t.user_id?e.filter((e=>e!==t.user_id)):e,target:a.$friendsToDelete})},220564:(e,t,o)=>{o.d(t,{fireJoinGroup:()=>s,fireLeaveGroup:()=>l,fireAllowLeaveGroup:()=>c,$groups:()=>d,$groupsToLeave:()=>u,$groupPendingIds:()=>_,JoinGroupEffectFx:()=>g,LeaveGroupEffectFx:()=>v});var r=o(570655),a=o(232824),i=o(726562);const n=a.appDomain.createDomain("SEARCH_TOP/GROUPS"),s=n.createEvent("fire/JoinGroup"),l=n.createEvent("fire/LeaveGroup"),c=(n.createEvent("fire/CheckStories"),n.createEvent("fire/AllowLeaveGroup")),d=n.createStore([],{name:"groups"}),u=n.createStore([],{name:"groupsToLeave"}),_=n.createStore([],{name:"groupPendingIds"}),g=n.createEffect({name:"fetch/JoinGroup",handler:({group_id:e})=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){return(0,i.joinGroup)({group_id:e})}))}),v=n.createEffect({name:"fetch/LeaveGroup",handler:({group_id:e})=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){return(0,i.leaveGroup)({group_id:e})}))})},209841:(e,t,o)=>{var r=o(210929),a=o(919653);(0,r.sample)({clock:a.$extendedData,source:a.$groups,filter:(e,t)=>{var o;return!!(null===(o=null==t?void 0:t.groups)||void 0===o?void 0:o.length)},fn:(e,t)=>{var o;if(null===(o=null==t?void 0:t.groups)||void 0===o?void 0:o.length){const o=t.groups.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...o]}return e},target:a.$groups}),(0,r.sample)({clock:[a.fireJoinGroup,a.fireLeaveGroup],source:a.$groupPendingIds,filter:(e,t)=>!!t.group_id&&!e.includes(t.group_id),fn:(e,t)=>t.group_id?[...e,t.group_id]:e,target:a.$groupPendingIds}),(0,r.sample)({clock:[a.JoinGroupEffectFx.finally,a.LeaveGroupEffectFx.finally],source:a.$groupPendingIds,filter:(e,{params:t})=>!!t.group_id,fn:(e,{params:t})=>t.group_id?e.filter((e=>e!==t.group_id)):e,target:a.$groupPendingIds}),(0,r.sample)({clock:a.fireJoinGroup,target:a.JoinGroupEffectFx}),(0,r.sample)({clock:a.JoinGroupEffectFx.done,source:a.$groups,filter:(e,{params:t,result:o})=>!(!t.group_id||1!==o),fn:(e,{params:t,result:o})=>{const r=[...e],a=e.findIndex((e=>e.id===t.group_id));return r[a]&&(r[a].is_member=o),r},target:a.$groups}),(0,r.sample)({clock:a.JoinGroupEffectFx.done,fn:({params:e})=>e,target:a.fireAllowLeaveGroup}),(0,r.sample)({clock:a.fireLeaveGroup,target:a.LeaveGroupEffectFx}),(0,r.sample)({clock:a.LeaveGroupEffectFx.done,source:a.$groups,filter:(e,{params:t,result:o})=>!(!t.group_id||1!==o),fn:(e,{params:t})=>{const o=[...e],r=e.findIndex((e=>e.id===t.group_id));return o[r]&&(o[r].is_member=0),o},target:a.$groups}),(0,r.sample)({clock:a.fireAllowLeaveGroup,source:a.$groupsToLeave,filter:(e,t)=>!!t.group_id,fn:(e,t)=>t.group_id?[...e,t.group_id]:e,target:a.$groupsToLeave}),(0,r.sample)({clock:a.fireLeaveGroup,source:a.$groupsToLeave,filter:(e,t)=>!!t.group_id,fn:(e,t)=>t.group_id?e.filter((e=>e!==(null==t?void 0:t.group_id))):e,target:a.$groupsToLeave})},919653:(e,t,o)=>{o.d(t,{$currentQuery:()=>r.$currentQuery,appDomain:()=>r.appDomain,fireClearApp:()=>r.fireClearApp,fireSetCurrentQuery:()=>r.fireSetCurrentQuery,$displayResults:()=>a.$displayResults,CancelStackFilterFx:()=>a.CancelStackFilterFx,CancelStackPushFx:()=>a.CancelStackPushFx,fireCancelStackPush:()=>a.fireCancelStackPush,fireSetResultsDisplay:()=>a.fireSetResultsDisplay,$fetchError:()=>i.$fetchError,$pending:()=>i.$pending,$requestsQueue:()=>i.$requestsQueue,AbortEffectFx:()=>i.AbortEffectFx,SearchTopEffectFx:()=>i.SearchTopEffectFx,fireAbortRequest:()=>i.fireAbortRequest,fireCreateRequest:()=>i.fireCreateRequest,fireRemoveRequestFromQueue:()=>i.fireRemoveRequestFromQueue,fireSearch:()=>i.fireSearch,fireSendRequest:()=>i.fireSendRequest,fireSetRequestToQueue:()=>i.fireSetRequestToQueue,fireSetUpRequest:()=>i.fireSetUpRequest,$catalog:()=>n.$catalog,$extendedData:()=>n.$extendedData,fireRemoveBlocks:()=>n.fireRemoveBlocks,fireSetCatalog:()=>n.fireSetCatalog,$placeholders:()=>s.$placeholders,$miniApps:()=>l.$miniApps,AddRecentEffectFx:()=>c.AddRecentEffectFx,ClearRecentEffectFx:()=>c.ClearRecentEffectFx,fireAddRecent:()=>c.fireAddRecent,fireClearRecent:()=>c.fireClearRecent,$groupPendingIds:()=>d.$groupPendingIds,$groups:()=>d.$groups,$groupsToLeave:()=>d.$groupsToLeave,JoinGroupEffectFx:()=>d.JoinGroupEffectFx,LeaveGroupEffectFx:()=>d.LeaveGroupEffectFx,fireAllowLeaveGroup:()=>d.fireAllowLeaveGroup,fireJoinGroup:()=>d.fireJoinGroup,fireLeaveGroup:()=>d.fireLeaveGroup,$catalogUsers:()=>u.$catalogUsers,$friendsPendingIds:()=>u.$friendsPendingIds,$friendsToDelete:()=>u.$friendsToDelete,AddFriendEffectFx:()=>u.AddFriendEffectFx,DeleteFriendEffectFx:()=>u.DeleteFriendEffectFx,fireAddFriend:()=>u.fireAddFriend,fireAllowDeleteFriend:()=>u.fireAllowDeleteFriend,fireDeleteFriend:()=>u.fireDeleteFriend,$profiles:()=>_.$profiles,$isMouseActive:()=>g.$isMouseActive,$itemsIndex:()=>g.$itemsIndex,$selectedIndex:()=>g.$selectedIndex,$selectedItemIndex:()=>g.$selectedItemIndex,fireDownSelectionIndex:()=>g.fireDownSelectionIndex,fireResetItemsIndex:()=>g.fireResetItemsIndex,fireResetSelectionIndex:()=>g.fireResetSelectionIndex,fireSetItemIndex:()=>g.fireSetItemIndex,fireSetSelectionIndexByItem:()=>g.fireSetSelectionIndexByItem,fireUpSelectionIndex:()=>g.fireUpSelectionIndex,$links:()=>v.$links});var r=o(232824),a=o(822952),i=o(213061),n=o(660528),s=o(905578),l=o(145392),c=o(205437),d=o(220564),u=o(434941),_=o(668385),g=o(753698),v=o(556091)},662632:(e,t,o)=>{o(687772),o(174821),o(419875),o(509645),o(926985),o(892724),o(423781),o(209841),o(670027),o(774300),o(954434),o(46242)},753698:(e,t,o)=>{o.d(t,{$isMouseActive:()=>i,$selectedIndex:()=>n,$itemsIndex:()=>s,$selectedItemIndex:()=>l,fireSetSelectionIndexByItem:()=>c,fireUpSelectionIndex:()=>d,fireDownSelectionIndex:()=>u,fireSetItemIndex:()=>_,fireResetSelectionIndex:()=>g,fireResetItemsIndex:()=>v});var r=o(210929);const a=o(232824).appDomain.createDomain("SEARCH_TOP/MODAL"),i=a.createStore(!0,{name:"isMouseActive"}),n=a.createStore(-1,{name:"selectedIndex"}),s=a.createStore([],{name:"maxItemsIndex"}),l=(0,r.combine)(n,s,((e,t)=>{var o;return t[e]||0===(null===(o=null==t?void 0:t[e])||void 0===o?void 0:o.id)?t[e]:null})),c=a.createEvent("fire/SetSelectionIndexByItem"),d=a.createEvent("fire/UpSelectionIndex"),u=a.createEvent("fire/DownSelectionIndex"),_=a.createEvent("fire/SetItemIndex"),g=(a.createEvent("fire/SetItemIndex"),a.createEvent("fire/ResetSelectionIndex")),v=a.createEvent("fire/ResetItemsIndex")},954434:(e,t,o)=>{var r=o(210929),a=o(919653);a.$selectedIndex.reset(a.fireResetSelectionIndex),a.$itemsIndex.reset(a.fireResetItemsIndex),(0,r.sample)({clock:[a.fireUpSelectionIndex,a.fireDownSelectionIndex],fn:()=>!1,target:a.$isMouseActive}),(0,r.sample)({clock:a.fireSetSelectionIndexByItem,fn:()=>!0,target:a.$isMouseActive}),(0,r.sample)({clock:a.fireSetSelectionIndexByItem,source:a.$itemsIndex,fn:(e,t)=>e.findIndex((e=>e.id===t))||-1,target:a.$selectedIndex}),(0,r.sample)({clock:a.fireDownSelectionIndex,source:{itemsIndex:a.$itemsIndex,selectedIndex:a.$selectedIndex},fn:({itemsIndex:e,selectedIndex:t})=>e.length?(t+1)%e.length:-1,target:a.$selectedIndex}),(0,r.sample)({clock:a.fireUpSelectionIndex,source:{itemsIndex:a.$itemsIndex,selectedIndex:a.$selectedIndex},fn:({itemsIndex:e,selectedIndex:t})=>e.length?t-1<0?e.length-1:t-1:-1,target:a.$selectedIndex}),(0,r.sample)({clock:a.fireSetItemIndex,source:a.$itemsIndex,fn:(e,t)=>{if(null===t)return[];const o=[...e],r=o.findIndex((e=>e.id===t.id));return-1!==r&&(o[r]=t),o.push(t),o},target:a.$itemsIndex})},556091:(e,t,o)=>{o.d(t,{$links:()=>r});const r=o(232824).appDomain.createDomain("SEARCH_TOP/LINKS").createStore([],{name:"links"})},46242:(e,t,o)=>{var r=o(210929),a=o(919653);(0,r.sample)({clock:a.$extendedData,source:a.$links,filter:(e,t)=>{var o;return!!(null===(o=null==t?void 0:t.links)||void 0===o?void 0:o.length)},fn:(e,t)=>{var o;if(null===(o=null==t?void 0:t.links)||void 0===o?void 0:o.length){const o=t.links.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...o]}return e},target:a.$links})},145392:(e,t,o)=>{o.d(t,{$miniApps:()=>r});const r=o(232824).appDomain.createDomain("SEARCH_TOP/MINI_APPS").createStore([],{name:"miniApps"})},892724:(e,t,o)=>{var r=o(210929),a=o(919653);(0,r.sample)({clock:a.$extendedData,source:a.$miniApps,filter:(e,t)=>{var o;return!!(null===(o=null==t?void 0:t.mini_apps)||void 0===o?void 0:o.length)},fn:(e,t)=>{var o;if(null===(o=null==t?void 0:t.mini_apps)||void 0===o?void 0:o.length){const o=t.mini_apps.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...o]}return e},target:a.$miniApps})},905578:(e,t,o)=>{o.d(t,{$placeholders:()=>r});const r=o(232824).appDomain.createDomain("SEARCH_TOP/PLACEHOLDERS").createStore([],{name:"placeholders"})},926985:(e,t,o)=>{var r=o(210929),a=o(919653);(0,r.sample)({clock:a.$extendedData,source:a.$placeholders,filter:(e,t)=>{var o;return!!(null===(o=null==t?void 0:t.placeholders)||void 0===o?void 0:o.length)},fn:(e,t)=>{var o;if(null===(o=null==t?void 0:t.placeholders)||void 0===o?void 0:o.length){const o=t.placeholders.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...o]}return e},target:a.$placeholders})},668385:(e,t,o)=>{o.d(t,{$profiles:()=>r});const r=o(232824).appDomain.createDomain("SEARCH_TOP/PROFILES").createStore(new Map,{name:"profiles"})},774300:(e,t,o)=>{var r=o(210929),a=o(919653);(0,r.sample)({clock:a.$extendedData,source:a.$profiles,filter:(e,t)=>{var o;return!!(null===(o=null==t?void 0:t.profiles)||void 0===o?void 0:o.length)},fn:(e,t)=>{if(null==t?void 0:t.profiles){const o=t.profiles.filter((t=>!e.has(t.id))),r=Array.from(e,(([,e])=>e));return new Map([...r,...o].map((e=>[e.id,e])))}return e},target:a.$profiles})},205437:(e,t,o)=>{o.d(t,{fireAddRecent:()=>s,fireClearRecent:()=>l,AddRecentEffectFx:()=>c,ClearRecentEffectFx:()=>d});var r=o(570655),a=o(919653),i=o(726562);const n=a.appDomain.createDomain("SEARCH_TOP/RECENT"),s=n.createEvent("fire/AddRecent"),l=n.createEvent("fire/ClearRecent"),c=n.createEffect({name:"fetch/AddRecent",handler:e=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){return(0,i.addRecent)(e)}))}),d=n.createEffect({name:"fetch/ClearRecent",handler:e=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){return(0,i.clearRecent)(e)}))})},423781:(e,t,o)=>{var r=o(210929),a=o(919653);(0,r.sample)({clock:a.fireAddRecent,target:a.AddRecentEffectFx}),(0,r.sample)({clock:a.fireClearRecent,target:a.ClearRecentEffectFx})},213061:(e,t,o)=>{o.d(t,{fireSearch:()=>s,fireCreateRequest:()=>l,fireSetUpRequest:()=>c,fireSetRequestToQueue:()=>d,fireRemoveRequestFromQueue:()=>u,fireSendRequest:()=>_,fireAbortRequest:()=>g,$pending:()=>v,$requestsQueue:()=>p,$fetchError:()=>f,AbortEffectFx:()=>S,SearchTopEffectFx:()=>m});var r=o(570655),a=o(232824),i=o(726562);const n=a.appDomain.createDomain("SEARCH_TOP/SEARCH"),s=n.createEvent("fire/Search"),l=n.createEvent("fire/CreateRequest"),c=n.createEvent("fire/SetUpRequest"),d=n.createEvent("fire/SetRequestToQueue"),u=n.createEvent("fire/RemoveRequestToQueue"),_=n.createEvent("fire/SendRequest"),g=n.createEvent("fire/AbortRequest"),v=n.createStore(!1,{name:"pending"}),p=n.createStore([],{name:"requestsQueue"}),f=n.createStore(!1,{name:"fetchError"}),S=n.createEffect({name:"get/AbortEffectFx",handler:e=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){e.forEach((e=>{var t,o,r;null===(r=null===(o=null===(t=e.fetchOptions)||void 0===t?void 0:t.controller)||void 0===o?void 0:o.abort)||void 0===r||r.call(o)}))}))}),m=n.createEffect({name:"get/SearchTopEffectFx",handler:e=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){var t,o;const r=null===(o=null===(t=e.fetchOptions)||void 0===t?void 0:t.controller)||void 0===o?void 0:o.signal;return{request:yield(0,i.getSearchTop)(e.data,{signal:r}),requestData:e}}))})},419875:(e,t,o)=>{var r=o(210929),a=o(919653),i=o(289406);(0,r.sample)({clock:a.fireSearch,fn:e=>({id:(0,i.createCacheId)(e),data:e}),target:a.fireCreateRequest}),(0,r.sample)({clock:a.fireAbortRequest,source:a.$requestsQueue,target:a.AbortEffectFx}),(0,r.sample)({clock:a.fireCreateRequest,source:a.$requestsQueue,fn:(e,t)=>{e.forEach((e=>{var t,o,r;null===(r=null===(o=null===(t=e.fetchOptions)||void 0===t?void 0:t.controller)||void 0===o?void 0:o.abort)||void 0===r||r.call(o)}));const o=new AbortController;return Object.assign(Object.assign({},t),{fetchOptions:{controller:o}})},target:a.fireSetUpRequest}),(0,r.sample)({clock:a.fireSetUpRequest,target:[a.fireSendRequest,a.fireSetRequestToQueue]}),(0,r.sample)({clock:a.fireSetRequestToQueue,source:a.$requestsQueue,fn:(e,t)=>[...e,t],target:a.$requestsQueue}),(0,r.sample)({clock:a.fireSendRequest,target:a.SearchTopEffectFx}),(0,r.sample)({clock:a.SearchTopEffectFx.pending,target:a.$pending}),(0,r.sample)({clock:a.SearchTopEffectFx.finally,fn:({params:e})=>e,target:a.fireRemoveRequestFromQueue}),(0,r.sample)({clock:a.SearchTopEffectFx.pending,fn:()=>!1,target:a.$fetchError}),(0,r.sample)({clock:a.SearchTopEffectFx.failData,source:a.$pending,filter:e=>!e,fn:()=>!0,target:a.$fetchError})},822952:(e,t,o)=>{o.d(t,{$displayResults:()=>s,fireSetResultsDisplay:()=>l,fireCancelStackPush:()=>c,CancelStackFilterFx:()=>d,CancelStackPushFx:()=>u});var r=o(232824),a=o(810890),i=o(762422);const n=r.appDomain.createDomain("SEARCH_TOP/MODAL"),s=n.createStore(!1,{name:"displayResults"}),l=n.createEvent("fire/SetResultsDisplay"),c=n.createEvent("fire/CancelStackPush"),d=n.createEffect({name:"remove/CancelStackFilter",handler:()=>{(0,a.cancelStackFilter)("top_search",!0)}}),u=n.createEffect({name:"remove/CancelStackFilter",handler:()=>{(0,a.cancelStackPush)("top_search",((e=!0)=>{if(e){const e=document.querySelector(`#${i.SEARCH_INPUT_ID}`);l(!1),null==e||e.blur()}else c()}),!0)}})},174821:(e,t,o)=>{var r=o(210929),a=o(919653);(0,r.sample)({clock:a.fireSetResultsDisplay,source:a.$displayResults,filter:(e,t)=>e!==t,fn:(e,t)=>t,target:a.$displayResults}),(0,r.sample)({clock:a.$displayResults,filter:e=>e,target:a.CancelStackPushFx}),(0,r.sample)({clock:a.$displayResults,filter:e=>!e,target:a.CancelStackFilterFx}),(0,r.sample)({clock:a.fireCancelStackPush,target:a.CancelStackPushFx})},289406:(e,t,o)=>{o.d(t,{topHeaderListener:()=>s,createCacheId:()=>l});var r=o(152278),a=o(873589),i=o(232864),n=o(762422);const s=()=>{(0,r.addEvent)(document,"mousedown",(e=>{const t=e.target,o=!((0,r.checkKeyboardEvent)(e)||(0,a.domClosest)("top_audio_layer_place",t)||(0,a.domClosest)("_ap_layer__close",t)||(0,a.domClosest)("layer_wrap",t)||(0,a.domClosest)("PortalNavigation",t)||(0,a.domClosest)("PortalNavigationDropdown",t)||(0,a.domClosest)("ObsceneTextAlertBox",t)||(null==t?void 0:t.closest('[data-search-top-target="true"]'))),s=!(null==t?void 0:t.closest(`#${n.SEARCH_INPUT_ID}`));o&&(0,i.topHeaderClose)((()=>!1),s)}))},l=e=>((e,t="",o)=>{const r=Object.entries(e).filter((([,e])=>!!e||0===e)).map((([e,t])=>o?`${o}[${encodeURIComponent(e)}]=${encodeURIComponent(t)}`:`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");return r?`${t}${r}`:""})(Object.keys(e).sort(((e,t)=>e.localeCompare(t))).reduce(((t,o)=>Object.assign(Object.assign({},t),{[o]:e[o]})),{}))},981138:(e,t,o)=>{o.d(t,{CatalogContext:()=>r});const r=(0,o(667294).createContext)({videos:[],groups:[],profiles:[],albums:[]})},736407:(e,t,o)=>{o.d(t,{SearchVideoCatalog:()=>g});var r=o(785893),a=o(667294),i=o(684351),n=o(269309),s=o(248363),l=o(81366),c=o(146524),d=o(99656),u=o(893383),_=o(981138);const g=()=>{var e,t,o,g;const[v,p]=(0,a.useState)(),f=(0,l.useSearchParams)(),S=null==v?void 0:v.catalog,m=null===(e=null==S?void 0:S.sections)||void 0===e?void 0:e.find((e=>(null==e?void 0:e.id)===(null==S?void 0:S.default_section))),h=(null==v?void 0:v.videos)?v.videos:[],E=null!==(t=null==v?void 0:v.groups)&&void 0!==t?t:[],I=null!==(o=null==v?void 0:v.profiles)&&void 0!==o?o:[],b=null!==(g=null==v?void 0:v.albums)&&void 0!==g?g:[],C=null==S?void 0:S.sections[(null==S?void 0:S.sections.length)-1];(0,a.useEffect)((()=>{const e=new AbortController;return f.has("q")?(i.Video.toggleSearchProgress(!0),(0,n.getVideoSearchBySearchParams)(f,e).then((e=>{p(e)})).finally((()=>{i.Video.setVisibilityShowcaseContent(!1),i.Video.toggleSearchProgress(!1)})),()=>{e.abort()}):(p(void 0),void i.Video.setVisibilityShowcaseContent(!0))}),[f]);const[O,T]=(0,a.useState)(!1),y=()=>{C&&m&&(T(!0),(0,n.getSection)({start_from:C.next_from,section_id:m.id}).then((e=>{p((t=>{var o,r,a,i,n,s,l,c;if((null==t?void 0:t.catalog)&&e.section){let d;return d=m.id===e.section.id?(0,u.getMutatedCatalogSections)(t.catalog.sections,m,e.section):[...t.catalog.sections,e.section],Object.assign(Object.assign({},t),{catalog:Object.assign(Object.assign({},t.catalog),{sections:d}),videos:(0,u.filterArrayOfUniqueByKey)([...null!==(o=t.videos)&&void 0!==o?o:[],...null!==(r=e.videos)&&void 0!==r?r:[]],"id"),groups:(0,u.filterArrayOfUniqueByKey)([...null!==(a=t.groups)&&void 0!==a?a:[],...null!==(i=e.groups)&&void 0!==i?i:[]],"id"),profiles:(0,u.filterArrayOfUniqueByKey)([...null!==(n=t.profiles)&&void 0!==n?n:[],...null!==(s=e.profiles)&&void 0!==s?s:[]],"id"),albums:(0,u.filterArrayOfUniqueByKey)([...null!==(l=t.albums)&&void 0!==l?l:[],...null!==(c=e.albums)&&void 0!==c?c:[]],"id")})}return t})),T(!1)})).catch((()=>{T(!1)})))};return(null==S?void 0:S.sections)?(0,r.jsx)(d.AppRootProvider,{children:(0,r.jsx)("div",Object.assign({className:"VideoLayout__contentsWrapper",style:{overflowAnchor:"none"}},{children:(0,r.jsx)("div",Object.assign({className:"VideoLayout__search",style:{display:"block"}},{children:(0,r.jsxs)(_.CatalogContext.Provider,Object.assign({value:{videos:h,groups:E,profiles:I,albums:b}},{children:[(0,r.jsx)(s.Catalog,{sections:S.sections},void 0),C&&C.next_from&&(0,r.jsx)(c.DynamicPagination,{isLoading:O,fetchData:y,nextFrom:C.next_from},void 0)]}),void 0)}),void 0)}),void 0)},void 0):null}},269309:(e,t,o)=>{o.d(t,{getVideoSearchBySearchParams:()=>n,addVideo:()=>s,deleteVideo:()=>l,getSection:()=>c});var r=o(189798),a=o(294755),i=o(893383);function n(e,t=null){let o={};return t&&(o={signal:t.signal}),((e,t={})=>(0,r.api)(a.CATALOG_API_METHODS.GET_VIDEO_SEARCH,Object.assign({},e),void 0,t))((0,i.getParamsForVideoSearchCatalog)(e),o)}function s(e){return(0,r.api)(a.CATALOG_API_METHODS.ADD_VIDEO,e)}function l(e){return(0,r.api)(a.CATALOG_API_METHODS.DELETE_VIDEO,e)}function c(e,t){return(0,r.api)(a.CATALOG_API_METHODS.GET_SECTION,Object.assign({},e),void 0,t)}},294755:(e,t,o)=>{o.d(t,{CATALOG_API_METHODS:()=>r,SHORTER_FILTER_DURATION:()=>a,LONGER_FILTER_DURATION:()=>i});const r={ADD_VIDEO:"video.add",GET_VIDEO_SEARCH:"catalog.getVideoSearchWeb2",DELETE_VIDEO:"video.delete",GET_SECTION:"catalog.getSection"},a=300,i=1200},81366:(e,t,o)=>{o.d(t,{useSearchParams:()=>a});var r=o(667294);const a=()=>{const[e,t]=(0,r.useState)((()=>new URLSearchParams(document.location.search)));return(0,r.useEffect)((()=>{let e="";const o=new MutationObserver((function(){const o=new URLSearchParams(document.location.search);o.delete("z");const r=o.toString();r!==e&&(e=r,t(new URLSearchParams(r)))}));return o.observe(document,{subtree:!0,childList:!0}),()=>{o.disconnect()}}),[]),e}},893383:(e,t,o)=>{o.d(t,{filterArrayOfUniqueByKey:()=>a,getMutatedCatalogSections:()=>i,getParamsForVideoSearchCatalog:()=>n});var r=o(294755);function a(e,t){return[...new Map(e.map((e=>[e[t],e]))).values()]}function i(e,t,o){const r=e.findIndex((({id:e})=>e===t.id));if(-1===r||!t.blocks||!o.blocks)return e;const a=Object.assign(Object.assign({},t),{blocks:[...t.blocks,...o.blocks],next_from:o.next_from});return[...e.slice(0,r-1),a,...e.slice(r+1)]}function n(e){var t;const o={},a={order:"sort",notsafe:"adult"};for(const[i,n]of e)if("len"===i){const e="1"===n?"shorter":"longer";o[e]="shorter"===e?`${r.SHORTER_FILTER_DURATION}`:`${r.LONGER_FILTER_DURATION}`}else o[null!==(t=a[i])&&void 0!==t?t:i]=n;return o}},243517:(e,t,o)=>{o.d(t,{getTriggersMap:()=>n});var r,a=o(684351),i=o(559427);!function(e){e.VIDEO="video"}(r||(r={}));const n=e=>e===r.VIDEO?{triggerSearch:a.Video.onSearchInputChange,onBlur:a.Video.onSearchInputBlur,onFilterRemoved:a.Video.onFilterRemoved,onFiltersChanged:i.VideoShowcase.onSearchFiltersChanged}:null}},__webpack_module_cache__={},deferred,leafPrototypes,getProto,inProgress,loadStylesheet,installedCssChunks;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(o.exports,o,o.exports,__webpack_require__),o.loaded=!0,o.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,o,r)=>{if(!t){var a=1/0;for(l=0;l<deferred.length;l++){for(var[t,o,r]=deferred[l],i=!0,n=0;n<t.length;n++)(!1&r||a>=r)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[n])))?t.splice(n--,1):(i=!1,r<a&&(a=r));if(i){deferred.splice(l--,1);var s=o();void 0!==s&&(e=s)}}return e}r=r||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>r;l--)deferred[l]=deferred[l-1];deferred[l]=[t,o,r]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var o=Object.create(null);__webpack_require__.r(o);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var a=2&t&&e;"object"==typeof a&&!~leafPrototypes.indexOf(a);a=getProto(a))Object.getOwnPropertyNames(a).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(o,r),o},__webpack_require__.d=(e,t)=>{for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,o)=>(__webpack_require__.f[o](e,t),t)),[])),__webpack_require__.u=e=>9375===e?"voice_message_player.a24b5302dda38f2690dc.js":28762===e?"speech.2ae50810d84f10a5626e.js":57468===e?"SilentModeForms.f50c33cf80f4ac9afc47.js":75980===e?"menu_settings.0f17151bd588fe6a5267.js":60593===e?"ui_scroll.0e81f54dc53d26e62ea7.js":36315===e?"indexer.8586870b6be73c206535.js":90927===e?"grid_sorter.734adf5ec61c83e2c182.js":89658===e?"video_groups_redesign.cba11818f909c18807a3.js":23650===e?"upload.7f82bf57ce79d6119264.js":45723===e?"videoview.f85cf45e7334bcf19d6c.js":67604===e?"likes.71afa69dacbd561ff216.js":16957===e?"video_showcase_onboarding.ad000e5363651f73f6da.js":63161===e?"video_showcase_nps.6059036623eccbd9efe3.js":62795===e?"video_tabs.639da0c35a0230e96bdd.js":52974===e?"videoplayer_v2.eba2e051230441b01f82.js":29019===e?"ReportForm.1b63c7385d20fd86c921.js":74212===e?e+".14e0f9796c0c57245f77.js":24817===e?"hls.adaccbd025e62e5df8f2.js":72709===e?"0bceef6ad055b21676eba8b130f26dc1.9279ef2dae3d1156bac4.js":1229===e?"93542b88e81b47e7ba46412cb82c1d05.cf5ee7d89d5bd8c379f3.js":39262===e?"28e4257a346db314c3cfa2c0afc1285f.7a8380b63a20b8d6dc47.js":93592===e?"0a89e248d4637167079ed846a08e08e5.8f5ca0eaa0bf73c20ae0.js":13863===e?"360f4e9e4ee7d5da79486dab0efdbaf0.f2d1f32e21514de30a37.js":void 0,__webpack_require__.miniCssF=e=>e+"."+{16957:"e896b26981701dff5f07",29019:"b2496d8ef6849a2fecca",45723:"10758c2b52abd0fd78c3",57468:"36d8e7db328f8ee92e7d",62795:"8bbef1d5b8ed35d16577",63161:"6bf984d6a30b52c52aef",75980:"519f671449550110bbb1",89658:"f1c837eadee58c683f7d"}[e]+".css",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,o,r)=>{if(inProgress[e])inProgress[e].push(t);else{var a,i;if(void 0!==o)for(var n=document.getElementsByTagName("script"),s=0;s<n.length;s++){var l=n[s];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")=="vk:"+o){a=l;break}}a||(i=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack","vk:"+o),a.src=e),inProgress[e]=[t];var c=(t,o)=>{a.onerror=a.onload=null,clearTimeout(d);var r=inProgress[e];if(delete inProgress[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(o))),t)return t(o)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror),a.onload=c.bind(null,a.onload),i&&document.head.appendChild(a)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",loadStylesheet=e=>new Promise(((t,o)=>{var r=__webpack_require__.miniCssF(e),a=__webpack_require__.p+r;if(((e,t)=>{for(var o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var a=(n=o[r]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(a===e||a===t))return n}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var n;if((a=(n=i[r]).getAttribute("data-href"))===e||a===t)return n}})(r,a))return t();((e,t,o,r)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=i=>{if(a.onerror=a.onload=null,"load"===i.type)o();else{var n=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=s,a.parentNode.removeChild(a),r(l)}},a.href=t,document.head.appendChild(a)})(e,a,t,o)})),installedCssChunks={45973:0},__webpack_require__.f.miniCss=(e,t)=>{installedCssChunks[e]?t.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{16957:1,29019:1,45723:1,57468:1,62795:1,63161:1,75980:1,89658:1}[e]&&t.push(installedCssChunks[e]=loadStylesheet(e).then((()=>{installedCssChunks[e]=0}),(t=>{throw delete installedCssChunks[e],t})))},(()=>{var e={45973:0};__webpack_require__.f.j=(t,o)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else if(75980!=t){var a=new Promise(((o,a)=>r=e[t]=[o,a]));o.push(r[2]=a);var i=__webpack_require__.p+__webpack_require__.u(t),n=new Error;__webpack_require__.l(i,(o=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;n.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",n.name="ChunkLoadError",n.type=a,n.request=i,r[1](n)}}),"chunk-"+t,t)}else e[t]=0},__webpack_require__.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[i,n,s]=o,l=0;for(r in n)__webpack_require__.o(n,r)&&(__webpack_require__.m[r]=n[r]);if(s)var c=s(__webpack_require__);for(t&&t(o);l<i.length;l++)a=i[l],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[i[l]]=0;return __webpack_require__.O(c)},o=self.webpackChunkvk=self.webpackChunkvk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var __webpack_exports__=__webpack_require__.O(void 0,[76429,75514,24509,56990,98066,76400,40885,68592,98245,61317,33822],(()=>__webpack_require__(935472)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();